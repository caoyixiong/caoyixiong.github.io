<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaScript 备忘清单 | 太空毅栈</title><meta name="author" content="太空毅栈"><meta name="copyright" content="太空毅栈"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="包含最重要概念、函数、方法等的 JavaScript 备忘单。 初学者的完整快速参考。 入门介绍JavaScript 是一种轻量级的解释型编程语言。  JSON 备忘清单 JavaScript 中的正则表达式 TypeScript 备忘清单  打印调试&#x2F;&#x2F; &#x3D;&gt; Hello world!console.log(&#x27;Hello world!&#x27;);&#x2F;&#x2F; &#x3D;&gt; Hello">
<meta property="og:type" content="website">
<meta property="og:title" content="JavaScript 备忘清单">
<meta property="og:url" content="https://caoyixiong.com/reference/javascript/index.html">
<meta property="og:site_name" content="太空毅栈">
<meta property="og:description" content="包含最重要概念、函数、方法等的 JavaScript 备忘单。 初学者的完整快速参考。 入门介绍JavaScript 是一种轻量级的解释型编程语言。  JSON 备忘清单 JavaScript 中的正则表达式 TypeScript 备忘清单  打印调试&#x2F;&#x2F; &#x3D;&gt; Hello world!console.log(&#x27;Hello world!&#x27;);&#x2F;&#x2F; &#x3D;&gt; Hello">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://caoyixiong.com/img/avatar.jpg">
<meta property="article:published_time" content="2024-08-10T06:16:15.777Z">
<meta property="article:modified_time" content="2024-08-10T06:16:15.777Z">
<meta property="article:author" content="太空毅栈">
<meta property="article:tag" content="博客，生活，技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://caoyixiong.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="https://caoyixiong.com/reference/javascript/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"3NQ1I8Z7GZ","apiKey":"df5bcd27157ba7efa007752258f185fd","indexName":"blog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 太空毅栈","link":"链接: ","source":"来源: 太空毅栈","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript 备忘清单',
  isPost: false,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-10 14:16:15'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/universe.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url('/img/home.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="太空毅栈"><img class="site-icon" src="/img/logo.png"/><span class="site-name">太空毅栈</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">JavaScript 备忘清单</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><p>包含最重要概念、函数、方法等的 JavaScript 备忘单。 初学者的完整快速参考。</p>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>JavaScript 是一种轻量级的解释型编程语言。</p>
<ul>
<li><a href="json.md">JSON 备忘清单</a></li>
<li><a href="./regex.md#javascript-%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F">JavaScript 中的正则表达式</a></li>
<li><a href="./typescript.md">TypeScript 备忘清单</a></li>
</ul>
<h3 id="打印调试"><a href="#打印调试" class="headerlink" title="打印调试"></a>打印调试</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// =&gt; Hello world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello world!&#x27;</span>);</span><br><span class="line"><span class="comment">// =&gt; Hello QuickReference</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;hello %s&#x27;</span>, <span class="string">&#x27;QuickReference&#x27;</span>);</span><br><span class="line"><span class="comment">// 将错误消息打印到 stderr</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Oops!&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="断点调试"><a href="#断点调试" class="headerlink" title="断点调试"></a>断点调试</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">potentiallyBuggyCode</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">debugger</span>;</span><br><span class="line">  <span class="comment">// 做可能有问题的东西来检查，逐步通过等。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>debugger</strong> 语句调用任何可用的调试功能。</p>
<h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> amount = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">let</span> price = <span class="number">4.99</span>;</span><br><span class="line"><span class="keyword">let</span> home = <span class="number">1e2</span>;</span><br><span class="line"><span class="keyword">let</span> num = <span class="number">1_000_000</span>; <span class="comment">// 位数过多可以用 _ 分割</span></span><br><span class="line"><span class="keyword">let</span> m = <span class="number">0644</span>;   <span class="comment">// 八进制数字 420</span></span><br></pre></td></tr></table></figure>

<h3 id="let-关键字"><a href="#let-关键字" class="headerlink" title="let 关键字"></a>let 关键字</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> count; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count); <span class="comment">// =&gt; undefined</span></span><br><span class="line">count = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count); <span class="comment">// =&gt; 10</span></span><br></pre></td></tr></table></figure>

<h3 id="const-关键字"><a href="#const-关键字" class="headerlink" title="const 关键字"></a>const 关键字</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numberOfColumns = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// TypeError: Assignment to constant...</span></span><br><span class="line">numberOfColumns = <span class="number">8</span>;</span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;Tammy&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> found = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">// =&gt; Tammy, false, null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name, found, x);</span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// =&gt; undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> single = <span class="string">&#x27;Wheres my bandit hat?&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> double = <span class="string">&quot;Wheres my bandit hat?&quot;</span>;</span><br><span class="line"><span class="comment">// =&gt; 21</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(single.<span class="property">length</span>);</span><br></pre></td></tr></table></figure>

<h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">5</span> + <span class="number">5</span> = <span class="number">10</span>     <span class="comment">// 加法 Addition</span></span><br><span class="line"><span class="number">10</span> - <span class="number">5</span> = <span class="number">5</span>     <span class="comment">// 减法 Subtraction</span></span><br><span class="line"><span class="number">5</span> * <span class="number">10</span> = <span class="number">50</span>    <span class="comment">// 乘法 Multiplication</span></span><br><span class="line"><span class="number">10</span> / <span class="number">5</span> = <span class="number">2</span>     <span class="comment">// 除法 Division</span></span><br><span class="line"><span class="number">10</span> % <span class="number">5</span> = <span class="number">0</span>     <span class="comment">// 取模 Modulo</span></span><br></pre></td></tr></table></figure>

<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 此行将表示注释</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">多行配置</span></span><br><span class="line"><span class="comment">部署前必须更改</span></span><br><span class="line"><span class="comment">以下配置。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// 两个语句都会加 10</span></span><br><span class="line">number = number + <span class="number">10</span>;</span><br><span class="line">number += <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number); </span><br><span class="line"><span class="comment">// =&gt; 120</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串插值"><a href="#字符串插值" class="headerlink" title="字符串插值"></a>字符串插值</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">7</span>;</span><br><span class="line"><span class="comment">// 字符串拼接</span></span><br><span class="line"><span class="string">&#x27;Tommy is &#x27;</span> + age + <span class="string">&#x27; years old.&#x27;</span>;</span><br><span class="line"><span class="comment">// 字符串插值</span></span><br><span class="line"><span class="string">`Tommy is <span class="subst">$&#123;age&#125;</span> years old.`</span>;</span><br></pre></td></tr></table></figure>

<h3 id="字符串-1"><a href="#字符串-1" class="headerlink" title="字符串"></a>字符串</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> abc = <span class="string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> esc = <span class="string">&#x27;I don\&#x27;t \n know&#x27;</span>;    <span class="comment">// \n 换行</span></span><br><span class="line"><span class="keyword">var</span> len = abc.<span class="property">length</span>;            <span class="comment">// 字符串长度</span></span><br><span class="line">abc.<span class="title function_">indexOf</span>(<span class="string">&quot;lmno&quot;</span>);             <span class="comment">// 查找子字符串，如果不包含则 -1</span></span><br><span class="line">abc.<span class="title function_">lastIndexOf</span>(<span class="string">&quot;lmno&quot;</span>);         <span class="comment">// 最后一次出现</span></span><br><span class="line">abc.<span class="title function_">slice</span>(<span class="number">3</span>, <span class="number">6</span>);                 <span class="comment">// 去掉“def”，负值从后面计算</span></span><br><span class="line">abc.<span class="title function_">replace</span>(<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;123&quot;</span>);        <span class="comment">// 查找和替换，接受正则表达式</span></span><br><span class="line">abc.<span class="title function_">toUpperCase</span>();               <span class="comment">// 转换为大写</span></span><br><span class="line">abc.<span class="title function_">toLowerCase</span>();               <span class="comment">// 转换为小写</span></span><br><span class="line">abc.<span class="title function_">concat</span>(<span class="string">&quot; &quot;</span>, str2);           <span class="comment">// abc + &quot; &quot; + str2</span></span><br><span class="line">abc.<span class="title function_">charAt</span>(<span class="number">2</span>);                   <span class="comment">// 索引处的字符：“c”</span></span><br><span class="line">abc[<span class="number">2</span>];                          <span class="comment">// 不安全，abc[2] = &quot;C&quot; 不起作用</span></span><br><span class="line"><span class="comment">// 索引处的字符代码：“c”-&gt; 99</span></span><br><span class="line">abc.<span class="title function_">charCodeAt</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 用逗号分割字符串给出一个数组</span></span><br><span class="line">abc.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"><span class="comment">// 分割字符</span></span><br><span class="line">abc.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="comment">// 匹配开头字符串,如果忽略第二个参数，则从索引 0 开始匹配</span></span><br><span class="line">abc.<span class="title function_">startsWith</span>(<span class="string">&quot;bc&quot;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">// 匹配结尾的字符串,如果忽略第二个参数，则默认是原字符串长度</span></span><br><span class="line">abc.<span class="title function_">endsWith</span>(<span class="string">&quot;wxy&quot;</span>, abc.<span class="property">length</span> - <span class="number">1</span>);</span><br><span class="line"><span class="comment">// padEnd 和 padStart 都用于填充长度，默认填充对象是空格</span></span><br><span class="line"><span class="string">&quot;200&quot;</span>.<span class="title function_">padEnd</span>(<span class="number">5</span>); <span class="comment">// &quot;200  &quot;</span></span><br><span class="line"><span class="string">&quot;200&quot;</span>.<span class="title function_">padEnd</span>(<span class="number">5</span>, <span class="string">&quot;.&quot;</span>); <span class="comment">// &quot;200..&quot;</span></span><br><span class="line"><span class="comment">// 重复字符</span></span><br><span class="line"><span class="string">&quot;abc&quot;</span>.<span class="title function_">repeat</span>(<span class="number">2</span>); <span class="comment">// &quot;abcabc&quot;</span></span><br><span class="line"><span class="comment">// trim、trimEnd 和 trimStart 用于去除首尾空格</span></span><br><span class="line"><span class="string">&quot; ab c &quot;</span>.<span class="title function_">trim</span>(); <span class="comment">// &quot;ab c&quot;</span></span><br><span class="line"><span class="comment">// 数字转为十六进制 (16)、八进制 (8) 或二进制 (2)</span></span><br><span class="line">(<span class="number">128</span>).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br></pre></td></tr></table></figure>

<h3 id="数字-1"><a href="#数字-1" class="headerlink" title="数字"></a>数字</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> pi = <span class="number">3.141</span>;</span><br><span class="line">pi.<span class="title function_">toFixed</span>(<span class="number">0</span>);    <span class="comment">// 返回 3             </span></span><br><span class="line">pi.<span class="title function_">toFixed</span>(<span class="number">2</span>);    <span class="comment">// 返回 3.14 - 使用金钱</span></span><br><span class="line">pi.<span class="title function_">toPrecision</span>(<span class="number">2</span>) <span class="comment">// 返回 3.1</span></span><br><span class="line">pi.<span class="title function_">valueOf</span>();     <span class="comment">// 返回号码</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">true</span>);     <span class="comment">// 转换为数字</span></span><br><span class="line"><span class="comment">// 自 1970 年以来的毫秒数</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())          </span><br><span class="line"><span class="comment">// 返回第一个数字：3</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;3 months&quot;</span>);       </span><br><span class="line"><span class="comment">// 返回 3.5</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;3.5 days&quot;</span>);     </span><br><span class="line"><span class="comment">// 最大可能的 JS 数</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="property">MAX_VALUE</span>            </span><br><span class="line"><span class="comment">// 最小可能的 JS 编号</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="property">MIN_VALUE</span>            </span><br><span class="line"><span class="comment">// -无穷</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="property">NEGATIVE_INFINITY</span>    </span><br><span class="line"><span class="comment">// 无穷</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="property">POSITIVE_INFINITY</span>    </span><br></pre></td></tr></table></figure>

<h4 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h4><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> pi = <span class="title class_">Math</span>.<span class="property">PI</span>; <span class="comment">// 3.141592653589793</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">4.4</span>); <span class="comment">// = 4 - 数字四舍五入</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">4.5</span>); <span class="comment">// = 5</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>,<span class="number">8</span>);   <span class="comment">// = 256 - 2 的 8 次方    </span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">sqrt</span>(<span class="number">49</span>);   <span class="comment">// = 7 - 平方根</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">abs</span>(-<span class="number">3.14</span>); <span class="comment">// = 3.14 - 绝对，正值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="number">3.14</span>); <span class="comment">// = 4 - 返回 &gt;= 最小整数</span></span><br><span class="line"><span class="comment">// = 3 - 返回 &lt;= 最大整数</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">3.99</span>);       </span><br><span class="line"><span class="comment">// = 0 - 正弦</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">sin</span>(<span class="number">0</span>);            </span><br><span class="line"><span class="comment">// OTHERS: tan,atan,asin,acos,余弦值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">cos</span>(<span class="title class_">Math</span>.<span class="property">PI</span>);      </span><br><span class="line"><span class="comment">// = -2 - 最低值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">0</span>, <span class="number">3</span>, -<span class="number">2</span>, <span class="number">2</span>);  </span><br><span class="line"><span class="comment">// = 3 - 最高值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, <span class="number">3</span>, -<span class="number">2</span>, <span class="number">2</span>);  </span><br><span class="line"><span class="comment">// = 0 自然对数</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">log</span>(<span class="number">1</span>);            </span><br><span class="line"><span class="comment">// = 2.7182pow(E,x) 自然对数的底数</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">exp</span>(<span class="number">1</span>);            </span><br><span class="line"><span class="comment">// 0 到 1 之间的随机数</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">random</span>();          </span><br><span class="line"><span class="comment">// 随机整数，从 1</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">5</span>) + <span class="number">1</span>;  </span><br></pre></td></tr></table></figure>

<h3 id="全局函数"><a href="#全局函数" class="headerlink" title="全局函数"></a>全局函数</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 像脚本代码一样执行字符串</span></span><br><span class="line"><span class="built_in">eval</span>();                     </span><br><span class="line"><span class="comment">// 从数字返回字符串</span></span><br><span class="line"><span class="title class_">String</span>(<span class="number">23</span>);                 </span><br><span class="line"><span class="comment">// 从数字返回字符串</span></span><br><span class="line">(<span class="number">23</span>).<span class="title function_">toString</span>();            </span><br><span class="line"><span class="comment">// 从字符串返回数字</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&quot;23&quot;</span>);               </span><br><span class="line"><span class="comment">// 解码 URI。 结果：“my page.asp”</span></span><br><span class="line"><span class="built_in">decodeURI</span>(enc);             </span><br><span class="line"><span class="comment">// 编码 URI。 结果：“my%20page.asp”</span></span><br><span class="line"><span class="built_in">encodeURI</span>(uri);             </span><br><span class="line"><span class="comment">// 解码 URI 组件</span></span><br><span class="line"><span class="built_in">decodeURIComponent</span>(enc);    </span><br><span class="line"><span class="comment">// 对 URI 组件进行编码</span></span><br><span class="line"><span class="built_in">encodeURIComponent</span>(uri);    </span><br><span class="line"><span class="comment">// 是一个有限的合法数</span></span><br><span class="line"><span class="built_in">isFinite</span>();                 </span><br><span class="line"><span class="comment">// 是一个非法数字</span></span><br><span class="line"><span class="built_in">isNaN</span>();                    </span><br><span class="line"><span class="comment">// 返回字符串的浮点数</span></span><br><span class="line"><span class="built_in">parseFloat</span>();               </span><br><span class="line"><span class="comment">// 解析一个字符串并返回一个整数</span></span><br><span class="line"><span class="built_in">parseInt</span>();                 </span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-条件"><a href="#JavaScript-条件" class="headerlink" title="JavaScript 条件"></a>JavaScript 条件</h2><h3 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h3><!--rehype:wrap-class=row-span-3-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span> || <span class="literal">false</span>;       <span class="comment">// true</span></span><br><span class="line"><span class="number">10</span> &gt; <span class="number">5</span> || <span class="number">10</span> &gt; <span class="number">20</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="literal">false</span> || <span class="literal">false</span>;      <span class="comment">// false</span></span><br><span class="line"><span class="number">10</span> &gt; <span class="number">100</span> || <span class="number">10</span> &gt; <span class="number">20</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符 &amp;&amp;"></a>逻辑运算符 &amp;&amp;</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">true</span> &amp;&amp; <span class="literal">true</span>;        <span class="comment">// true</span></span><br><span class="line"><span class="number">1</span> &gt; <span class="number">2</span> &amp;&amp; <span class="number">2</span> &gt; <span class="number">1</span>;      <span class="comment">// false</span></span><br><span class="line"><span class="literal">true</span> &amp;&amp; <span class="literal">false</span>;       <span class="comment">// false</span></span><br><span class="line"><span class="number">4</span> === <span class="number">4</span> &amp;&amp; <span class="number">3</span> &gt; <span class="number">1</span>;    <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> &gt; <span class="number">3</span>                 <span class="comment">// false</span></span><br><span class="line"><span class="number">3</span> &gt; <span class="number">1</span>                 <span class="comment">// true</span></span><br><span class="line"><span class="number">250</span> &gt;= <span class="number">250</span>            <span class="comment">// true</span></span><br><span class="line"><span class="number">1</span> === <span class="number">1</span>               <span class="comment">// true</span></span><br><span class="line"><span class="number">1</span> === <span class="number">2</span>               <span class="comment">// false</span></span><br><span class="line"><span class="number">1</span> === <span class="string">&#x27;1&#x27;</span>             <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="逻辑运算符-1"><a href="#逻辑运算符-1" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> lateToWork = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> oppositeValue = !lateToWork;</span><br><span class="line"><span class="comment">// =&gt; false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(oppositeValue); </span><br></pre></td></tr></table></figure>

<h4 id="空值合并运算符"><a href="#空值合并运算符" class="headerlink" title="空值合并运算符 ??"></a>空值合并运算符 ??</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">null</span> ?? <span class="string">&#x27;I win&#x27;</span>;         <span class="comment">//  &#x27;I win&#x27;</span></span><br><span class="line"><span class="literal">undefined</span> ?? <span class="string">&#x27;Me too&#x27;</span>;   <span class="comment">//  &#x27;Me too&#x27;</span></span><br><span class="line"><span class="literal">false</span> ?? <span class="string">&#x27;I lose&#x27;</span>        <span class="comment">//  false</span></span><br><span class="line"><span class="number">0</span> ?? <span class="string">&#x27;I lose again&#x27;</span>      <span class="comment">//  0</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span> ?? <span class="string">&#x27;Damn it&#x27;</span>          <span class="comment">//  &#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="if-Statement-if-语句"><a href="#if-Statement-if-语句" class="headerlink" title="if Statement (if 语句)"></a>if Statement (if 语句)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isMailSent = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span> (isMailSent) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Mail sent to recipient&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Ternary-Operator-三元运算符"><a href="#Ternary-Operator-三元运算符" class="headerlink" title="Ternary Operator (三元运算符)"></a>Ternary Operator (三元运算符)</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"><span class="keyword">var</span> status = (age &gt;= <span class="number">18</span>) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<h3 id="else-if"><a href="#else-if" class="headerlink" title="else if"></a>else if</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> size = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span> (size &gt; <span class="number">20</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Medium&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (size &gt; <span class="number">4</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Small&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Tiny&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Print: Small</span></span><br></pre></td></tr></table></figure>

<h3 id="vs"><a href="#vs" class="headerlink" title="&#x3D;&#x3D; vs &#x3D;&#x3D;&#x3D;"></a>&#x3D;&#x3D; vs &#x3D;&#x3D;&#x3D;</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> == <span class="literal">false</span>     <span class="comment">// true</span></span><br><span class="line"><span class="number">0</span> === <span class="literal">false</span>    <span class="comment">// false, 不同类型</span></span><br><span class="line"><span class="number">1</span> == <span class="string">&quot;1&quot;</span>       <span class="comment">// true,  自动类型转换</span></span><br><span class="line"><span class="number">1</span> === <span class="string">&quot;1&quot;</span>      <span class="comment">// false, 不同类型</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>  <span class="comment">// true</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line"><span class="string">&#x27;0&#x27;</span> == <span class="literal">false</span>       <span class="comment">// true</span></span><br><span class="line"><span class="string">&#x27;0&#x27;</span> === <span class="literal">false</span>      <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><code>==</code> 只检查值，<code>===</code> 检查值和类型。</p>
<h3 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> food = <span class="string">&#x27;salad&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (food) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;oyster&#x27;</span>: <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;海的味道&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;pizza&#x27;</span>: <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;美味的馅饼&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;请您用餐&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="switch-多-case-单一操作"><a href="#switch-多-case-单一操作" class="headerlink" title="switch 多 case - 单一操作"></a>switch 多 case - 单一操作</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> food = <span class="string">&#x27;salad&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (food) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;oyster&#x27;</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;pizza&#x27;</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;美味的馅饼&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;请您用餐&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-Functions-函数"><a href="#JavaScript-Functions-函数" class="headerlink" title="JavaScript Functions 函数"></a>JavaScript Functions 函数</h2><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义函数：</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用函数：</span></span><br><span class="line"><span class="title function_">sum</span>(<span class="number">3</span>, <span class="number">6</span>); <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>

<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 命名函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">rocketToMars</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;BOOM!&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 匿名函数</span></span><br><span class="line"><span class="keyword">const</span> rocketToMars = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;BOOM!&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="箭头函数-ES6"><a href="#箭头函数-ES6" class="headerlink" title="箭头函数 (ES6)"></a>箭头函数 (ES6)</h3><!--rehype:wrap-class=row-span-3-->

<h4 id="有两个参数"><a href="#有两个参数" class="headerlink" title="有两个参数"></a>有两个参数</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">sum</span> = (<span class="params">param1, param2</span>) =&gt; &#123; </span><br><span class="line">  <span class="keyword">return</span> param1 + param2; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">2</span>,<span class="number">5</span>)); <span class="comment">// =&gt; 7 </span></span><br></pre></td></tr></table></figure>

<h4 id="没有参数"><a href="#没有参数" class="headerlink" title="没有参数"></a>没有参数</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">printHello</span> = (<span class="params"></span>) =&gt; &#123; </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>); </span><br><span class="line">&#125;; </span><br><span class="line"><span class="title function_">printHello</span>(); <span class="comment">// =&gt; hello</span></span><br></pre></td></tr></table></figure>

<h4 id="只有一个参数"><a href="#只有一个参数" class="headerlink" title="只有一个参数"></a>只有一个参数</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">checkWeight</span> = weight =&gt; &#123; </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Weight : <span class="subst">$&#123;weight&#125;</span>`</span>); </span><br><span class="line">&#125;; </span><br><span class="line"><span class="title function_">checkWeight</span>(<span class="number">25</span>); <span class="comment">// =&gt; Weight : 25 </span></span><br></pre></td></tr></table></figure>

<h4 id="简洁箭头函数"><a href="#简洁箭头函数" class="headerlink" title="简洁箭头函数"></a>简洁箭头函数</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">multiply</span> = (<span class="params">a, b</span>) =&gt; a * b; </span><br><span class="line"><span class="comment">// =&gt; 60 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">multiply</span>(<span class="number">2</span>, <span class="number">30</span>)); </span><br></pre></td></tr></table></figure>

<p>从 ES2015 开始提供<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">箭头函数</a></p>
<h3 id="返回关键字"><a href="#返回关键字" class="headerlink" title="返回关键字"></a>返回关键字</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 有 return</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 该函数不输出总和</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  num1 + num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="title function_">sum</span>(<span class="number">2</span>, <span class="number">4</span>); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<h3 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//命名函数并立即执行一次</span></span><br><span class="line">(<span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;)(<span class="number">2</span>,<span class="number">4</span>)<span class="comment">//6</span></span><br></pre></td></tr></table></figure>

<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> dog = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Woof!&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 参数是 name</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>!`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-范围"><a href="#JavaScript-范围" class="headerlink" title="JavaScript 范围"></a>JavaScript 范围</h2><h3 id="范围"><a href="#范围" class="headerlink" title="范围"></a>范围</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> pizzaName = <span class="string">&quot;Margarita&quot;</span>;</span><br><span class="line">  <span class="comment">// 这里的代码可以使用 PizzaName</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ❌ PizzaName 不能在这里使用</span></span><br></pre></td></tr></table></figure>

<p><code>&#123; &#125;</code> 块内声明的变量</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ❌ x 不能在这里使用</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ✅ x 能在这里使用</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">2</span>;       <span class="comment">// Global scope</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">2</span>;       <span class="comment">// Global scope</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="number">2</span>;       <span class="comment">// Global scope</span></span><br></pre></td></tr></table></figure>

<p>ES6 引入了两个重要的新 JavaScript 关键字：let 和 const。这两个关键字在 JavaScript 中提供了块作用域。</p>
<h3 id="块作用域变量"><a href="#块作用域变量" class="headerlink" title="块作用域变量"></a>块作用域变量</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isLoggedIn = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span> (isLoggedIn == <span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> statusMessage = <span class="string">&#x27;Logged in.&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Uncaught ReferenceError...</span></span><br><span class="line"><span class="comment">// 未捕获的引用错误...</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(statusMessage);</span><br></pre></td></tr></table></figure>

<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 全局声明的变量</span></span><br><span class="line"><span class="keyword">const</span> color = <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printColor</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">printColor</span>(); <span class="comment">// =&gt; blue</span></span><br></pre></td></tr></table></figure>

<h3 id="let-vs-var"><a href="#let-vs-var" class="headerlink" title="let vs var"></a><code>let</code> vs <code>var</code></h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// 这是“let”的最大范围</span></span><br><span class="line">  <span class="comment">// i 可以访问 ✔️</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// i 不能访问 ❌</span></span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// i 可以访问 ✔️</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// i 可以访问 ✔️</span></span><br></pre></td></tr></table></figure>

<p><code>var</code> 的范围是最近的函数块，而 <code>let</code> 的范围是最近的封闭块。</p>
<h3 id="带闭包的循环"><a href="#带闭包的循环" class="headerlink" title="带闭包的循环"></a>带闭包的循环</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 打印三次，不是我们的意思。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="params">_</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(i), <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 按预期打印 0、1 和 2。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123; </span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="params">_</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(j), <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>变量使用 <code>let</code> 有自己的副本，变量有使用 <code>var</code> 的共享副本。</p>
<h2 id="JavaScript-Arrays"><a href="#JavaScript-Arrays" class="headerlink" title="JavaScript Arrays"></a>JavaScript Arrays</h2><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><!--rehype:wrap-class=row-span-6-->

<table>
<thead>
<tr>
<th align="left">:-</th>
<th align="left">:-</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Array.from()</code></td>
<td align="left">类似数组对象创建一个新的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from">#</a></td>
</tr>
<tr>
<td align="left"><code>Array.isArray()</code></td>
<td align="left">值是否是一个 Array <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">#</a></td>
</tr>
<tr>
<td align="left"><code>Array.of()</code></td>
<td align="left">创建一个新数组示例 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/of">#</a></td>
</tr>
<tr>
<td align="left"><code>.at()</code></td>
<td align="left">返回值索引对应的元素 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/at">#</a></td>
</tr>
<tr>
<td align="left"><code>.concat()</code></td>
<td align="left">合并两个或多个数组 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat">#</a></td>
</tr>
<tr>
<td align="left"><code>.copyWithin()</code></td>
<td align="left">浅复制替换某个位置 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin">#</a></td>
</tr>
<tr>
<td align="left"><code>.entries()</code></td>
<td align="left">新的 Array Iterator 对象 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/entries">#</a></td>
</tr>
<tr>
<td align="left"><code>.every()</code></td>
<td align="left">是否能通过回调函数的测试 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/every">#</a></td>
</tr>
<tr>
<td align="left"><code>.fill()</code></td>
<td align="left">固定值填充一个数组中 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/fill">#</a></td>
</tr>
<tr>
<td align="left"><code>.filter()</code></td>
<td align="left">返回过滤后的数组 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">#</a></td>
</tr>
<tr>
<td align="left"><code>.find()</code></td>
<td align="left">第一个元素的值 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/find">#</a></td>
</tr>
<tr>
<td align="left"><code>.findIndex()</code></td>
<td align="left">第一个元素的索引 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex">#</a></td>
</tr>
<tr>
<td align="left"><code>.findLast()</code></td>
<td align="left">最后一个元素的值 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findLast">#</a></td>
</tr>
<tr>
<td align="left"><code>.findLastIndex()</code></td>
<td align="left">最后一个元素的索引 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findLastIndex">#</a></td>
</tr>
<tr>
<td align="left"><code>.flat()</code></td>
<td align="left">扁平化嵌套数组 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat">#</a></td>
</tr>
<tr>
<td align="left"><code>.flatMap()</code></td>
<td align="left">与 flat 相同 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap">#</a></td>
</tr>
<tr>
<td align="left"><code>.forEach()</code></td>
<td align="left">升序循环执行 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">#</a></td>
</tr>
<tr>
<td align="left"><code>.includes()</code></td>
<td align="left">是否包含一个指定的值 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/includes">#</a></td>
</tr>
<tr>
<td align="left"><code>.indexOf()</code></td>
<td align="left">找到给定元素的第一个索引 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf">#</a></td>
</tr>
<tr>
<td align="left"><code>.join()</code></td>
<td align="left">数组链接成一个字符串 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/join">#</a></td>
</tr>
<tr>
<td align="left"><code>.keys()</code></td>
<td align="left">每个索引键 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/keys">#</a></td>
</tr>
<tr>
<td align="left"><code>.lastIndexOf()</code></td>
<td align="left">给定元素的最后一个索引 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf">#</a></td>
</tr>
<tr>
<td align="left"><code>.map()</code></td>
<td align="left">循环返回一个新数组 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map">#</a></td>
</tr>
<tr>
<td align="left"><code>.pop()</code></td>
<td align="left"><code>删除</code>最后一个元素 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/pop">#</a></td>
</tr>
<tr>
<td align="left"><code>.push()</code></td>
<td align="left">元素<code>添加</code>到数组的末尾 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push">#</a></td>
</tr>
<tr>
<td align="left"><code>.reduce()</code></td>
<td align="left">循环函数传递当前和上一个值 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">#</a></td>
</tr>
<tr>
<td align="left"><code>.reduceRight()</code></td>
<td align="left">类似 <code>reduce</code> 从右往左循环 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight">#</a></td>
</tr>
<tr>
<td align="left"><code>.reverse()</code></td>
<td align="left">数组元素的位置颠倒 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse">#</a></td>
</tr>
<tr>
<td align="left"><code>.shift()</code></td>
<td align="left"><code>删除</code>第一个元素 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/shift">#</a></td>
</tr>
<tr>
<td align="left"><code>.slice()</code></td>
<td align="left"><code>提取</code>元素 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">#</a></td>
</tr>
<tr>
<td align="left"><code>.some()</code></td>
<td align="left">至少有一个通过测试函数 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/some">#</a></td>
</tr>
<tr>
<td align="left"><code>.sort()</code></td>
<td align="left">元素进行排序 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">#</a></td>
</tr>
<tr>
<td align="left"><code>.splice()</code></td>
<td align="left"><code>删除</code>或<code>替换</code>或<code>添加</code>元素 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice">#</a></td>
</tr>
<tr>
<td align="left"><code>.toLocaleString()</code></td>
<td align="left">字符串表示数组中的元素 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toLocaleString">#</a></td>
</tr>
<tr>
<td align="left"><code>.toString()</code></td>
<td align="left">返回字符串 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toString">#</a></td>
</tr>
<tr>
<td align="left"><code>.unshift()</code></td>
<td align="left">元素<code>添加</code>到数组的<code>开头</code> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift">#</a></td>
</tr>
<tr>
<td align="left"><code>.values()</code></td>
<td align="left">返回新的 ArrayIterator 对象 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/values">#</a></td>
</tr>
</tbody></table>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;dew&quot;</span>, <span class="string">&quot;banana&quot;</span>];</span><br><span class="line"><span class="comment">// 不同的数据类型</span></span><br><span class="line"><span class="keyword">const</span> data = [<span class="number">1</span>, <span class="string">&#x27;chicken&#x27;</span>, <span class="literal">false</span>];</span><br></pre></td></tr></table></figure>

<h3 id="属性-length"><a href="#属性-length" class="headerlink" title="属性 .length"></a>属性 .length</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">numbers.<span class="property">length</span> <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 访问数组元素</span></span><br><span class="line"><span class="keyword">const</span> myArray = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myArray[<span class="number">0</span>]); <span class="comment">// 100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myArray[<span class="number">1</span>]); <span class="comment">// 200</span></span><br></pre></td></tr></table></figure>

<h3 id="可变图表"><a href="#可变图表" class="headerlink" title="可变图表"></a>可变图表</h3><table>
<thead>
<tr>
<th align="left"></th>
<th align="center">添加</th>
<th align="center">删除</th>
<th align="center">开始</th>
<th align="center">结束</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>push</code></td>
<td align="center">✅</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">✅</td>
</tr>
<tr>
<td align="left"><code>pop</code></td>
<td align="center"></td>
<td align="center">✅</td>
<td align="center"></td>
<td align="center">✅</td>
</tr>
<tr>
<td align="left"><code>unshift</code></td>
<td align="center">✅</td>
<td align="center"></td>
<td align="center">✅</td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><code>shift</code></td>
<td align="center"></td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center"></td>
</tr>
</tbody></table>
<!--rehype:className=show-header-->

<h3 id="方法-push"><a href="#方法-push" class="headerlink" title="方法 .push()"></a>方法 .push()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 添加单个元素：</span></span><br><span class="line"><span class="keyword">const</span> cart = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>];</span><br><span class="line">cart.<span class="title function_">push</span>(<span class="string">&#x27;pear&#x27;</span>); </span><br><span class="line"><span class="comment">// 添加多个元素：</span></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">numbers.<span class="title function_">push</span>(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p>将项目<strong>添加到末尾</strong>并返回新的数组长度。</p>
<h3 id="方法-pop"><a href="#方法-pop" class="headerlink" title="方法 .pop()"></a>方法 .pop()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;dew&quot;</span>, <span class="string">&quot;banana&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> fruit = fruits.<span class="title function_">pop</span>(); <span class="comment">// &#x27;banana&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits); <span class="comment">// [&quot;apple&quot;, &quot;dew&quot;]</span></span><br></pre></td></tr></table></figure>

<p>从<strong>末尾删除</strong>一个项目并返回已删除的项目。</p>
<h3 id="方法-shift"><a href="#方法-shift" class="headerlink" title="方法 .shift()"></a>方法 .shift()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> firstElement = array1.<span class="title function_">shift</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array1); <span class="comment">// 输出: Array [2, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstElement); <span class="comment">// 输出: 1</span></span><br></pre></td></tr></table></figure>

<p><strong>从头删除</strong>一个项目并返回已删除的项目。</p>
<h3 id="方法-some"><a href="#方法-some" class="headerlink" title="方法 .some()"></a>方法 .some()</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">// 检查元素是否为偶数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">even</span> = (<span class="params">element</span>) =&gt; element % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array.<span class="title function_">some</span>(even));</span><br><span class="line"><span class="comment">// 预期输出: true</span></span><br></pre></td></tr></table></figure>

<h3 id="方法-concat"><a href="#方法-concat" class="headerlink" title="方法 .concat()"></a>方法 .concat()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">const</span> newFirstNumber = <span class="number">4</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// =&gt; [ 4, 3, 2, 1 ]</span></span><br><span class="line">[newFirstNumber].<span class="title function_">concat</span>(numbers)</span><br><span class="line">    </span><br><span class="line"><span class="comment">// =&gt; [ 3, 2, 1, 4 ]</span></span><br><span class="line">numbers.<span class="title function_">concat</span>(newFirstNumber)</span><br></pre></td></tr></table></figure>

<p>如果你想避免改变你的原始数组，你可以使用 concat。</p>
<h3 id="方法-splice"><a href="#方法-splice" class="headerlink" title="方法 .splice()"></a>方法 .splice()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> months = [<span class="string">&#x27;Jan&#x27;</span>, <span class="string">&#x27;March&#x27;</span>];</span><br><span class="line">months.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&#x27;Feb&#x27;</span>);</span><br><span class="line"><span class="comment">// 在索引 1 处插入</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(months);</span><br><span class="line"><span class="comment">// 预期输出: Array [&quot;Jan&quot;, &quot;Feb&quot;, &quot;March&quot;]</span></span><br><span class="line"></span><br><span class="line">months.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">1</span>, <span class="string">&#x27;May&#x27;</span>);</span><br><span class="line"><span class="comment">// 替换索引 2 处的 1 个元素</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(months);</span><br><span class="line"><span class="comment">// 预期输出: Array [&quot;Jan&quot;, &quot;Feb&quot;, &quot;May&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="方法-unshift"><a href="#方法-unshift" class="headerlink" title="方法 .unshift()"></a>方法 .unshift()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> cats = [<span class="string">&#x27;Bob&#x27;</span>];</span><br><span class="line"><span class="comment">// =&gt; [&#x27;Willy&#x27;, &#x27;Bob&#x27;]</span></span><br><span class="line">cats.<span class="title function_">unshift</span>(<span class="string">&#x27;Willy&#x27;</span>);</span><br><span class="line"><span class="comment">// =&gt; [&#x27;Puff&#x27;, &#x27;George&#x27;, &#x27;Willy&#x27;, &#x27;Bob&#x27;]</span></span><br><span class="line">cats.<span class="title function_">unshift</span>(<span class="string">&#x27;Puff&#x27;</span>, <span class="string">&#x27;George&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>将项目<strong>添加到开头</strong>并返回新的数组长度。</p>
<h3 id="方法-filter"><a href="#方法-filter" class="headerlink" title="方法 .filter()"></a>方法 .filter()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> words = [<span class="string">&#x27;js&#x27;</span>, <span class="string">&#x27;java&#x27;</span>, <span class="string">&#x27;golang&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> result = words.<span class="title function_">filter</span>(<span class="function"><span class="params">word</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span>  word.<span class="property">length</span> &gt; <span class="number">3</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line"><span class="comment">// 预期输出: Array [&quot;java&quot;, &quot;golang&quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-循环"><a href="#JavaScript-循环" class="headerlink" title="JavaScript 循环"></a>JavaScript 循环</h2><h3 id="While-循环"><a href="#While-循环" class="headerlink" title="While 循环"></a>While 循环</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">  <span class="comment">// 要执行的代码块</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">5</span>) &#123;        </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反向循环"><a href="#反向循环" class="headerlink" title="反向循环"></a>反向循环</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;dew&quot;</span>, <span class="string">&quot;berry&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = fruits.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;i&#125;</span>. <span class="subst">$&#123;fruits[i]&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// =&gt; 2. berry</span></span><br><span class="line"><span class="comment">// =&gt; 1. dew</span></span><br><span class="line"><span class="comment">// =&gt; 0. apple</span></span><br></pre></td></tr></table></figure>

<h3 id="Do…While-语句"><a href="#Do…While-语句" class="headerlink" title="Do…While 语句"></a>Do…While 语句</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">x = <span class="number">0</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  x = x + i;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line">  i++;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">5</span>);</span><br><span class="line"><span class="comment">// =&gt; 0 1 3 6 10</span></span><br></pre></td></tr></table></figure>

<h3 id="For-循环"><a href="#For-循环" class="headerlink" title="For 循环"></a>For 循环</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// =&gt; 0, 1, 2, 3</span></span><br></pre></td></tr></table></figure>

<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(array[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// =&gt; 数组中的每一项</span></span><br></pre></td></tr></table></figure>

<h3 id="Break"><a href="#Break" class="headerlink" title="Break"></a>Break</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">99</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">5</span>) <span class="keyword">break</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// =&gt; 0 1 2 3 4 5</span></span><br></pre></td></tr></table></figure>

<h3 id="Continue"><a href="#Continue" class="headerlink" title="Continue"></a>Continue</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i === <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  text += <span class="string">&quot;The number is &quot;</span> + i + <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="嵌套循环"><a href="#嵌套循环" class="headerlink" title="嵌套循环"></a>嵌套循环</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j += <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;i&#125;</span>-<span class="subst">$&#123;j&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="for…in-循环"><a href="#for…in-循环" class="headerlink" title="for…in 循环"></a>for…in 循环</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;banana&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">in</span> fruits) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(index);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// =&gt; 0</span></span><br><span class="line"><span class="comment">// =&gt; 1</span></span><br><span class="line"><span class="comment">// =&gt; 2</span></span><br></pre></td></tr></table></figure>

<h3 id="label-语句"><a href="#label-语句" class="headerlink" title="label 语句"></a>label 语句</h3><!--rehype:wrap-class= row-span-2-->

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="attr">outPoint</span>:</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">      <span class="keyword">continue</span> outPoint;</span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(num);  <span class="comment">// 95</span></span><br></pre></td></tr></table></figure>

<p>从 <code>alert(num)</code> 的值可以看出，<code>continue outPoint;</code> 语句的作用是跳出当前循环，并跳转到 <code>outPoint</code>（标签）下的 <code>for</code> 循环继续执行。</p>
<h3 id="for…of-循环"><a href="#for…of-循环" class="headerlink" title="for…of 循环"></a>for…of 循环</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;banana&quot;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> fruit <span class="keyword">of</span> fruits) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(fruit);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// =&gt; apple</span></span><br><span class="line"><span class="comment">// =&gt; orange</span></span><br><span class="line"><span class="comment">// =&gt; banana</span></span><br></pre></td></tr></table></figure>

<h3 id="for-await…of"><a href="#for-await…of" class="headerlink" title="for await…of"></a>for await…of</h3><!--rehype:wrap-class= row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span>* <span class="title function_">asyncGenerator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> i++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> <span class="title function_">await</span> (num <span class="keyword">of</span> <span class="title function_">asyncGenerator</span>()) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h3 id="可选的-for-表达式"><a href="#可选的-for-表达式" class="headerlink" title="可选的 for 表达式"></a>可选的 for 表达式</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">3</span>) <span class="keyword">break</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-迭代器-Iterators"><a href="#JavaScript-迭代器-Iterators" class="headerlink" title="JavaScript 迭代器(Iterators)"></a>JavaScript 迭代器(Iterators)</h2><!--rehype:body-class=cols-2-->

<h3 id="分配给变量的函数"><a href="#分配给变量的函数" class="headerlink" title="分配给变量的函数"></a>分配给变量的函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">plusFive</span> = (<span class="params">number</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> number + <span class="number">5</span>;  </span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// f 被赋值为 plusFive</span></span><br><span class="line"><span class="keyword">let</span> f = plusFive;</span><br><span class="line"><span class="title function_">plusFive</span>(<span class="number">3</span>); <span class="comment">// 8</span></span><br><span class="line"><span class="comment">// 由于 f 具有函数值，因此可以调用它。</span></span><br><span class="line"><span class="title function_">f</span>(<span class="number">9</span>); <span class="comment">// 14</span></span><br></pre></td></tr></table></figure>

<h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">isEven</span> = (<span class="params">n</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> n % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="title function_">printMsg</span> = (<span class="params">evenFunc, num</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> isNumEven = <span class="title function_">evenFunc</span>(num);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;num&#125;</span> is an even number: <span class="subst">$&#123;isNumEven&#125;</span>.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Pass in isEven as the callback function</span></span><br><span class="line"><span class="title function_">printMsg</span>(isEven, <span class="number">4</span>); </span><br><span class="line"><span class="comment">// =&gt; The number 4 is an even number: True.</span></span><br></pre></td></tr></table></figure>

<h3 id="数组方法-reduce"><a href="#数组方法-reduce" class="headerlink" title="数组方法 .reduce()"></a>数组方法 .reduce()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> sum = numbers.<span class="title function_">reduce</span>(<span class="function">(<span class="params">accumulator, curVal</span>) =&gt;</span> &#123;  </span><br><span class="line">  <span class="keyword">return</span> accumulator + curVal;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h3 id="数组方法-map"><a href="#数组方法-map" class="headerlink" title="数组方法 .map()"></a>数组方法 .map()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> members = [<span class="string">&quot;Taylor&quot;</span>, <span class="string">&quot;Donald&quot;</span>, <span class="string">&quot;Don&quot;</span>, <span class="string">&quot;Natasha&quot;</span>, <span class="string">&quot;Bobby&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> announcements = members.<span class="title function_">map</span>(<span class="function">(<span class="params">member</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> member + <span class="string">&quot; joined the contest.&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(announcements);</span><br></pre></td></tr></table></figure>

<h3 id="数组方法-forEach"><a href="#数组方法-forEach" class="headerlink" title="数组方法 .forEach()"></a>数组方法 .forEach()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">28</span>, <span class="number">77</span>, <span class="number">45</span>, <span class="number">99</span>, <span class="number">27</span>];</span><br><span class="line">numbers.<span class="title function_">forEach</span>(<span class="function"><span class="params">number</span> =&gt;</span> &#123;  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(number);</span><br><span class="line">&#125;); </span><br></pre></td></tr></table></figure>

<h3 id="数组方法-filter"><a href="#数组方法-filter" class="headerlink" title="数组方法 .filter()"></a>数组方法 .filter()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> randomNumbers = [<span class="number">4</span>, <span class="number">11</span>, <span class="number">42</span>, <span class="number">14</span>, <span class="number">39</span>];</span><br><span class="line"><span class="keyword">const</span> filteredArray = randomNumbers.<span class="title function_">filter</span>(<span class="function"><span class="params">n</span> =&gt;</span> &#123;  </span><br><span class="line">  <span class="keyword">return</span> n &gt; <span class="number">5</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-对象-Objects"><a href="#JavaScript-对象-Objects" class="headerlink" title="JavaScript 对象(Objects)"></a>JavaScript 对象(Objects)</h2><!--rehype:body-class=cols-2-->

<h3 id="访问属性"><a href="#访问属性" class="headerlink" title="访问属性"></a>访问属性</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> apple = &#123; </span><br><span class="line">  <span class="attr">color</span>: <span class="string">&#x27;Green&#x27;</span>,</span><br><span class="line">  <span class="attr">price</span>: &#123; <span class="attr">bulk</span>: <span class="string">&#x27;$3/kg&#x27;</span>, <span class="attr">smallQty</span>: <span class="string">&#x27;$4/kg&#x27;</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(apple.<span class="property">color</span>);      <span class="comment">// =&gt; Green</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(apple.<span class="property">price</span>.<span class="property">bulk</span>); <span class="comment">// =&gt; $3/kg</span></span><br></pre></td></tr></table></figure>

<h3 id="命名属性"><a href="#命名属性" class="headerlink" title="命名属性"></a>命名属性</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 无效键名示例</span></span><br><span class="line"><span class="keyword">const</span> trainSchedule = &#123;</span><br><span class="line">  <span class="comment">// 由于单词之间的空格而无效。</span></span><br><span class="line">  platform <span class="attr">num</span>: <span class="number">10</span>, </span><br><span class="line">  <span class="comment">// 表达式不能是键。</span></span><br><span class="line">  <span class="number">40</span> - <span class="number">10</span> + <span class="number">2</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="comment">// 除非用引号括起来，否则 + 号无效。</span></span><br><span class="line">  +<span class="attr">compartment</span>: <span class="string">&#x27;C&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="不存在的属性"><a href="#不存在的属性" class="headerlink" title="不存在的属性"></a>不存在的属性</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> classElection = &#123;</span><br><span class="line">  <span class="attr">date</span>: <span class="string">&#x27;January 12&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(classElection.<span class="property">place</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="可变的"><a href="#可变的" class="headerlink" title="可变的"></a>可变的</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> student = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Sheldon&#x27;</span>,</span><br><span class="line">  <span class="attr">score</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">grade</span>: <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student)</span><br><span class="line"><span class="comment">// &#123; name: &#x27;Sheldon&#x27;, score: 100, grade: &#x27;A&#x27; &#125;</span></span><br><span class="line"><span class="keyword">delete</span> student.<span class="property">score</span></span><br><span class="line">student.<span class="property">grade</span> = <span class="string">&#x27;F&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student)</span><br><span class="line"><span class="comment">// &#123; name: &#x27;Sheldon&#x27;, grade: &#x27;F&#x27; &#125;</span></span><br><span class="line">student = &#123;&#125;</span><br><span class="line"><span class="comment">// TypeError: TypeError：分配给常量变量。</span></span><br></pre></td></tr></table></figure>

<h3 id="赋值简写语法"><a href="#赋值简写语法" class="headerlink" title="赋值简写语法"></a>赋值简写语法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="string">&#x27;22&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> &#123;name, age&#125; = person;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// &#x27;Tom&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age);  <span class="comment">// &#x27;22&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="删除运算符"><a href="#删除运算符" class="headerlink" title="删除运算符"></a>删除运算符</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&quot;Matilda&quot;</span>,</span><br><span class="line">  <span class="attr">hobby</span>: <span class="string">&quot;knitting&quot;</span>,</span><br><span class="line">  <span class="attr">goal</span>: <span class="string">&quot;learning JavaScript&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">delete</span> person.<span class="property">hobby</span>; <span class="comment">// 或 delete person[&#x27;hobby&#x27;];</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  firstName: &quot;Matilda&quot;</span></span><br><span class="line"><span class="comment">  goal: &quot;learning JavaScript&quot;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br></pre></td></tr></table></figure>

<h3 id="对象作为参数"><a href="#对象作为参数" class="headerlink" title="对象作为参数"></a>对象作为参数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> origNum = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">const</span> origObj = &#123;<span class="attr">color</span>: <span class="string">&#x27;blue&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">changeItUp</span> = (<span class="params">num, obj</span>) =&gt; &#123;</span><br><span class="line">  num = <span class="number">7</span>;</span><br><span class="line">  obj.<span class="property">color</span> = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">changeItUp</span>(origNum, origObj);</span><br><span class="line"><span class="comment">// 将输出 8，因为整数是按值传递的。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(origNum);</span><br><span class="line"><span class="comment">// 由于传递了对象，将输出“red”</span></span><br><span class="line"><span class="comment">// 通过引用，因此是可变的。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(origObj.<span class="property">color</span>);</span><br></pre></td></tr></table></figure>

<h3 id="工厂函数"><a href="#工厂函数" class="headerlink" title="工厂函数"></a>工厂函数</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 一个接受 &#x27;name&#x27;，&#x27;age&#x27; 和 &#x27;breed&#x27; 的工厂函数，</span></span><br><span class="line"><span class="comment">//  参数返回一个自定义的 dog 对象。</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">dogFactory</span> = (<span class="params">name, age, breed</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: name,</span><br><span class="line">    <span class="attr">age</span>: age,</span><br><span class="line">    <span class="attr">breed</span>: breed,</span><br><span class="line">    <span class="title function_">bark</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Woof!&#x27;</span>);  </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="速记对象创建"><a href="#速记对象创建" class="headerlink" title="速记对象创建"></a>速记对象创建</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> activity = <span class="string">&#x27;Surfing&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> beach = &#123; activity &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(beach); <span class="comment">// &#123; activity: &#x27;Surfing&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="this-关键字"><a href="#this-关键字" class="headerlink" title="this 关键字"></a>this 关键字</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> cat = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Pipey&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">8</span>,</span><br><span class="line">  <span class="title function_">whatName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(cat.<span class="title function_">whatName</span>()); <span class="comment">// =&gt; Pipey</span></span><br></pre></td></tr></table></figure>

<h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> engine = &#123;</span><br><span class="line">  <span class="comment">// 方法简写，有一个参数</span></span><br><span class="line">  <span class="title function_">start</span>(<span class="params">adverb</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`The engine starts up <span class="subst">$&#123;adverb&#125;</span>...`</span>);</span><br><span class="line">  &#125;,  </span><br><span class="line">  <span class="comment">// 不带参数的匿名箭头函数表达式</span></span><br><span class="line">  <span class="attr">sputter</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;The engine sputters...&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">engine.<span class="title function_">start</span>(<span class="string">&#x27;noisily&#x27;</span>);</span><br><span class="line">engine.<span class="title function_">sputter</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Getters-和-setters"><a href="#Getters-和-setters" class="headerlink" title="Getters 和 setters"></a>Getters 和 setters</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> myCat = &#123;</span><br><span class="line">  <span class="attr">_name</span>: <span class="string">&#x27;Dottie&#x27;</span>,</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">name</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_name</span>;  </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">name</span>(<span class="params">newName</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_name</span> = newName;  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 引用调用 getter</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myCat.<span class="property">name</span>);</span><br><span class="line"><span class="comment">// 赋值调用 setter</span></span><br><span class="line">myCat.<span class="property">name</span> = <span class="string">&#x27;Yankee&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><p>Proxy 对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义（如属性查找、赋值、枚举、函数调用等）。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 用于拦截对象的读取属性操作。</span></span><br><span class="line"><span class="keyword">const</span> handler = &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span>(<span class="params">obj, prop</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> prop <span class="keyword">in</span> obj ? obj[prop] : <span class="number">37</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(&#123;&#125;, handler);</span><br><span class="line">p.<span class="property">a</span> = <span class="number">1</span>;</span><br><span class="line">p.<span class="property">b</span> = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">a</span>, p.<span class="property">b</span>);      <span class="comment">// 1, undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;c&#x27;</span> <span class="keyword">in</span> p, p.<span class="property">c</span>); <span class="comment">// false, 37</span></span><br></pre></td></tr></table></figure>

<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, handler)</span><br></pre></td></tr></table></figure>

<ul>
<li>target 要使用 Proxy 包装的目标对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）。</li>
<li>handler 一个通常以函数作为属性的对象，各属性中的函数分别定义了在执行各种操作时代理 p 的行为。</li>
</ul>
<h4 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h4><table>
<thead>
<tr>
<th align="left">:-</th>
<th align="left">:-</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Proxy.revocable()</code></td>
<td align="left">创建一个可撤销的Proxy对象 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/revocable">#</a></td>
</tr>
</tbody></table>
<h4 id="handler-对象的方法"><a href="#handler-对象的方法" class="headerlink" title="handler 对象的方法"></a>handler 对象的方法</h4><table>
<thead>
<tr>
<th align="left">:-</th>
<th align="left">:-</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>handler.getPrototypeOf()</code></td>
<td align="left">Object.getPrototypeOf 方法的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/getPrototypeOf">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.setPrototypeOf()</code></td>
<td align="left">Object.setPrototypeOf 方法的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/setPrototypeOf">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.isExtensible()</code></td>
<td align="left">Object.isExtensible 方法的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/isExtensible">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.preventExtensions()</code></td>
<td align="left">Object.preventExtensions 方法的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/preventExtensions">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.getOwnPropertyDescriptor()</code></td>
<td align="left">Object.getOwnPropertyDescriptor 方法的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/getOwnPropertyDescriptor">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.defineProperty()</code></td>
<td align="left">Object.defineProperty 方法的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/defineProperty">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.has()</code></td>
<td align="left">in 操作符的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/has">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.get()</code></td>
<td align="left">属性读取操作的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/get">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.set()</code></td>
<td align="left">属性设置操作的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/set">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.deleteProperty()</code></td>
<td align="left">delete 操作符的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/deleteProperty">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.ownKeys()</code></td>
<td align="left">Object.getOwnPropertyNames 方法和 Object.getOwnPropertySymbols 方法的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/ownKeys">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.apply()</code></td>
<td align="left">函数调用操作的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/apply">#</a></td>
</tr>
<tr>
<td align="left"><code>handler.construct()</code></td>
<td align="left">new 操作符的捕捉器 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy/Proxy/construct">#</a></td>
</tr>
</tbody></table>
<!--rehype:className=style-list-arrow-->

<h3 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h3><p>Reflect 是一个内置的对象，它提供拦截 JavaScript 操作的方法。这些方法与proxy handlers (en-US)的方法相同。Reflect不是一个函数对象，因此它是不可构造的。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 检测一个对象是否存在特定属性</span></span><br><span class="line"><span class="keyword">const</span> duck = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Maurice&#x27;</span>,</span><br><span class="line">  <span class="attr">color</span>: <span class="string">&#x27;white&#x27;</span>,</span><br><span class="line">  <span class="attr">greeting</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Quaaaack! My name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">has</span>(duck, <span class="string">&#x27;color&#x27;</span>);</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">has</span>(duck, <span class="string">&#x27;haircut&#x27;</span>);</span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h4><table>
<thead>
<tr>
<th align="left">:-</th>
<th align="left">:-</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Reflect.apply(target, thisArgument, argumentsList)</code></td>
<td align="left">对一个函数进行调用操作，同时可以传入一个数组作为调用参数。和 Function.prototype.apply() 功能类似 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/apply">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.construct(target, argumentsList[, newTarget])</code></td>
<td align="left">对构造函数进行 new 操作，相当于执行 new target(…args) <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/construct">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.defineProperty(target, propertyKey, attributes)</code></td>
<td align="left">和 Object.defineProperty() 类似。如果设置成功就会返回 true <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/defineProperty">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.deleteProperty(target, propertyKey)</code></td>
<td align="left">作为函数的delete操作符，相当于执行 delete target[name] <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/deleteProperty">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.get(target, propertyKey[, receiver])</code></td>
<td align="left">获取对象身上某个属性的值，类似于 target[name] <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/get">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.getOwnPropertyDescriptor(target, propertyKey)</code></td>
<td align="left">类似于 Object.getOwnPropertyDescriptor()。如果对象中存在该属性，则返回对应的属性描述符，否则返回 undefined <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/getOwnPropertyDescriptor">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.getPrototypeOf(target)</code></td>
<td align="left">类似于 Object.getPrototypeOf() <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/getPrototypeOf">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.has(target, propertyKey)</code></td>
<td align="left">判断一个对象是否存在某个属性，和 in 运算符 的功能完全相同 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/has">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.isExtensible(target)</code></td>
<td align="left">类似于 Object.isExtensible() <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/isExtensible">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.ownKeys(target)</code></td>
<td align="left">返回一个包含所有自身属性（不包含继承属性）的数组。(类似于 Object.keys(), 但不会受enumerable 影响) <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.preventExtensions(target)</code></td>
<td align="left">类似于 Object.preventExtensions()。返回一个Boolean <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/preventExtensions">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.set(target, propertyKey, value[, receiver])</code></td>
<td align="left">将值分配给属性的函数。返回一个Boolean，如果更新成功，则返回true <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/set">#</a></td>
</tr>
<tr>
<td align="left"><code>Reflect.setPrototypeOf(target, prototype)</code></td>
<td align="left">设置对象原型的函数。返回一个 Boolean，如果更新成功，则返回 true <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/setPrototypeOf">#</a></td>
</tr>
</tbody></table>
<!--rehype:className=style-list-arrow-->

<h2 id="JavaScript-this-绑定"><a href="#JavaScript-this-绑定" class="headerlink" title="JavaScript this 绑定"></a>JavaScript this 绑定</h2><h3 id="隐式绑定"><a href="#隐式绑定" class="headerlink" title="隐式绑定"></a>隐式绑定</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;obj1&quot;</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;obj2&quot;</span>,</span><br><span class="line">  <span class="attr">obj1</span>: obj1</span><br><span class="line">&#125;</span><br><span class="line">obj2.<span class="property">obj1</span>.<span class="title function_">foo</span>() <span class="comment">// [Object obj1]</span></span><br></pre></td></tr></table></figure>

<h4 id="隐式丢失"><a href="#隐式丢失" class="headerlink" title="隐式丢失"></a>隐式丢失</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = obj2.<span class="property">obj1</span>.<span class="title function_">foo</span>()</span><br><span class="line"><span class="title function_">a</span>() <span class="comment">// Window</span></span><br></pre></td></tr></table></figure>

<ul>
<li>指定隐式绑定：必须在调用的对象内部有一个对函数的引用（比如一个属性）</li>
<li>将以上调用赋值给一个变量，结果最终会是 Window</li>
<li>在 a 被调用的位置没有进行过任何显示绑定，最终全局对象 window 会调用它（<code>Window.a</code>）<!--rehype:className=style-round--></li>
</ul>
<h3 id="显示绑定"><a href="#显示绑定" class="headerlink" title="显示绑定"></a>显示绑定</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params">a1, a2</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;此人&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span>, <span class="string">&quot;岁数&quot;</span> + (a1 + a2))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="call"><a href="#call" class="headerlink" title="call"></a>call</h4><p>call 第一个参数接受 this 作用域，剩余参数传递给其调用的函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getName.<span class="title function_">call</span>(person, <span class="number">18</span>, <span class="number">12</span>)</span><br></pre></td></tr></table></figure>

<h4 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h4><p>apply 第一个参数与 call 相同，第二个参数是其调用函数的参数数组</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getName.<span class="title function_">apply</span>(person, [<span class="number">18</span>, <span class="number">12</span>])</span><br></pre></td></tr></table></figure>

<h4 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h4><p>bind 函数会返回一个新函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getName.<span class="title function_">bind</span>(person,<span class="number">18</span>,<span class="number">12</span>)()</span><br><span class="line"><span class="comment">//或者可以这样</span></span><br><span class="line">getName.<span class="title function_">bind</span>(person)(<span class="number">18</span>, <span class="number">12</span>)</span><br><span class="line"><span class="comment">//或者这样</span></span><br><span class="line">getName.<span class="title function_">bind</span>(person).<span class="title function_">bind</span>(<span class="literal">null</span>, <span class="number">18</span>)(<span class="number">12</span>)</span><br></pre></td></tr></table></figure>

<h3 id="内置函数中的-this"><a href="#内置函数中的-this" class="headerlink" title="内置函数中的 this"></a>内置函数中的 this</h3><p>数组中的一些方法，类似于 map、forEach 等，可以自己设置绑定 this</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">array.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;, obj)</span><br><span class="line"><span class="comment">// zhangsan x3 </span></span><br></pre></td></tr></table></figure>

<p>其中一些全局对象，如 setTimeout 等，它们和未显示绑定 this 的部分数组方法一样，都会指向全局对象（<code>Window</code>）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123; </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>) <span class="comment">// Window</span></span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-Classes"><a href="#JavaScript-Classes" class="headerlink" title="JavaScript Classes"></a>JavaScript Classes</h2><h3 id="静态方法-字段"><a href="#静态方法-字段" class="headerlink" title="静态方法&#x2F;字段"></a>静态方法&#x2F;字段</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_name</span> = name;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">introduce</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;This is &#x27;</span> + <span class="variable language_">this</span>.<span class="property">_name</span> + <span class="string">&#x27; !&#x27;</span>);  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 静态方法</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">bark</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Woof!&#x27;</span>);  </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;类静态初始化块调用&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myDog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;Buster&#x27;</span>);</span><br><span class="line">myDog.<span class="title function_">introduce</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用静态方法</span></span><br><span class="line"><span class="title class_">Dog</span>.<span class="title function_">bark</span>();</span><br></pre></td></tr></table></figure>

<h4 id="公有静态字段"><a href="#公有静态字段" class="headerlink" title="公有静态字段"></a>公有静态字段</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ClassStaticField</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> staticField = <span class="string">&#x27;static field&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">ClassStaticField</span>.<span class="property">staticField</span>)</span><br><span class="line"><span class="comment">// 预期输出值：&quot;static field&quot;​ </span></span><br></pre></td></tr></table></figure>

<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Song</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">title</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">author</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">play</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Song playing!&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mySong = <span class="keyword">new</span> <span class="title class_">Song</span>();</span><br><span class="line">mySong.<span class="title function_">play</span>();</span><br></pre></td></tr></table></figure>

<h3 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Parent class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Media</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">info</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">publishDate</span> = info.<span class="property">publishDate</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = info.<span class="property">name</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Child class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Song</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Media</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">songData</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(songData);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">artist</span> = songData.<span class="property">artist</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> mySong = <span class="keyword">new</span> <span class="title class_">Song</span>(&#123; </span><br><span class="line">  <span class="attr">artist</span>: <span class="string">&#x27;Queen&#x27;</span>, </span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Bohemian Rhapsody&#x27;</span>, </span><br><span class="line">  <span class="attr">publishDate</span>: <span class="number">1975</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Class-Constructor"><a href="#Class-Constructor" class="headerlink" title="Class Constructor"></a>Class Constructor</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Song</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">title, artist</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">title</span> = title;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">artist</span> = artist;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> mySong = <span class="keyword">new</span> <span class="title class_">Song</span>(<span class="string">&#x27;Bohemian Rhapsody&#x27;</span>, <span class="string">&#x27;Queen&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mySong.<span class="property">title</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Class-Methods"><a href="#Class-Methods" class="headerlink" title="Class Methods"></a>Class Methods</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Song</span> &#123;</span><br><span class="line">  <span class="title function_">play</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Playing!&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">stop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Stopping!&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-Modules"><a href="#JavaScript-Modules" class="headerlink" title="JavaScript Modules"></a>JavaScript Modules</h2><!--rehype:body-class=cols-2-->

<h3 id="Export-Import"><a href="#Export-Import" class="headerlink" title="Export &#x2F; Import"></a>Export &#x2F; Import</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// myMath.js</span></span><br><span class="line"><span class="comment">// 默认导出 Default export</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 正常导出 Normal export</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x - y</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 多重导出 Multiple exports</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiply</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x * y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">duplicate</span>(<span class="params">x</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  multiply, duplicate</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="import-加载模块"><a href="#import-加载模块" class="headerlink" title="import 加载模块"></a>import 加载模块</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> add, &#123; subtract, multiply, duplicate &#125; <span class="keyword">from</span> <span class="string">&#x27;./myMath.js&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">6</span>, <span class="number">2</span>));      <span class="comment">// 8 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">subtract</span>(<span class="number">6</span>, <span class="number">2</span>))  <span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">multiply</span>(<span class="number">6</span>, <span class="number">2</span>)); <span class="comment">// 12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">duplicate</span>(<span class="number">5</span>))    <span class="comment">// 10</span></span><br><span class="line"><span class="comment">// index.html</span></span><br><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span> src=<span class="string">&quot;main.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Export-Module"><a href="#Export-Module" class="headerlink" title="Export Module"></a>Export Module</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// myMath.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x - y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiply</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x * y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">duplicate</span>(<span class="params">x</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> x * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// node.js 中的多个导出</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  add,</span><br><span class="line">  subtract,</span><br><span class="line">  multiply,</span><br><span class="line">  duplicate</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="require-加载模块"><a href="#require-加载模块" class="headerlink" title="require 加载模块"></a>require 加载模块</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> myMath = <span class="built_in">require</span>(<span class="string">&#x27;./myMath.js&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myMath.<span class="title function_">add</span>(<span class="number">6</span>, <span class="number">2</span>));      <span class="comment">// 8 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myMath.<span class="title function_">subtract</span>(<span class="number">6</span>, <span class="number">2</span>))  <span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myMath.<span class="title function_">multiply</span>(<span class="number">6</span>, <span class="number">2</span>)); <span class="comment">// 12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myMath.<span class="title function_">duplicate</span>(<span class="number">5</span>))    <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-Promises"><a href="#JavaScript-Promises" class="headerlink" title="JavaScript Promises"></a>JavaScript Promises</h2><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><!--rehype:wrap-class=row-span-2-->

<p>创建 promises</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (ok) &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(result)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="使用-promises"><a href="#使用-promises" class="headerlink" title="使用 promises"></a>使用 promises</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">promise</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123; ··· &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123; ··· &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Promise-方法"><a href="#Promise-方法" class="headerlink" title="Promise 方法"></a>Promise 方法</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>(···)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>(···)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">reject</span>(···)</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(···)</span><br></pre></td></tr></table></figure>

<h3 id="执行器函数"><a href="#执行器函数" class="headerlink" title="执行器函数"></a>执行器函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">executorFn</span> = (<span class="params">resolve, reject</span>) =&gt; &#123;</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&#x27;Resolved!&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(executorFn);</span><br></pre></td></tr></table></figure>

<h3 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout()"></a>setTimeout()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">loginAlert</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Login&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">setTimeout</span>(loginAlert, <span class="number">6000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Promise-状态"><a href="#Promise-状态" class="headerlink" title="Promise 状态"></a>Promise 状态</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="literal">true</span>;</span><br><span class="line">  <span class="comment">// 一个异步操作。</span></span><br><span class="line">  <span class="keyword">if</span> (res) &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;Resolved!&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(<span class="title class_">Error</span>(<span class="string">&#x27;Error&#x27;</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">promise.<span class="title function_">then</span>(</span><br><span class="line">  <span class="function">(<span class="params">res</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res),</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="then-方法"><a href="#then-方法" class="headerlink" title=".then() 方法"></a>.then() 方法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;    </span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;Result&#x27;</span>);</span><br><span class="line">  &#125;, <span class="number">200</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="catch-方法"><a href="#catch-方法" class="headerlink" title=".catch() 方法"></a>.catch() 方法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(</span><br><span class="line">  <span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;  </span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(<span class="title class_">Error</span>(<span class="string">&#x27;Promise 无条件拒绝。&#x27;</span>));</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all()"></a>Promise.all()</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">3</span>);</span><br><span class="line">  &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line">  &#125;, <span class="number">200</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([promise1, promise2]).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res[<span class="number">0</span>]);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res[<span class="number">1</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="链接多个-then"><a href="#链接多个-then" class="headerlink" title="链接多个 .then()"></a>链接多个 .then()</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(</span><br><span class="line">  <span class="function"><span class="params">resolve</span> =&gt;</span> </span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&#x27;dAlan&#x27;</span>),<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> res === <span class="string">&#x27;Alan&#x27;</span> </span><br><span class="line">    ? <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;Hey Alan!&#x27;</span>)</span><br><span class="line">    : <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&#x27;Who are you?&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="避免嵌套的-Promise-和-then"><a href="#避免嵌套的-Promise-和-then" class="headerlink" title="避免嵌套的 Promise 和 .then()"></a>避免嵌套的 Promise 和 .then()</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;  </span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">twoStars</span> = (<span class="params">star</span>) =&gt; &#123;  </span><br><span class="line">  <span class="keyword">return</span> (star + star);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">oneDot</span> = (<span class="params">star</span>) =&gt; &#123;  </span><br><span class="line">  <span class="keyword">return</span> (star + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">print</span> = (<span class="params">val</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(val);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 将它们链接在一起</span></span><br><span class="line">promise.<span class="title function_">then</span>(twoStars).<span class="title function_">then</span>(oneDot).<span class="title function_">then</span>(print);</span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-Async-Await"><a href="#JavaScript-Async-Await" class="headerlink" title="JavaScript Async-Await"></a>JavaScript Async-Await</h2><!--rehype:body-class=cols-2-->

<h3 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">helloWorld</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">&#x27;Hello World!&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步函数表达式</span></span><br><span class="line"><span class="keyword">const</span> msg = <span class="keyword">async</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">await</span> <span class="title function_">helloWorld</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Message:&#x27;</span>, msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步箭头函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">msg1</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">await</span> <span class="title function_">helloWorld</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Message:&#x27;</span>, msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">msg</span>(); <span class="comment">// Message: Hello World! &lt;-- 2 秒后</span></span><br><span class="line"><span class="title function_">msg1</span>(); <span class="comment">// Message: Hello World! &lt;-- 2 秒后</span></span><br></pre></td></tr></table></figure>

<h3 id="解决-Promises"><a href="#解决-Promises" class="headerlink" title="解决 Promises"></a>解决 Promises</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> pro1 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">let</span> pro2 = <span class="number">44</span>;</span><br><span class="line"><span class="keyword">let</span> pro3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([pro1, pro2, pro3]).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">values</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(values);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// expected =&gt; Array [5, 44, &quot;foo&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="异步等待-Promises"><a href="#异步等待-Promises" class="headerlink" title="异步等待 Promises"></a>异步等待 Promises</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">helloWorld</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">&#x27;Hello World!&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">msg</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">await</span> <span class="title function_">helloWorld</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Message:&#x27;</span>, msg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">msg</span>(); <span class="comment">// Message: Hello World! &lt;-- 2 秒后</span></span><br></pre></td></tr></table></figure>

<h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 数据不完整</span></span><br><span class="line"><span class="keyword">let</span> json = <span class="string">&#x27;&#123; &quot;age&quot;: 30 &#125;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> user = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(json); <span class="comment">// &lt;-- 没有错误</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( user.<span class="property">name</span> );    <span class="comment">// no name!</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>( <span class="string">&quot;Invalid JSON data!&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="异步等待运算符"><a href="#异步等待运算符" class="headerlink" title="异步等待运算符"></a>异步等待运算符</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">helloWorld</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">&#x27;Hello World!&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">msg</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">await</span> <span class="title function_">helloWorld</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Message:&#x27;</span>, msg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">msg</span>(); <span class="comment">// Message: Hello World! &lt;-- 2 秒后</span></span><br></pre></td></tr></table></figure>

<h2 id="JavaScript-请求"><a href="#JavaScript-请求" class="headerlink" title="JavaScript 请求"></a>JavaScript 请求</h2><h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> jsonObj = &#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Rick&quot;</span>,</span><br><span class="line">  <span class="string">&quot;id&quot;</span>: <span class="string">&quot;11A&quot;</span>,</span><br><span class="line">  <span class="string">&quot;level&quot;</span>: <span class="number">4</span>  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>另见：<a href="./json.md">JSON 备忘单</a></p>
<h3 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;mysite.com/getjson&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><code>XMLHttpRequest</code> 是一个浏览器级别的 API，它使客户端能够通过 JavaScript 编写数据传输脚本，而不是 JavaScript 语言的一部分。</p>
<h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> req = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">req.<span class="property">responseType</span> = <span class="string">&#x27;json&#x27;</span>;</span><br><span class="line">req.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;/getdata?id=65&#x27;</span>);</span><br><span class="line">req.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>);</span><br><span class="line">&#125;;</span><br><span class="line">req.<span class="title function_">send</span>();</span><br></pre></td></tr></table></figure>

<h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> data = &#123; <span class="attr">weight</span>: <span class="string">&#x27;1.5 KG&#x27;</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line"><span class="comment">// 初始化一个请求。</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;/inventory/add&#x27;</span>);</span><br><span class="line"><span class="comment">// 一个用于定义响应类型的枚举值</span></span><br><span class="line">xhr.<span class="property">responseType</span> = <span class="string">&#x27;json&#x27;</span>;</span><br><span class="line"><span class="comment">// 发送请求以及数据。</span></span><br><span class="line">xhr.<span class="title function_">send</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line"><span class="comment">// 请求成功完成时触发。</span></span><br><span class="line">xhr.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 当 request 遭遇错误时触发。</span></span><br><span class="line">xhr.<span class="property">onerror</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="fetch-api"><a href="#fetch-api" class="headerlink" title="fetch api"></a>fetch api</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(url, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;Content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;apikey&#x27;</span>: apiKey</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: data</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (response.<span class="property">ok</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="title function_">json</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Request failed!&#x27;</span>);</span><br><span class="line">&#125;, <span class="function"><span class="params">networkError</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(networkError.<span class="property">message</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="JSON-格式"><a href="#JSON-格式" class="headerlink" title="JSON 格式"></a>JSON 格式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;url-that-returns-JSON&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">jsonResponse</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(jsonResponse);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="promise-url-参数获取-API"><a href="#promise-url-参数获取-API" class="headerlink" title="promise url 参数获取 API"></a>promise url 参数获取 API</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;url&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span>  =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;, <span class="function"><span class="params">rejection</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(rejection.<span class="property">message</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Fetch-API-函数"><a href="#Fetch-API-函数" class="headerlink" title="Fetch API 函数"></a>Fetch API 函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://api-xxx.com/endpoint&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">id</span>: <span class="string">&quot;200&quot;</span>&#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(response.<span class="property">ok</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="title function_">json</span>();  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Request failed!&#x27;</span>);</span><br><span class="line">&#125;, <span class="function"><span class="params">networkError</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(networkError.<span class="property">message</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">jsonResponse</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(jsonResponse);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="async-await-语法"><a href="#async-await-语法" class="headerlink" title="async await 语法"></a>async await 语法</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getSuggestions</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> wordQuery = inputField.<span class="property">value</span>;</span><br><span class="line">  <span class="keyword">const</span> endpoint = <span class="string">`<span class="subst">$&#123;url&#125;</span><span class="subst">$&#123;queryParams&#125;</span><span class="subst">$&#123;wordQuery&#125;</span>`</span>;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(endpoint, &#123;<span class="attr">cache</span>: <span class="string">&#x27;no-cache&#x27;</span>&#125;);</span><br><span class="line">    <span class="keyword">if</span>(response.<span class="property">ok</span>)&#123;</span><br><span class="line">      <span class="keyword">const</span> jsonResponse = <span class="keyword">await</span> response.<span class="title function_">json</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span>(error)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">太空毅栈</div><div class="author-info__description">个人博客，记录生活，分享技术。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/caoyixiong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;amp;uin=409677557&amp;amp;site=qq&amp;amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #24292e;"></i></a><a class="social-icon" href="/img/wechat.jpg" target="_blank" title="微信"><i class="fab fa-weixin" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/caoyixiong" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:409677557@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果阅读过程中遇到了问题，请及时评论或者留言，看到了会在第一时间给出回复。</div></div><!-- !=partial('includes/widget/card_wx', {}, {cache: true})--><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/4a17b156.html" title="Hello World">Hello World</a><time datetime="2018-01-04T16:00:00.000Z" title="发表于 2018-01-05 00:00:00">2018-01-05</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/install/"><span class="card-category-list-name">install</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Hexo/" style="font-size: 1.1em; color: #999">Hexo</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2018/01/"><span class="card-archive-list-date">2018</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">1</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2016-05-13T00:30:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">75</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-18T15:48:28.197Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home.jpg')"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">公益广告</p><div class="bg-ad"><div>国家反诈中心是国务院打击治理电信网络新型违法犯罪工作部际联席会议合成作战平台，集资源整合、情报研判、侦查指挥为一体，在打击、防范、治理电信网络诈骗等新型违法犯罪中发挥着重要作用。</div><div class="btn-xz-box"><a class="btn-xz" href="https://caoyixiong.com/">主页</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">导航</p><ul class="ft-links"><li><a href="https://caoyixiong.com/about/">关于博主</a><a href="https://caoyixiong.com/categories/">文章分类</a></li><li><a href="https://caoyixiong.com/sponsor/">来杯咖啡</a><a href="https://caoyixiong.com/tags/">文章标签</a></li><li><a href="https://caoyixiong.com/comments/">说点什么</a><a href="https://caoyixiong.com/archives/">文章归档</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">友链</p><div class="ft-img-group"><div class="img-group-item"><a href="https://caoyixiong.com/"><img src="/img/avatar.jpg" alt=""/></a></div></div></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo-8sxa.vercel.app',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script data-pjax defer src="https://npm.elemecdn.com/tzy-blog/lib/js/theme/chocolate.js"></script><script data-pjax defer src="/js/cursor.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.22.1/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.65.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>