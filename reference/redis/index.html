<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Redis 备忘清单 | 太空毅栈</title><meta name="author" content="太空毅栈"><meta name="copyright" content="太空毅栈"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本备忘单旨在快速理解 redis 所涉及的主要概念，提供了最常用的SQL语句，供您参考。 入门介绍Redis 是一个 key-value 存储系统类似 Memcached  它支持存储的 value 类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set 有序集合)和hash(哈希类型) 数据类型都支持 push&#x2F;pop、add&amp;#x2">
<meta property="og:type" content="website">
<meta property="og:title" content="Redis 备忘清单">
<meta property="og:url" content="https://caoyixiong.com/reference/redis/index.html">
<meta property="og:site_name" content="太空毅栈">
<meta property="og:description" content="本备忘单旨在快速理解 redis 所涉及的主要概念，提供了最常用的SQL语句，供您参考。 入门介绍Redis 是一个 key-value 存储系统类似 Memcached  它支持存储的 value 类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set 有序集合)和hash(哈希类型) 数据类型都支持 push&#x2F;pop、add&amp;#x2">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://caoyixiong.com/img/avatar.jpg">
<meta property="article:published_time" content="2024-08-10T06:16:15.952Z">
<meta property="article:modified_time" content="2024-08-10T06:16:15.952Z">
<meta property="article:author" content="太空毅栈">
<meta property="article:tag" content="博客，生活，技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://caoyixiong.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="https://caoyixiong.com/reference/redis/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"3NQ1I8Z7GZ","apiKey":"df5bcd27157ba7efa007752258f185fd","indexName":"blog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 太空毅栈","link":"链接: ","source":"来源: 太空毅栈","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Redis 备忘清单',
  isPost: false,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-10 14:16:15'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/universe.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url('/img/home.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="太空毅栈"><img class="site-icon" src="/img/logo.png"/><span class="site-name">太空毅栈</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">Redis 备忘清单</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><p>本备忘单旨在快速理解 <a target="_blank" rel="noopener" href="https://redis.io/">redis</a> 所涉及的主要概念，提供了最常用的SQL语句，供您参考。</p>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>Redis 是一个 <code>key-value</code> 存储系统类似 Memcached</p>
<ul>
<li>它支持存储的 value 类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set 有序集合)和hash(哈希类型)</li>
<li>数据类型都支持 push&#x2F;pop、add&#x2F;remove 及取交集并集和差集及更丰富的操作</li>
</ul>
<p>启动 Redis</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">redis-server &amp;</span></span><br></pre></td></tr></table></figure>

<p>使用 CLI 登陆 redis</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">redis-cli</span></span><br></pre></td></tr></table></figure>

<p>使用 Telnet 的登陆 redis</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">telnet 127.0.0.1 6379</span></span><br></pre></td></tr></table></figure>

<h3 id="小试"><a href="#小试" class="headerlink" title="小试"></a>小试</h3><h4 id="Ping-测试"><a href="#Ping-测试" class="headerlink" title="Ping 测试"></a>Ping 测试</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PING</span></span><br><span class="line">PONG</span><br></pre></td></tr></table></figure>

<h4 id="经典-Hello-World"><a href="#经典-Hello-World" class="headerlink" title="经典 Hello World"></a>经典 Hello World</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello world&quot;</span></span></span><br><span class="line">OK</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;Hello world&quot;</span><br></pre></td></tr></table></figure>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li><a href="#redis-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E8%AE%BE%E7%BD%AE">Strings(字符串)</a></li>
<li><a href="#redis-%E5%88%97%E8%A1%A8%E7%B1%BB%E5%9E%8B%E8%AE%BE%E7%BD%AE">Lists(列表)</a></li>
<li><a href="#redis-%E5%93%88%E5%B8%8C%E7%B1%BB%E5%9E%8B%E8%AE%BE%E7%BD%AE">Hashes(哈希)</a></li>
<li><a href="#redis-%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E8%AE%BE%E7%BD%AE">Sets(集合)</a></li>
<li><a href="#redis-%E6%8E%92%E5%BA%8F%E9%9B%86%E7%B1%BB%E5%9E%8B%E8%AE%BE%E7%BD%AE">Sorted Sets(有序集合)</a></li>
</ul>
<p>Redis 支持以上 5 种数据类型</p>
<h2 id="Redis服务相关的命令设置"><a href="#Redis服务相关的命令设置" class="headerlink" title="Redis服务相关的命令设置"></a>Redis服务相关的命令设置</h2><h3 id="COMMAND"><a href="#COMMAND" class="headerlink" title="COMMAND"></a>COMMAND</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">COMMAND</span><br></pre></td></tr></table></figure>

<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">COMMAND</span></span><br><span class="line">1) 1) &quot;georadius_ro&quot;</span><br><span class="line">     2) (integer) -6</span><br><span class="line">     3) 1) &quot;readonly&quot;</span><br><span class="line">        2) &quot;movablekeys&quot;</span><br><span class="line">     4) (integer) 1</span><br><span class="line">     5) (integer) 1</span><br><span class="line">     6) (integer) 1</span><br><span class="line">     7) 1) &quot;@read&quot;</span><br><span class="line">        2) &quot;@geo&quot;</span><br><span class="line">        3) &quot;@slow&quot;</span><br><span class="line">  2) 1) &quot;zpopmin&quot;</span><br><span class="line">     2) (integer) -2</span><br><span class="line">     3) 1) &quot;write&quot;</span><br><span class="line">        2) &quot;fast&quot;</span><br><span class="line">  ........</span><br></pre></td></tr></table></figure>

<p>获取 Redis 命令详细信息的数组</p>
<h3 id="一些引用-可能有帮助"><a href="#一些引用-可能有帮助" class="headerlink" title="一些引用(可能有帮助)"></a>一些引用(可能有帮助)</h3><!--rehype:wrap-class=col-span-2 row-span-4-->

<table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-load">ACL LOAD</a></td>
<td>从配置的 ACL 文件重新加载 ACL</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-save">ACL SAVE</a></td>
<td>将当前的 ACL 规则保存在配置的 ACL 文件中</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-list">ACL LIST</a></td>
<td>以 ACL 配置文件格式列出当前的 ACL 规则</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-users">ACL USERS</a></td>
<td>列出所有配置的ACL规则的用户名</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-getuser">ACL GETUSER</a></td>
<td>获取特定 ACL 用户的规则</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-setuser">ACL SETUSER</a></td>
<td>修改或创建特定 ACL 用户的规则</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-deluser">ACL DELUSER</a></td>
<td>删除指定的 ACL 用户和关联的规则</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-cat">ACL CAT</a></td>
<td>列出 ACL 类别或类别内的命令</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-genpass">ACL GENPASS</a></td>
<td>生成用于 ACL 用户的伪随机安全密码</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-whoami">ACL WHOAMI</a></td>
<td>返回关联到当前连接的用户的名称</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-log">ACL LOG</a></td>
<td>列出由于 ACL 到位而被拒绝的最新事件</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/acl-help">ACL HELP</a></td>
<td>显示有关ACL访问控制的帮助信息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/bgrewriteaof">BGREWRITEAOF</a></td>
<td>异步重写 append-only 文件</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/bgsave">BGSAVE</a></td>
<td>将数据集异步保存到磁盘</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/config-get">CONFIG GET</a></td>
<td>获取配置参数的值</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/config-rewrite">CONFIG REWRITE</a></td>
<td>用内存中的配置重写配置文件</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/config-set">CONFIG SET</a></td>
<td>将配置参数设置为给定值</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/config-resetstat">CONFIG RESETSTAT</a></td>
<td>重置 INFO 返回的统计数据</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/dbsize">DBSIZE</a></td>
<td>返回所选数据库中的键数</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/debug-object">DEBUG OBJECT</a></td>
<td>获取某个key的调试信息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/debug-segfault">DEBUG SEGFAULT</a></td>
<td>使服务器崩溃</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/flushall">FLUSHALL</a></td>
<td>从所有数据库中删除所有密钥</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/flushdb">FLUSHDB</a></td>
<td>从当前数据库中删除所有键</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/lolwut">LOLWUT</a></td>
<td>显示一些计算机信息和 Redis 版本</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/lastsave">LASTSAVE</a></td>
<td>获取上次成功保存到磁盘的 UNIX 时间戳</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/memory-doctor">MEMORY DOCTOR</a></td>
<td>输出内存问题报告</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/memory-help">MEMORY HELP</a></td>
<td>显示有关内存的使用帮助</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/memory-malloc-stats">MEMORY MALLOC-STATS</a></td>
<td>显示分配器内部统计</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/memory-purge">MEMORY PURGE</a></td>
<td>要求分配器释放内存</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/memory-stats">MEMORY STATS</a></td>
<td>显示内存使用详情(该死，运维的我经常用到)</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/memory-usage">MEMORY USAGE</a></td>
<td>估计一个键的内存使用</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/module-list">MODULE LIST</a></td>
<td>列出服务器加载的所有模块</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/module-load">MODULE LOAD</a></td>
<td>加载模块</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/module-unload">MODULE UNLOAD</a></td>
<td>卸载模块</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/monitor">MONITOR</a></td>
<td>实时监听服务器收到的所有请求</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/save">SAVE</a></td>
<td>将数据集同步保存到磁盘</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/shutdown">SHUTDOWN</a></td>
<td>将数据集同步保存到磁盘，然后关闭服务器</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/slaveof"><del>SLAVEOF</del></a></td>
<td>使服务器成为另一个实例的副本，或将其提升为主服务器<br> <em>(从Redis 5开始<red>弃用</red>，改成 <code>REPLICAOF</code>了)</em></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/replicaof">REPLICAOF</a></td>
<td>使服务器成为另一个实例的副本，或将其提升为主服务器</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/slowlog">SLOWLOG</a></td>
<td>管理 Redis 慢查询日志</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/swapdb">SWAPDB</a></td>
<td>交换两个Redis数据库</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/sync">SYNC</a></td>
<td>用于复制的内部命令(主)</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/psync">PSYNC</a></td>
<td>用于复制的内部命令(备)</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/latency-doctor">LATENCY DOCTOR</a></td>
<td>返回人类可读的延迟分析报告</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/latency-graph">LATENCY GRAPH</a></td>
<td>返回事件的延迟图</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/latency-history">LATENCY HISTORY</a></td>
<td>返回事件的时间戳延迟样本</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/latency-latest">LATENCY LATEST</a></td>
<td>返回所有事件的最新延迟样本</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/latency-reset">LATENCY RESET</a></td>
<td>重置一个或多个事件的延迟数据</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/latency-help">LATENCY HELP</a></td>
<td>显示有关不同子命令的有用文本</td>
</tr>
</tbody></table>
<h3 id="COMMAND-COUNT"><a href="#COMMAND-COUNT" class="headerlink" title="COMMAND COUNT"></a>COMMAND COUNT</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">COMMAND COUNT</span><br></pre></td></tr></table></figure>

<h4 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">COMMAND COUNT</span></span><br><span class="line">(integer) 217</span><br></pre></td></tr></table></figure>

<p>获取 Redis 命令总数</p>
<h3 id="COMMAND-GETKEYS"><a href="#COMMAND-GETKEYS" class="headerlink" title="COMMAND GETKEYS"></a>COMMAND GETKEYS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">COMMAND GETKEYS</span><br></pre></td></tr></table></figure>

<h4 id="例子-2"><a href="#例子-2" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">COMMAND GETKEYS MSET a b c d e f</span></span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;c&quot;</span><br><span class="line">3) &quot;e&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">COMMAND GETKEYS EVAL <span class="string">&quot;not consulted&quot;</span> 3 key1 key2 key3 arg1 arg2 arg3 argN</span></span><br><span class="line">1) &quot;key1&quot;</span><br><span class="line">2) &quot;key2&quot;</span><br><span class="line">3) &quot;key3&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">COMMAND GETKEYS SORT mylist ALPHA STORE outlist</span></span><br><span class="line">1) &quot;mylist&quot;</span><br><span class="line">2) &quot;outlist&quot;</span><br></pre></td></tr></table></figure>

<p>给定完整的 Redis 命令提取密钥</p>
<h3 id="COMMAND-INFO"><a href="#COMMAND-INFO" class="headerlink" title="COMMAND INFO"></a>COMMAND INFO</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">COMMAND INFO command-name [command-name ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-3"><a href="#例子-3" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">COMMAND INFO get <span class="built_in">set</span> <span class="built_in">eval</span></span></span><br><span class="line">1) 1) &quot;get&quot;</span><br><span class="line">   2) (integer) 2</span><br><span class="line">   3) 1) &quot;readonly&quot;</span><br><span class="line">      2) &quot;fast&quot;</span><br><span class="line">   4) (integer) 1</span><br><span class="line">   5) (integer) 1</span><br><span class="line">   6) (integer) 1</span><br><span class="line">   7) 1) &quot;@read&quot;</span><br><span class="line">      2) &quot;@string&quot;</span><br><span class="line">      3) &quot;@fast&quot;</span><br><span class="line">2) 1) &quot;set&quot;</span><br><span class="line">   2) (integer) -3</span><br><span class="line">   3) 1) &quot;write&quot;</span><br><span class="line">      2) &quot;denyoom&quot;</span><br><span class="line">   4) (integer) 1</span><br><span class="line">   5) (integer) 1</span><br><span class="line">   6) (integer) 1</span><br><span class="line">   7) 1) &quot;@write&quot;</span><br><span class="line">      2) &quot;@string&quot;</span><br><span class="line">      3) &quot;@slow&quot;</span><br><span class="line">3) 1) &quot;eval&quot;</span><br><span class="line">   2) (integer) -3</span><br><span class="line">   3) 1) &quot;noscript&quot;</span><br><span class="line">      2) &quot;movablekeys&quot;</span><br><span class="line">   4) (integer) 0</span><br><span class="line">   5) (integer) 0</span><br><span class="line">   6) (integer) 0</span><br><span class="line">   7) 1) &quot;@slow&quot;</span><br><span class="line">      2) &quot;@scripting&quot;</span><br></pre></td></tr></table></figure>

<p>获取特定 Redis 命令详细信息的数组</p>
<h3 id="INFO"><a href="#INFO" class="headerlink" title="INFO"></a>INFO</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INFO [section]</span><br></pre></td></tr></table></figure>

<h4 id="例子-4"><a href="#例子-4" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">INFO</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Server</span></span><br><span class="line">redis_version:6.1.240</span><br><span class="line">redis_git_sha1:00000000</span><br><span class="line">redis_git_dirty:0</span><br><span class="line">redis_build_id:a26db646ea64a07c</span><br><span class="line">redis_mode:standalone</span><br><span class="line">os:Linux 5.4.0-1017-aws x86_64</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>获取有关服务器的信息和统计信息</p>
<h3 id="ROLE"><a href="#ROLE" class="headerlink" title="ROLE"></a>ROLE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ROLE</span><br></pre></td></tr></table></figure>

<h4 id="例子-5"><a href="#例子-5" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ROLE</span></span><br><span class="line">1) &quot;master&quot;</span><br><span class="line">2) (integer) 0</span><br><span class="line">3) (empty list or set)</span><br></pre></td></tr></table></figure>

<p>返回实例在复制上下文中的角色</p>
<h3 id="TIME"><a href="#TIME" class="headerlink" title="TIME"></a>TIME</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TIME</span><br></pre></td></tr></table></figure>

<h4 id="例子-6"><a href="#例子-6" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TIME</span></span><br><span class="line">1) &quot;1609040690&quot;</span><br><span class="line">2) &quot;558952&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TIME</span></span><br><span class="line">1) &quot;1609040690&quot;</span><br><span class="line">2) &quot;559206&quot;</span><br></pre></td></tr></table></figure>

<p>返回当前服务器时间</p>
<h2 id="Redis一些通用的命令"><a href="#Redis一些通用的命令" class="headerlink" title="Redis一些通用的命令"></a>Redis一些通用的命令</h2><h3 id="一些引用-可能有帮助-1"><a href="#一些引用-可能有帮助-1" class="headerlink" title="一些引用(可能有帮助)"></a>一些引用(可能有帮助)</h3><table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/copy">COPY</a></td>
<td>复制键值对</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/migrate">MIGRATE</a></td>
<td>以原子方式将键值对从 Redis 实例传输到另一个实例</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/move">MOVE</a></td>
<td>将键值对移动到另一个数据库</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/object">OBJECT</a></td>
<td>检查 Redis 对象的内部结构</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/restore">RESTORE</a></td>
<td>使用提供的序列化值创建键值对，之前使用 DUMP 获得</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/sort">SORT</a></td>
<td>对列表、集合或有序集合中的元素进行排序</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/wait">WAIT</a></td>
<td>等待在当前连接的上下文中发送的所有写命令的同步复制</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/scan">SCAN</a></td>
<td>增量迭代键空间</td>
</tr>
</tbody></table>
<h3 id="DEL"><a href="#DEL" class="headerlink" title="DEL"></a>DEL</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DEL key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-7"><a href="#例子-7" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DEL key1 key2 key3</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>删除键值对</p>
<h3 id="DUMP"><a href="#DUMP" class="headerlink" title="DUMP"></a>DUMP</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DUMP key</span><br></pre></td></tr></table></figure>

<h4 id="例子-8"><a href="#例子-8" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey 10</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DUMP mykey</span></span><br><span class="line">&quot;\u0000\xC0\n\t\u0000\xBEm\u0006\x89Z(\u0000\n&quot;</span><br></pre></td></tr></table></figure>

<p>返回存储在指定键中的值的序列化版本</p>
<h3 id="EXISTS"><a href="#EXISTS" class="headerlink" title="EXISTS"></a>EXISTS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">EXISTS key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-9"><a href="#例子-9" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXISTS key1</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXISTS nosuchkey</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXISTS key1 key2 nosuchkey</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>判断键值对是否存在</p>
<h3 id="EXPIRE"><a href="#EXPIRE" class="headerlink" title="EXPIRE"></a>EXPIRE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">EXPIRE key seconds</span><br></pre></td></tr></table></figure>

<h4 id="例子-10"><a href="#例子-10" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXPIRE mykey 10</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) 10</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) -1</span><br></pre></td></tr></table></figure>

<p>设置键值对的生存时间(以秒为单位)</p>
<h3 id="EXPIREAT"><a href="#EXPIREAT" class="headerlink" title="EXPIREAT"></a>EXPIREAT</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">EXPIREAT key timestamp</span><br></pre></td></tr></table></figure>

<h4 id="例子-11"><a href="#例子-11" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXISTS mykey</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXPIREAT mykey 1293840000</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXISTS mykey</span></span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<p>将键值对的到期时间设置为 UNIX 时间戳</p>
<h3 id="KEYS"><a href="#KEYS" class="headerlink" title="KEYS"></a>KEYS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">KEYS pattern</span><br></pre></td></tr></table></figure>

<h4 id="例子-12"><a href="#例子-12" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">MSET firstname Jack lastname Stuntman age 35</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">KEYS *name*</span></span><br><span class="line">1) &quot;firstname&quot;</span><br><span class="line">2) &quot;lastname&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">KEYS a??</span></span><br><span class="line">1) &quot;age&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">KEYS *</span></span><br><span class="line">1) &quot;firstname&quot;</span><br><span class="line">2) &quot;age&quot;</span><br><span class="line">3) &quot;lastname&quot;</span><br></pre></td></tr></table></figure>

<p>查找与给定模式匹配的所有键</p>
<h3 id="PERSIST"><a href="#PERSIST" class="headerlink" title="PERSIST"></a>PERSIST</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PERSIST key</span><br></pre></td></tr></table></figure>

<h4 id="例子-13"><a href="#例子-13" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXPIRE mykey 10</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) 10</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PERSIST mykey</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) -1</span><br></pre></td></tr></table></figure>

<p>从键值对中删除过期时间</p>
<h3 id="PEXPIRE"><a href="#PEXPIRE" class="headerlink" title="PEXPIRE"></a>PEXPIRE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PEXPIRE key milliseconds</span><br></pre></td></tr></table></figure>

<h4 id="例子-14"><a href="#例子-14" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PEXPIRE mykey 1500</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PTTL mykey</span></span><br><span class="line">(integer) 1499</span><br></pre></td></tr></table></figure>

<p>设置键的生存时间(以毫秒为单位)</p>
<h3 id="PEXPIREAT"><a href="#PEXPIREAT" class="headerlink" title="PEXPIREAT"></a>PEXPIREAT</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PEXPIREAT key milliseconds-timestamp</span><br></pre></td></tr></table></figure>

<h4 id="例子-15"><a href="#例子-15" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PEXPIREAT mykey 1555555555005</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) -2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PTTL mykey</span></span><br><span class="line">(integer) -2</span><br></pre></td></tr></table></figure>

<p>将键值对的到期时间设置为以毫秒为单位指定的 UNIX 时间戳</p>
<h3 id="PTTL"><a href="#PTTL" class="headerlink" title="PTTL"></a>PTTL</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PTTL key</span><br></pre></td></tr></table></figure>

<h4 id="例子-16"><a href="#例子-16" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXPIRE mykey 1</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PTTL mykey</span></span><br><span class="line">(integer) 1000</span><br></pre></td></tr></table></figure>

<p>以毫秒为单位获取键值对的生存时间</p>
<h3 id="RENAME"><a href="#RENAME" class="headerlink" title="RENAME"></a>RENAME</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RENAME key newkey</span><br></pre></td></tr></table></figure>

<h4 id="例子-17"><a href="#例子-17" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RENAME mykey myotherkey</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET myotherkey</span></span><br><span class="line">&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>重命名键值对</p>
<h3 id="RENAMENX"><a href="#RENAMENX" class="headerlink" title="RENAMENX"></a>RENAMENX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RENAMENX key newkey</span><br></pre></td></tr></table></figure>

<h4 id="例子-18"><a href="#例子-18" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET myotherkey <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RENAMENX mykey myotherkey</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET myotherkey</span></span><br><span class="line">&quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>重命名键值对，仅当新键值对不存在时</p>
<h3 id="TOUCH"><a href="#TOUCH" class="headerlink" title="TOUCH"></a>TOUCH</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TOUCH key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-19"><a href="#例子-19" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TOUCH key1 key2</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>更改键值对的最后访问时间。返回指定的现有键的数量</p>
<h3 id="TTL"><a href="#TTL" class="headerlink" title="TTL"></a>TTL</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TTL key</span><br></pre></td></tr></table></figure>

<h4 id="例子-20"><a href="#例子-20" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXPIRE mykey 10</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) 10</span><br></pre></td></tr></table></figure>

<p>获得一个键的值的时间(有点绕口，但意思是对的)</p>
<h3 id="TYPE"><a href="#TYPE" class="headerlink" title="TYPE"></a>TYPE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TYPE key</span><br></pre></td></tr></table></figure>

<h4 id="例子-21"><a href="#例子-21" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;value&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH key2 <span class="string">&quot;value&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key3 <span class="string">&quot;value&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TYPE key1</span></span><br><span class="line">&quot;string&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TYPE key2</span></span><br><span class="line">&quot;list&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TYPE key3</span></span><br><span class="line">&quot;set&quot;</span><br></pre></td></tr></table></figure>

<p>确定存储在键中的类型</p>
<h3 id="UNLINK"><a href="#UNLINK" class="headerlink" title="UNLINK"></a>UNLINK</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">UNLINK key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-22"><a href="#例子-22" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">UNLINK key1 key2 key3</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>在另一个线程中异步删除一个键。否则它就像 DEL，但不是阻塞的</p>
<h2 id="Redis-连接相关的命令"><a href="#Redis-连接相关的命令" class="headerlink" title="Redis 连接相关的命令"></a>Redis 连接相关的命令</h2><h3 id="一些引用-可能有帮助-2"><a href="#一些引用-可能有帮助-2" class="headerlink" title="一些引用(可能有帮助)"></a>一些引用(可能有帮助)</h3><!--rehype:wrap-class=row-span-2-->

<table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/auth">AUTH</a></td>
<td>向服务器进行身份验证</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-caching">CLIENT CACHING</a></td>
<td>指示服务器在下一个请求中是否跟踪键</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-kill">CLIENT KILL</a></td>
<td>终止客户端的连接</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-list">CLIENT LIST</a></td>
<td>获取客户端连接列表</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-getname">CLIENT GETNAME</a></td>
<td>获取当前连接名称</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-getredir">CLIENT GETREDIR</a></td>
<td>获取跟踪通知重定向客户端 ID(如果有)</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-pause">CLIENT PAUSE</a></td>
<td>停止处理来自客户端的命令一段时间</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-reply">CLIENT REPLY</a></td>
<td>指示服务器是否回复命令</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-setname">CLIENT SETNAME</a></td>
<td>设置当前连接名称</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-tracking">CLIENT TRACKING</a></td>
<td>启用或禁用服务器辅助客户端缓存支持</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/client-unblock">CLIENT UNBLOCK</a></td>
<td>取消阻止来自不同连接的阻塞命令中阻塞的客户端</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/hello">HELLO</a></td>
<td>切换Redis协议</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/quit">QUIT</a></td>
<td>关闭连接</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/reset">RESET</a></td>
<td>重置连接</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/select">SELECT</a></td>
<td>更改为当前连接选择的数据库</td>
</tr>
</tbody></table>
<h3 id="CLIENT-ID"><a href="#CLIENT-ID" class="headerlink" title="CLIENT ID"></a>CLIENT ID</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">CLIENT ID</span><br></pre></td></tr></table></figure>

<h4 id="例子-23"><a href="#例子-23" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">CLIENT ID</span></span><br><span class="line">ERR Unknown or disabled command &#x27;CLIENT&#x27;</span><br></pre></td></tr></table></figure>

<p>返回当前连接的客户端 ID</p>
<h3 id="CLIENT-INFO"><a href="#CLIENT-INFO" class="headerlink" title="CLIENT INFO"></a>CLIENT INFO</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">CLIENT INFO</span><br></pre></td></tr></table></figure>

<h4 id="例子-24"><a href="#例子-24" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">CLIENT INFO</span></span><br><span class="line">&quot;id=55542 addr=127.0.0.1:58710 laddr=127.0.0.1:6379 fd=8 name= age=114920 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=26 qbuf-free=40928 argv-mem=10 obl=0 oll=0 omem=0 tot-mem=61466 events=r cmd=client user=default redir=-1\n&quot;</span><br></pre></td></tr></table></figure>

<p>返回有关当前客户端连接的信息。</p>
<h3 id="ECHO"><a href="#ECHO" class="headerlink" title="ECHO"></a>ECHO</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ECHO message</span><br></pre></td></tr></table></figure>

<h4 id="例子-25"><a href="#例子-25" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ECHO <span class="string">&quot;Hello World!&quot;</span></span></span><br><span class="line">&quot;Hello World!&quot;</span><br></pre></td></tr></table></figure>

<p>回显给定的字符串</p>
<h3 id="PING"><a href="#PING" class="headerlink" title="PING"></a>PING</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">PING [message]</span><br></pre></td></tr></table></figure>

<h4 id="例子-26"><a href="#例子-26" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PING</span></span><br><span class="line">&quot;PONG&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PING <span class="string">&quot;hello world&quot;</span></span></span><br><span class="line">&quot;hello world&quot;</span><br></pre></td></tr></table></figure>

<p>ping 服务器</p>
<h2 id="Redis-字符串类型设置"><a href="#Redis-字符串类型设置" class="headerlink" title="Redis 字符串类型设置"></a>Redis 字符串类型设置</h2><h3 id="APPEND"><a href="#APPEND" class="headerlink" title="APPEND"></a>APPEND</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">APPEND key value</span><br></pre></td></tr></table></figure>

<h4 id="例子-27"><a href="#例子-27" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">EXISTS mykey</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">APPEND mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">APPEND mykey <span class="string">&quot; World&quot;</span></span></span><br><span class="line">(integer) 11</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;Hello World&quot;</span><br></pre></td></tr></table></figure>

<p>将值附加到键,可以理解为追加作用</p>
<h3 id="BITCOUNT"><a href="#BITCOUNT" class="headerlink" title="BITCOUNT"></a>BITCOUNT</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">BITCOUNT key [start end]</span><br></pre></td></tr></table></figure>

<h4 id="例子-28"><a href="#例子-28" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;foobar&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITCOUNT mykey</span></span><br><span class="line">(integer) 26</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITCOUNT mykey 0 0</span></span><br><span class="line">(integer) 4</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITCOUNT mykey 1 1</span></span><br><span class="line">(integer) 6</span><br></pre></td></tr></table></figure>

<p>计算字符串中的集合位</p>
<h3 id="BITFIELD"><a href="#BITFIELD" class="headerlink" title="BITFIELD"></a>BITFIELD</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">BITFIELD key [GET type offset] [SET type offset value] </span><br><span class="line">[INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL]</span><br></pre></td></tr></table></figure>

<h4 id="例子-29"><a href="#例子-29" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITFIELD mykey INCRBY i5 100 1 GET u4 0</span></span><br><span class="line">1) (integer) 1</span><br><span class="line">2) (integer) 0</span><br></pre></td></tr></table></figure>

<p>对字符串执行任意位域整数运算</p>
<h3 id="BITOP"><a href="#BITOP" class="headerlink" title="BITOP"></a>BITOP</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">BITOP operation destkey key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-30"><a href="#例子-30" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;foobar&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key2 <span class="string">&quot;abcdef&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITOP AND dest key1 key2</span></span><br><span class="line">(integer) 6</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET dest</span></span><br><span class="line">&quot;`bc`ab&quot;</span><br></pre></td></tr></table></figure>

<p>在字符串之间执行按位运算</p>
<h3 id="BITPOS"><a href="#BITPOS" class="headerlink" title="BITPOS"></a>BITPOS</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">BITPOS key bit [start] [end]</span><br></pre></td></tr></table></figure>

<h4 id="例子-31"><a href="#例子-31" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;\xff\xf0\x00&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITPOS mykey 0</span></span><br><span class="line">(integer) 12</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;\x00\xff\xf0&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITPOS mykey 1 0</span></span><br><span class="line">(integer) 8</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITPOS mykey 1 2</span></span><br><span class="line">(integer) 16</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash"><span class="built_in">set</span> mykey <span class="string">&quot;\x00\x00\x00&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BITPOS mykey 1</span></span><br><span class="line">(integer) -1</span><br></pre></td></tr></table></figure>

<p>查找字符串中设置或清除的第一位</p>
<h3 id="DECR"><a href="#DECR" class="headerlink" title="DECR"></a>DECR</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">DECR key</span><br></pre></td></tr></table></figure>

<h4 id="例子-32"><a href="#例子-32" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;10&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DECR mykey</span></span><br><span class="line">(integer) 9</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;234293482390480948029348230948&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DECR mykey</span></span><br><span class="line">ERR ERR value is not an integer or out of range</span><br></pre></td></tr></table></figure>

<p>将键的整数值减一</p>
<h3 id="DECRBY"><a href="#DECRBY" class="headerlink" title="DECRBY"></a>DECRBY</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">DECRBY key decrement</span><br></pre></td></tr></table></figure>

<h4 id="例子-33"><a href="#例子-33" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;10&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DECRBY mykey 3</span></span><br><span class="line">(integer) 7</span><br></pre></td></tr></table></figure>

<p>将键的整数值减去给定的数字</p>
<h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">GET key</span><br></pre></td></tr></table></figure>

<h4 id="例子-34"><a href="#例子-34" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET nonexisting</span></span><br><span class="line">(nil)</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>获取key的值</p>
<h3 id="GETBIT"><a href="#GETBIT" class="headerlink" title="GETBIT"></a>GETBIT</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">GETBIT key offset</span><br></pre></td></tr></table></figure>

<h4 id="例子-35"><a href="#例子-35" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SETBIT mykey 7 1</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETBIT mykey 0</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETBIT mykey 7</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETBIT mykey 100</span></span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<p>返回存储在 <code>key</code> 处的字符串值中 <code>offset</code> 处的位值</p>
<h3 id="GETRANGE"><a href="#GETRANGE" class="headerlink" title="GETRANGE"></a>GETRANGE</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">GETRANGE key start end</span><br></pre></td></tr></table></figure>

<h4 id="例子-36"><a href="#例子-36" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;This is a string&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETRANGE mykey 0 3</span></span><br><span class="line">&quot;This&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETRANGE mykey -3 -1</span></span><br><span class="line">&quot;ing&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETRANGE mykey 0 -1</span></span><br><span class="line">&quot;This is a string&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETRANGE mykey 10 100</span></span><br><span class="line">&quot;string&quot;</span><br></pre></td></tr></table></figure>

<p>获取存储在键中的字符串的子字符串</p>
<h3 id="GETSET"><a href="#GETSET" class="headerlink" title="GETSET"></a>GETSET</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">GETSET key value</span><br></pre></td></tr></table></figure>

<h4 id="例子-37"><a href="#例子-37" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">INCR mycounter</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GETSET mycounter <span class="string">&quot;0&quot;</span></span></span><br><span class="line">&quot;1&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mycounter</span></span><br><span class="line">&quot;0&quot;</span><br></pre></td></tr></table></figure>

<p>设置键的字符串值并返回其旧值</p>
<h3 id="INCR"><a href="#INCR" class="headerlink" title="INCR"></a>INCR</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">INCR key</span><br></pre></td></tr></table></figure>

<h4 id="例子-38"><a href="#例子-38" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;10&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">INCR mykey</span></span><br><span class="line">(integer) 11</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;11&quot;</span><br></pre></td></tr></table></figure>

<p>将键的整数值加一</p>
<h3 id="MSETNX"><a href="#MSETNX" class="headerlink" title="MSETNX"></a>MSETNX</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">MSETNX key value [key value ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-39"><a href="#例子-39" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">MSETNX key1 <span class="string">&quot;Hello&quot;</span> key2 <span class="string">&quot;there&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">MSETNX key2 <span class="string">&quot;new&quot;</span> key3 <span class="string">&quot;world&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">MGET key1 key2 key3</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;there&quot;</span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<p>仅当不存在任何键时，将多个键设置为多个值</p>
<h3 id="INCRBYFLOAT"><a href="#INCRBYFLOAT" class="headerlink" title="INCRBYFLOAT"></a>INCRBYFLOAT</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">INCRBYFLOAT key increment</span><br></pre></td></tr></table></figure>

<h4 id="例子-40"><a href="#例子-40" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey 10.50</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">INCRBYFLOAT mykey 0.1</span></span><br><span class="line">&quot;10.6&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">INCRBYFLOAT mykey -5</span></span><br><span class="line">&quot;5.6&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey 5.0e3</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">INCRBYFLOAT mykey 2.0e2</span></span><br><span class="line">&quot;5200&quot;</span><br></pre></td></tr></table></figure>

<p>将键的浮点值增加给定的数量</p>
<h3 id="MGET"><a href="#MGET" class="headerlink" title="MGET"></a>MGET</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">MGET key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-41"><a href="#例子-41" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">MGET key1 key2 nonexisting</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;World&quot;</span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<p>获取所有给定键的值</p>
<h3 id="MSET"><a href="#MSET" class="headerlink" title="MSET"></a>MSET</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">MSET key value [key value ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-42"><a href="#例子-42" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">MSET key1 <span class="string">&quot;Hello&quot;</span> key2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET key1</span></span><br><span class="line">&quot;Hello&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET key2</span></span><br><span class="line">&quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>将多个键设置为多个值</p>
<h3 id="INCRBY"><a href="#INCRBY" class="headerlink" title="INCRBY"></a>INCRBY</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">INCRBY key increment</span><br></pre></td></tr></table></figure>

<h4 id="例子-43"><a href="#例子-43" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;10&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">INCRBY mykey 5</span></span><br><span class="line">(integer) 15</span><br></pre></td></tr></table></figure>

<p>将键的整数值增加给定的数量</p>
<h3 id="PSETEX"><a href="#PSETEX" class="headerlink" title="PSETEX"></a>PSETEX</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">PSETEX key milliseconds value</span><br></pre></td></tr></table></figure>

<h4 id="例子-44"><a href="#例子-44" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PSETEX mykey 1000 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PTTL mykey</span></span><br><span class="line">(integer) 1000</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>设置键的值和过期时间(以毫秒为单位)</p>
<h3 id="SET"><a href="#SET" class="headerlink" title="SET"></a>SET</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SET key value [EX seconds|PX milliseconds|KEEPTTL] [NX|XX] </span><br><span class="line">[GET]</span><br></pre></td></tr></table></figure>

<h4 id="例子-45"><a href="#例子-45" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;Hello&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET anotherkey <span class="string">&quot;will expire in a minute&quot;</span> EX 60</span></span><br><span class="line">&quot;OK&quot;</span><br></pre></td></tr></table></figure>

<p>设置键的字符串值,可以理解为创建、设置、重设的作用</p>
<h3 id="SETBIT"><a href="#SETBIT" class="headerlink" title="SETBIT"></a>SETBIT</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SETBIT key offset value</span><br></pre></td></tr></table></figure>

<h4 id="例子-46"><a href="#例子-46" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SETBIT mykey 7 1</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SETBIT mykey 7 0</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;\u0000&quot;</span><br></pre></td></tr></table></figure>

<p>设置或清除存储在键中的字符串值中偏移量处的位</p>
<h3 id="SETEX"><a href="#SETEX" class="headerlink" title="SETEX"></a>SETEX</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SETEX key seconds value</span><br></pre></td></tr></table></figure>

<h4 id="例子-47"><a href="#例子-47" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SETEX mykey 10 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">TTL mykey</span></span><br><span class="line">(integer) 10</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>设置密钥的值和过期时间</p>
<h3 id="SETNX"><a href="#SETNX" class="headerlink" title="SETNX"></a>SETNX</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SETNX key value</span><br></pre></td></tr></table></figure>

<h4 id="例子-48"><a href="#例子-48" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SETNX mykey <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SETNX mykey <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET mykey</span></span><br><span class="line">&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>设置键的值，仅当键不存在时</p>
<h3 id="SETRANGE"><a href="#SETRANGE" class="headerlink" title="SETRANGE"></a>SETRANGE</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SETRANGE key offset value</span><br></pre></td></tr></table></figure>

<h4 id="例子-49"><a href="#例子-49" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET key1 <span class="string">&quot;Hello World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SETRANGE key1 6 <span class="string">&quot;Redis&quot;</span></span></span><br><span class="line">(integer) 11</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GET key1</span></span><br><span class="line">&quot;Hello Redis&quot;</span><br></pre></td></tr></table></figure>

<p>覆盖从指定偏移量开始的键处的字符串的一部分</p>
<h3 id="STRLEN"><a href="#STRLEN" class="headerlink" title="STRLEN"></a>STRLEN</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">STRLEN key</span><br></pre></td></tr></table></figure>

<h4 id="例子-50"><a href="#例子-50" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SET mykey <span class="string">&quot;Hello world&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">STRLEN mykey</span></span><br><span class="line">(integer) 11</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">STRLEN nonexisting</span></span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<p>获取存储在键中的值的长度</p>
<h3 id="STRALGO"><a href="#STRALGO" class="headerlink" title="STRALGO"></a>STRALGO</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">STRALGO LCS algo-specific-argument [algo-specific-argument </span><br><span class="line">...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-51"><a href="#例子-51" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">STRALGO LCS KEYS key1 key2 IDX</span></span><br><span class="line">1) &quot;matches&quot;</span><br><span class="line">2) 1) 1) 1) (integer) 4</span><br><span class="line">         2) (integer) 7</span><br><span class="line">      2) 1) (integer) 5</span><br><span class="line">         2) (integer) 8</span><br><span class="line">   2) 1) 1) (integer) 2</span><br><span class="line">         2) (integer) 3</span><br><span class="line">      2) 1) (integer) 0</span><br><span class="line">         2) (integer) 1</span><br><span class="line">3) &quot;len&quot;</span><br><span class="line">4) (integer) 6</span><br></pre></td></tr></table></figure>

<p>针对字符串运行算法(目前为 LCS)</p>
<h2 id="Redis-集合类型设置"><a href="#Redis-集合类型设置" class="headerlink" title="Redis 集合类型设置"></a>Redis 集合类型设置</h2><h3 id="SADD"><a href="#SADD" class="headerlink" title="SADD"></a>SADD</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SADD key member [member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-52"><a href="#例子-52" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS myset</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>将一个或多个成员添加到集合</p>
<h3 id="SCARD"><a href="#SCARD" class="headerlink" title="SCARD"></a>SCARD</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SCARD key</span><br></pre></td></tr></table></figure>

<h4 id="例子-53"><a href="#例子-53" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SCARD myset</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>获取集合中的成员数</p>
<h3 id="SDIFF"><a href="#SDIFF" class="headerlink" title="SDIFF"></a>SDIFF</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SDIFF key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-54"><a href="#例子-54" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;a&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;b&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;d&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;e&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SDIFF key1 key2</span></span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;b&quot;</span><br></pre></td></tr></table></figure>

<p>减去多组</p>
<h3 id="SDIFFSTORE"><a href="#SDIFFSTORE" class="headerlink" title="SDIFFSTORE"></a>SDIFFSTORE</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SDIFFSTORE destination key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-55"><a href="#例子-55" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;a&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;b&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;d&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;e&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SDIFFSTORE key key1 key2</span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS key</span></span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;b&quot;</span><br></pre></td></tr></table></figure>

<p>减去多个集合并将结果集合存储在一个键中</p>
<h3 id="SINTER"><a href="#SINTER" class="headerlink" title="SINTER"></a>SINTER</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SINTER key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-56"><a href="#例子-56" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;a&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;b&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;d&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;e&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SINTER key1 key2</span></span><br><span class="line">1) &quot;c&quot;</span><br></pre></td></tr></table></figure>

<p>交叉多个集合</p>
<h3 id="SINTERSTORE"><a href="#SINTERSTORE" class="headerlink" title="SINTERSTORE"></a>SINTERSTORE</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SINTERSTORE destination key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-57"><a href="#例子-57" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;a&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;b&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;d&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;e&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SINTERSTORE key key1 key2</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS key</span></span><br><span class="line">1) &quot;c&quot;</span><br></pre></td></tr></table></figure>

<p>将多个集合相交并将结果集合存储在一个键中</p>
<h3 id="SISMEMBER"><a href="#SISMEMBER" class="headerlink" title="SISMEMBER"></a>SISMEMBER</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SISMEMBER key member</span><br></pre></td></tr></table></figure>

<h4 id="例子-58"><a href="#例子-58" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SISMEMBER myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SISMEMBER myset <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<p>确定给定值是否是集合的成员</p>
<h3 id="SMISMEMBER"><a href="#SMISMEMBER" class="headerlink" title="SMISMEMBER"></a>SMISMEMBER</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">SMISMEMBER key member [member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-59"><a href="#例子-59" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMISMEMBER myset <span class="string">&quot;one&quot;</span> <span class="string">&quot;notamember&quot;</span></span></span><br><span class="line">1) (integer) 1</span><br><span class="line">2) (integer) 0</span><br></pre></td></tr></table></figure>

<p>返回与集合的给定元素关联的成员资格</p>
<h3 id="SMEMBERS"><a href="#SMEMBERS" class="headerlink" title="SMEMBERS"></a>SMEMBERS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SMEMBERS key</span><br></pre></td></tr></table></figure>

<h4 id="例子-60"><a href="#例子-60" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS myset</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>获取集合中的所有成员</p>
<h3 id="SMOVE"><a href="#SMOVE" class="headerlink" title="SMOVE"></a>SMOVE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SMOVE source destination member</span><br></pre></td></tr></table></figure>

<h4 id="例子-61"><a href="#例子-61" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myotherset <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMOVE myset myotherset <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS myset</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS myotherset</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;three&quot;</span><br></pre></td></tr></table></figure>

<p>将成员从一组移到另一组</p>
<h3 id="SPOP"><a href="#SPOP" class="headerlink" title="SPOP"></a>SPOP</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SPOP key [count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-62"><a href="#例子-62" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SPOP myset</span></span><br><span class="line">&quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS myset</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;four&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;five&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SPOP myset 3</span></span><br><span class="line">1) &quot;four&quot;</span><br><span class="line">2) &quot;five&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS myset</span></span><br><span class="line">1) &quot;one&quot;</span><br></pre></td></tr></table></figure>

<p>从集合中删除并返回一个或多个随机成员</p>
<h3 id="SRANDMEMBER"><a href="#SRANDMEMBER" class="headerlink" title="SRANDMEMBER"></a>SRANDMEMBER</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SRANDMEMBER key [count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-63"><a href="#例子-63" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset one two three</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SRANDMEMBER myset</span></span><br><span class="line">&quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SRANDMEMBER myset 2</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SRANDMEMBER myset -5</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line">4) &quot;three&quot;</span><br><span class="line">5) &quot;one&quot;</span><br></pre></td></tr></table></figure>

<p>从一组中获取一个或多个随机成员</p>
<h3 id="SREM"><a href="#SREM" class="headerlink" title="SREM"></a>SREM</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SREM key member [member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-64"><a href="#例子-64" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD myset <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SREM myset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SREM myset <span class="string">&quot;four&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS myset</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;three&quot;</span><br></pre></td></tr></table></figure>

<p>从集合中删除一个或多个成员</p>
<h3 id="SUNION"><a href="#SUNION" class="headerlink" title="SUNION"></a>SUNION</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SUNION key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-65"><a href="#例子-65" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;a&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;b&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;d&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;e&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SUNION key1 key2</span></span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;c&quot;</span><br><span class="line">3) &quot;e&quot;</span><br><span class="line">4) &quot;b&quot;</span><br><span class="line">5) &quot;d&quot;</span><br></pre></td></tr></table></figure>

<p>添加多组</p>
<h3 id="SUNIONSTORE"><a href="#SUNIONSTORE" class="headerlink" title="SUNIONSTORE"></a>SUNIONSTORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SUNIONSTORE destination key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-66"><a href="#例子-66" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;a&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;b&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key1 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;c&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;d&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SADD key2 <span class="string">&quot;e&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SUNIONSTORE key key1 key2</span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">SMEMBERS key</span></span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;c&quot;</span><br><span class="line">3) &quot;e&quot;</span><br><span class="line">4) &quot;b&quot;</span><br><span class="line">5) &quot;d&quot;</span><br></pre></td></tr></table></figure>

<p>添加多个集合并将结果集合存储在一个键中</p>
<h2 id="Redis-列表类型设置"><a href="#Redis-列表类型设置" class="headerlink" title="Redis 列表类型设置"></a>Redis 列表类型设置</h2><h3 id="一些引用-可能有帮助-3"><a href="#一些引用-可能有帮助-3" class="headerlink" title="一些引用(可能有帮助)"></a>一些引用(可能有帮助)</h3><table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/brpoplpush">BRPOPLPUSH</a></td>
<td>从列表中弹出一个元素，将其推入另一个列表并返回；或阻塞直到有一个可用</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/blmove">BLMOVE</a></td>
<td>从列表中弹出一个元素，将其推入另一个列表并返回；或阻塞直到有一个可用</td>
</tr>
</tbody></table>
<h3 id="BLPOP"><a href="#BLPOP" class="headerlink" title="BLPOP"></a>BLPOP</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BLPOP key [key ...] timeout</span><br></pre></td></tr></table></figure>

<h4 id="例子-67"><a href="#例子-67" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DEL list1 list2</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH list1 a b c</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BLPOP list1 list2 0</span></span><br><span class="line">1) &quot;list1&quot;</span><br><span class="line">2) &quot;a&quot;</span><br></pre></td></tr></table></figure>

<p>删除并获取列表中的第一个元素，或者阻塞直到有一个元素可用</p>
<h3 id="BRPOP"><a href="#BRPOP" class="headerlink" title="BRPOP"></a>BRPOP</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BRPOP key [key ...] timeout</span><br></pre></td></tr></table></figure>

<h4 id="例子-68"><a href="#例子-68" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DEL list1 list2</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH list1 a b c</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BRPOP list1 list2 0</span></span><br><span class="line">1) &quot;list1&quot;</span><br><span class="line">2) &quot;c&quot;</span><br></pre></td></tr></table></figure>

<p>删除并获取列表中的最后一个元素，或者阻塞直到有一个可用</p>
<h3 id="LINDEX"><a href="#LINDEX" class="headerlink" title="LINDEX"></a>LINDEX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LINDEX key index</span><br></pre></td></tr></table></figure>

<h4 id="例子-69"><a href="#例子-69" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH mylist <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH mylist <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LINDEX mylist 0</span></span><br><span class="line">&quot;Hello&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LINDEX mylist -1</span></span><br><span class="line">&quot;World&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LINDEX mylist 3</span></span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<p>通过索引从列表中获取元素</p>
<h3 id="LINSERT"><a href="#LINSERT" class="headerlink" title="LINSERT"></a>LINSERT</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LINSERT key BEFORE|AFTER pivot element</span><br></pre></td></tr></table></figure>

<h4 id="例子-70"><a href="#例子-70" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LINSERT mylist BEFORE <span class="string">&quot;World&quot;</span> <span class="string">&quot;There&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;There&quot;</span><br><span class="line">3) &quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>在列表中的另一个元素之前或之后插入一个元素</p>
<h3 id="LLEN"><a href="#LLEN" class="headerlink" title="LLEN"></a>LLEN</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LLEN key</span><br></pre></td></tr></table></figure>

<h4 id="例子-71"><a href="#例子-71" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH mylist <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH mylist <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LLEN mylist</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>获取列表的长度</p>
<h3 id="LPOP"><a href="#LPOP" class="headerlink" title="LPOP"></a>LPOP</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LPOP key [count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-72"><a href="#例子-72" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPOP mylist</span></span><br><span class="line">&quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;three&quot;</span><br></pre></td></tr></table></figure>

<p>删除并获取列表中的第一个元素</p>
<h3 id="LPOS"><a href="#LPOS" class="headerlink" title="LPOS"></a>LPOS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LPOS key element [RANK rank] [COUNT num-matches] [MAXLEN len]</span><br></pre></td></tr></table></figure>

<h4 id="例子-73"><a href="#例子-73" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist a b c d 1 2 3 4 3 3 3</span></span><br><span class="line">(integer) 11</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPOS mylist 3</span></span><br><span class="line">(integer) 6</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPOS mylist 3 COUNT 0 RANK 2</span></span><br><span class="line">1) (integer) 8</span><br><span class="line">2) (integer) 9</span><br><span class="line">3) (integer) 10</span><br></pre></td></tr></table></figure>

<p>返回列表中匹配元素的索引</p>
<h3 id="LPUSH"><a href="#LPUSH" class="headerlink" title="LPUSH"></a>LPUSH</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LPUSH key element [element ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-74"><a href="#例子-74" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH mylist <span class="string">&quot;world&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH mylist <span class="string">&quot;hello&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;hello&quot;</span><br><span class="line">2) &quot;world&quot;</span><br></pre></td></tr></table></figure>

<p>将一个或多个元素添加到列表中</p>
<h3 id="LPUSHX"><a href="#LPUSHX" class="headerlink" title="LPUSHX"></a>LPUSHX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LPUSHX key element [element ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-75"><a href="#例子-75" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSH mylist <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSHX mylist <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LPUSHX myotherlist <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;World&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE myotherlist 0 -1</span></span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure>

<p>仅当列表存在时才将元素添加到列表中</p>
<h3 id="LRANGE"><a href="#LRANGE" class="headerlink" title="LRANGE"></a>LRANGE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LRANGE key start stop</span><br></pre></td></tr></table></figure>

<h4 id="例子-76"><a href="#例子-76" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 0</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist -3 2</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist -100 100</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 5 10</span></span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure>

<p>从列表中获取一系列元素</p>
<h3 id="LREM"><a href="#LREM" class="headerlink" title="LREM"></a>LREM</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LREM key count element</span><br></pre></td></tr></table></figure>

<h4 id="例子-77"><a href="#例子-77" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;hello&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;foo&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;hello&quot;</span></span></span><br><span class="line">(integer) 4</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LREM mylist -2 <span class="string">&quot;hello&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;hello&quot;</span><br><span class="line">2) &quot;foo&quot;</span><br></pre></td></tr></table></figure>

<p>从列表中删除元素</p>
<h3 id="LSET"><a href="#LSET" class="headerlink" title="LSET"></a>LSET</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LSET key index element</span><br></pre></td></tr></table></figure>

<h4 id="例子-78"><a href="#例子-78" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LSET mylist 0 <span class="string">&quot;four&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LSET mylist -2 <span class="string">&quot;five&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;four&quot;</span><br><span class="line">2) &quot;five&quot;</span><br><span class="line">3) &quot;three&quot;</span><br></pre></td></tr></table></figure>

<p>通过索引设置列表中元素的值</p>
<h3 id="LTRIM"><a href="#LTRIM" class="headerlink" title="LTRIM"></a>LTRIM</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LTRIM key start stop</span><br></pre></td></tr></table></figure>

<h4 id="例子-79"><a href="#例子-79" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LTRIM mylist 1 -1</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;three&quot;</span><br></pre></td></tr></table></figure>

<p>将列表修剪到指定范围</p>
<h3 id="RPOP"><a href="#RPOP" class="headerlink" title="RPOP"></a>RPOP</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RPOP key [count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-80"><a href="#例子-80" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPOP mylist</span></span><br><span class="line">&quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br></pre></td></tr></table></figure>

<p>删除并获取列表中的最后一个元素</p>
<h3 id="RPOPLPUSH"><a href="#RPOPLPUSH" class="headerlink" title="RPOPLPUSH"></a>RPOPLPUSH</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RPOPLPUSH source destination</span><br></pre></td></tr></table></figure>

<h4 id="例子-81"><a href="#例子-81" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPOPLPUSH mylist myotherlist</span></span><br><span class="line">&quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE myotherlist 0 -1</span></span><br><span class="line">1) &quot;three&quot;</span><br></pre></td></tr></table></figure>

<p>删除列表中的最后一个元素，将其添加到另一个列表中并返回</p>
<h3 id="LMOVE"><a href="#LMOVE" class="headerlink" title="LMOVE"></a>LMOVE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LMOVE source destination LEFT|RIGHT LEFT|RIGHT</span><br></pre></td></tr></table></figure>

<h4 id="例子-82"><a href="#例子-82" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LMOVE mylist myotherlist RIGHT LEFT</span></span><br><span class="line">&quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LMOVE mylist myotherlist LEFT RIGHT</span></span><br><span class="line">&quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE myotherlist 0 -1</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line">2) &quot;one&quot;</span><br></pre></td></tr></table></figure>

<p>从列表中弹出一个元素，将其推入另一个列表并返回</p>
<h3 id="RPUSH"><a href="#RPUSH" class="headerlink" title="RPUSH"></a>RPUSH</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RPUSH key element [element ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-83"><a href="#例子-83" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;world&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;hello&quot;</span><br><span class="line">2) &quot;world&quot;</span><br></pre></td></tr></table></figure>

<p>将一个或多个元素附加到列表</p>
<h3 id="RPUSHX"><a href="#RPUSHX" class="headerlink" title="RPUSHX"></a>RPUSHX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RPUSHX key element [element ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-84"><a href="#例子-84" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSH mylist <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSHX mylist <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">RPUSHX myotherlist <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE mylist 0 -1</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;World&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">LRANGE myotherlist 0 -1</span></span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure>

<p>仅当列表存在时才将元素附加到列表</p>
<h2 id="Redis-哈希类型设置"><a href="#Redis-哈希类型设置" class="headerlink" title="Redis 哈希类型设置"></a>Redis 哈希类型设置</h2><h3 id="HDEL"><a href="#HDEL" class="headerlink" title="HDEL"></a>HDEL</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HDEL key field [field ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-85"><a href="#例子-85" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;foo&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HDEL myhash field1</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HDEL myhash field2</span></span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<p>删除一个或多个哈希字段</p>
<h3 id="HEXISTS"><a href="#HEXISTS" class="headerlink" title="HEXISTS"></a>HEXISTS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HEXISTS key field</span><br></pre></td></tr></table></figure>

<h4 id="例子-86"><a href="#例子-86" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;foo&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HEXISTS myhash field1</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HEXISTS myhash field2</span></span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure>

<p>判断哈希字段是否存在</p>
<h3 id="HGET"><a href="#HGET" class="headerlink" title="HGET"></a>HGET</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HGET key field</span><br></pre></td></tr></table></figure>

<h4 id="例子-87"><a href="#例子-87" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;foo&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HGET myhash field1</span></span><br><span class="line">&quot;foo&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HGET myhash field2</span></span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<p>获取哈希字段的值</p>
<h3 id="HGETALL"><a href="#HGETALL" class="headerlink" title="HGETALL"></a>HGETALL</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HGETALL key</span><br></pre></td></tr></table></figure>

<h4 id="例子-88"><a href="#例子-88" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HGETALL myhash</span></span><br><span class="line">1) &quot;field1&quot;</span><br><span class="line">2) &quot;Hello&quot;</span><br><span class="line">3) &quot;field2&quot;</span><br><span class="line">4) &quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>获取哈希中的所有字段和值</p>
<h3 id="HINCRBY"><a href="#HINCRBY" class="headerlink" title="HINCRBY"></a>HINCRBY</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HINCRBY key field increment</span><br></pre></td></tr></table></figure>

<h4 id="例子-89"><a href="#例子-89" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field 5</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HINCRBY myhash field 1</span></span><br><span class="line">(integer) 6</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HINCRBY myhash field -1</span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HINCRBY myhash field -10</span></span><br><span class="line">(integer) -5</span><br></pre></td></tr></table></figure>

<p>将哈希字段的整数值增加给定的数字</p>
<h3 id="HINCRBYFLOAT"><a href="#HINCRBYFLOAT" class="headerlink" title="HINCRBYFLOAT"></a>HINCRBYFLOAT</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HINCRBYFLOAT key field increment</span><br></pre></td></tr></table></figure>

<h4 id="例子-90"><a href="#例子-90" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET mykey field 10.50</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HINCRBYFLOAT mykey field 0.1</span></span><br><span class="line">&quot;10.6&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HINCRBYFLOAT mykey field -5</span></span><br><span class="line">&quot;5.6&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET mykey field 5.0e3</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HINCRBYFLOAT mykey field 2.0e2</span></span><br><span class="line">&quot;5200&quot;</span><br></pre></td></tr></table></figure>

<p>将哈希字段的浮点值增加给定的数量</p>
<h3 id="HKEYS"><a href="#HKEYS" class="headerlink" title="HKEYS"></a>HKEYS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HKEYS key</span><br></pre></td></tr></table></figure>

<h4 id="例子-91"><a href="#例子-91" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HKEYS myhash</span></span><br><span class="line">1) &quot;field1&quot;</span><br><span class="line">2) &quot;field2&quot;</span><br></pre></td></tr></table></figure>

<p>获取哈希中的所有字段</p>
<h3 id="HLEN"><a href="#HLEN" class="headerlink" title="HLEN"></a>HLEN</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HLEN key</span><br></pre></td></tr></table></figure>

<h4 id="例子-92"><a href="#例子-92" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HLEN myhash</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>获取哈希中的字段数</p>
<h3 id="HMGET"><a href="#HMGET" class="headerlink" title="HMGET"></a>HMGET</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HMGET key field [field ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-93"><a href="#例子-93" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HMGET myhash field1 field2 nofield</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;World&quot;</span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<p>获取所有给定哈希字段的值</p>
<h3 id="HMSET"><a href="#HMSET" class="headerlink" title="HMSET"></a>HMSET</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HMSET key field value [field value ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-94"><a href="#例子-94" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HMSET myhash field1 <span class="string">&quot;Hello&quot;</span> field2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HGET myhash field1</span></span><br><span class="line">&quot;Hello&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HGET myhash field2</span></span><br><span class="line">&quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>将多个哈希字段设置为多个值</p>
<h3 id="HSET"><a href="#HSET" class="headerlink" title="HSET"></a>HSET</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HSET key field value [field value ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-95"><a href="#例子-95" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HGET myhash field1</span></span><br><span class="line">&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>设置哈希字段的字符串值</p>
<h3 id="HSETNX"><a href="#HSETNX" class="headerlink" title="HSETNX"></a>HSETNX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HSETNX key field value</span><br></pre></td></tr></table></figure>

<h4 id="例子-96"><a href="#例子-96" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSETNX myhash field <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSETNX myhash field <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HGET myhash field</span></span><br><span class="line">&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<p>设置哈希字段的值，仅当该字段不存在时</p>
<h3 id="HSTRLEN"><a href="#HSTRLEN" class="headerlink" title="HSTRLEN"></a>HSTRLEN</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HSTRLEN key field</span><br></pre></td></tr></table></figure>

<h4 id="例子-97"><a href="#例子-97" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HMSET myhash f1 HelloWorld f2 99 f3 -256</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSTRLEN myhash f1</span></span><br><span class="line">(integer) 10</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSTRLEN myhash f2</span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSTRLEN myhash f3</span></span><br><span class="line">(integer) 4</span><br></pre></td></tr></table></figure>

<p>获取哈希字段值的长度</p>
<h3 id="HVALS"><a href="#HVALS" class="headerlink" title="HVALS"></a>HVALS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HVALS key</span><br></pre></td></tr></table></figure>

<h4 id="例子-98"><a href="#例子-98" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field1 <span class="string">&quot;Hello&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HSET myhash field2 <span class="string">&quot;World&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">HVALS myhash</span></span><br><span class="line">1) &quot;Hello&quot;</span><br><span class="line">2) &quot;World&quot;</span><br></pre></td></tr></table></figure>

<p>获取哈希中的所有值</p>
<h2 id="Redis-排序集类型设置"><a href="#Redis-排序集类型设置" class="headerlink" title="Redis 排序集类型设置"></a>Redis 排序集类型设置</h2><h3 id="BZPOPMIN"><a href="#BZPOPMIN" class="headerlink" title="BZPOPMIN"></a>BZPOPMIN</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BZPOPMIN key [key ...] timeout</span><br></pre></td></tr></table></figure>

<h4 id="例子-99"><a href="#例子-99" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DEL zset1 zset2</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 0 a 1 b 2 c</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BZPOPMIN zset1 zset2 0</span></span><br><span class="line">1) &quot;zset1&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line">3) &quot;0&quot;</span><br></pre></td></tr></table></figure>

<p>从一个或多个排序集合中删除并返回得分最低的成员，或者阻塞直到一个可用</p>
<h3 id="BZPOPMAX"><a href="#BZPOPMAX" class="headerlink" title="BZPOPMAX"></a>BZPOPMAX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BZPOPMAX key [key ...] timeout</span><br></pre></td></tr></table></figure>

<h4 id="例子-100"><a href="#例子-100" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">DEL zset1 zset2</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 0 a 1 b 2 c</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">BZPOPMAX zset1 zset2 0</span></span><br><span class="line">1) &quot;zset1&quot;</span><br><span class="line">2) &quot;c&quot;</span><br><span class="line">3) &quot;2&quot;</span><br></pre></td></tr></table></figure>

<p>从一个或多个排序集合中删除并返回得分最高的成员，或者阻塞直到一个可用</p>
<h3 id="ZADD"><a href="#ZADD" class="headerlink" title="ZADD"></a>ZADD</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZADD key [NX|XX] [GT|LT] [CH] [INCR] score member [score </span><br><span class="line">member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-101"><a href="#例子-101" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;uno&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span> 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;uno&quot;</span><br><span class="line">4) &quot;1&quot;</span><br><span class="line">5) &quot;two&quot;</span><br><span class="line">6) &quot;2&quot;</span><br><span class="line">7) &quot;three&quot;</span><br><span class="line">8) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>将一个或多个成员添加到有序集合中，或者更新其分数(如果它已经存在)</p>
<h3 id="ZCARD"><a href="#ZCARD" class="headerlink" title="ZCARD"></a>ZCARD</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZCARD key</span><br></pre></td></tr></table></figure>

<h4 id="例子-102"><a href="#例子-102" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZCARD myzset</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>获取有序集合中的成员数</p>
<h3 id="ZSCORE"><a href="#ZSCORE" class="headerlink" title="ZSCORE"></a>ZSCORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZSCORE key member</span><br></pre></td></tr></table></figure>

<h4 id="例子-103"><a href="#例子-103" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZSCORE myzset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">&quot;1&quot;</span><br></pre></td></tr></table></figure>

<p>获取与排序集中给定成员关联的分数</p>
<h3 id="ZCOUNT"><a href="#ZCOUNT" class="headerlink" title="ZCOUNT"></a>ZCOUNT</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZCOUNT key min max</span><br></pre></td></tr></table></figure>

<h4 id="例子-104"><a href="#例子-104" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZCOUNT myzset -inf +inf</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZCOUNT myzset (1 3</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></table></figure>

<p>计算得分在给定值内的排序集中的成员</p>
<h3 id="ZDIFF"><a href="#ZDIFF" class="headerlink" title="ZDIFF"></a>ZDIFF</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZDIFF numkeys key [key ...] [WITHSCORES]</span><br></pre></td></tr></table></figure>

<h4 id="例子-105"><a href="#例子-105" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZDIFF 2 zset1 zset2</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZDIFF 2 zset1 zset2 WITHSCORES</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line">2) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>减去多个排序集</p>
<h3 id="ZDIFFSTORE"><a href="#ZDIFFSTORE" class="headerlink" title="ZDIFFSTORE"></a>ZDIFFSTORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZDIFFSTORE destination numkeys key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-106"><a href="#例子-106" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZDIFFSTORE out 2 zset1 zset2</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE out 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line">2) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>减去多个排序集并将生成的排序集存储在新键中</p>
<h3 id="ZINCRBY"><a href="#ZINCRBY" class="headerlink" title="ZINCRBY"></a>ZINCRBY</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZINCRBY key increment member</span><br></pre></td></tr></table></figure>

<h4 id="例子-107"><a href="#例子-107" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZINCRBY myzset 2 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">&quot;3&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;2&quot;</span><br><span class="line">3) &quot;one&quot;</span><br><span class="line">4) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>增加排序集中成员的分数</p>
<h3 id="ZINTER"><a href="#ZINTER" class="headerlink" title="ZINTER"></a>ZINTER</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZINTER numkeys key [key ...] [WEIGHTS weight [weight ...]] </span><br><span class="line">[AGGREGATE SUM|MIN|MAX] [WITHSCORES]</span><br></pre></td></tr></table></figure>

<h4 id="例子-108"><a href="#例子-108" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZINTER 2 zset1 zset2</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZINTER 2 zset1 zset2 WITHSCORES</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;2&quot;</span><br><span class="line">3) &quot;two&quot;</span><br><span class="line">4) &quot;4&quot;</span><br></pre></td></tr></table></figure>

<p>与多个排序集相交</p>
<h3 id="ZINTERSTORE"><a href="#ZINTERSTORE" class="headerlink" title="ZINTERSTORE"></a>ZINTERSTORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZINTERSTORE destination numkeys key [key ...] [WEIGHTS weight </span><br><span class="line">[weight ...]] [AGGREGATE SUM|MIN|MAX]</span><br></pre></td></tr></table></figure>

<h4 id="例子-109"><a href="#例子-109" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZINTERSTORE out 2 zset1 zset2 WEIGHTS 2 3</span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE out 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;5&quot;</span><br><span class="line">3) &quot;two&quot;</span><br><span class="line">4) &quot;10&quot;</span><br></pre></td></tr></table></figure>

<p>将多个排序集相交并将生成的排序集存储在新键中</p>
<h3 id="ZLEXCOUNT"><a href="#ZLEXCOUNT" class="headerlink" title="ZLEXCOUNT"></a>ZLEXCOUNT</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZLEXCOUNT key min max</span><br></pre></td></tr></table></figure>

<h4 id="例子-110"><a href="#例子-110" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 0 a 0 b 0 c 0 d 0 e</span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 0 f 0 g</span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZLEXCOUNT myzset - +</span></span><br><span class="line">(integer) 7</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZLEXCOUNT myzset [b [f</span></span><br><span class="line">(integer) 5</span><br></pre></td></tr></table></figure>

<p>计算给定词典范围之间的有序集合中的成员数</p>
<h3 id="ZPOPMAX"><a href="#ZPOPMAX" class="headerlink" title="ZPOPMAX"></a>ZPOPMAX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZPOPMAX key [count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-111"><a href="#例子-111" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZPOPMAX myzset</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line">2) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>删除并返回排序集中得分最高的成员</p>
<h3 id="ZPOPMIN"><a href="#ZPOPMIN" class="headerlink" title="ZPOPMIN"></a>ZPOPMIN</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZPOPMIN key [count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-112"><a href="#例子-112" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZPOPMIN myzset</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;1&quot;</span><br></pre></td></tr></table></figure>

<p>删除并返回排序集中得分最低的成员</p>
<h3 id="ZRANGE"><a href="#ZRANGE" class="headerlink" title="ZRANGE"></a>ZRANGE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZRANGE key start stop [WITHSCORES]</span><br></pre></td></tr></table></figure>

<h4 id="例子-113"><a href="#例子-113" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 2 3</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset -2 -1</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;three&quot;</span><br></pre></td></tr></table></figure>

<p>按索引返回排序集中的一系列成员</p>
<h3 id="ZRANGEBYLEX"><a href="#ZRANGEBYLEX" class="headerlink" title="ZRANGEBYLEX"></a>ZRANGEBYLEX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZRANGEBYLEX key min max [LIMIT offset count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-114"><a href="#例子-114" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 0 a 0 b 0 c 0 d 0 e 0 f 0 g</span></span><br><span class="line">(integer) 7</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGEBYLEX myzset - [c</span></span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;c&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGEBYLEX myzset - (c</span></span><br><span class="line">1) &quot;a&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGEBYLEX myzset [aaa (g</span></span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;c&quot;</span><br><span class="line">3) &quot;d&quot;</span><br><span class="line">4) &quot;e&quot;</span><br><span class="line">5) &quot;f&quot;</span><br></pre></td></tr></table></figure>

<p>按词典顺序返回排序集中的一系列成员</p>
<h3 id="ZREVRANGEBYLEX"><a href="#ZREVRANGEBYLEX" class="headerlink" title="ZREVRANGEBYLEX"></a>ZREVRANGEBYLEX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREVRANGEBYLEX key max min [LIMIT offset count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-115"><a href="#例子-115" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 0 a 0 b 0 c 0 d 0 e 0 f 0 g</span></span><br><span class="line">(integer) 7</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGEBYLEX myzset [c -</span></span><br><span class="line">1) &quot;c&quot;</span><br><span class="line">2) &quot;b&quot;</span><br><span class="line">3) &quot;a&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGEBYLEX myzset (c -</span></span><br><span class="line">1) &quot;b&quot;</span><br><span class="line">2) &quot;a&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGEBYLEX myzset (g [aaa</span></span><br><span class="line">1) &quot;f&quot;</span><br><span class="line">2) &quot;e&quot;</span><br><span class="line">3) &quot;d&quot;</span><br><span class="line">4) &quot;c&quot;</span><br><span class="line">5) &quot;b&quot;</span><br></pre></td></tr></table></figure>

<p>返回排序集中的一系列成员，按字典范围，从高到低的字符串排序。</p>
<h3 id="ZRANGEBYSCORE"><a href="#ZRANGEBYSCORE" class="headerlink" title="ZRANGEBYSCORE"></a>ZRANGEBYSCORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-116"><a href="#例子-116" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGEBYSCORE myzset -inf +inf</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGEBYSCORE myzset 1 2</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGEBYSCORE myzset (1 2</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGEBYSCORE myzset (1 (2</span></span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure>

<p>按分数返回排序集中的一系列成员</p>
<h3 id="ZRANK"><a href="#ZRANK" class="headerlink" title="ZRANK"></a>ZRANK</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZRANK key member</span><br></pre></td></tr></table></figure>

<h4 id="例子-117"><a href="#例子-117" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANK myzset <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANK myzset <span class="string">&quot;four&quot;</span></span></span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<p>确定有序集合中成员的索引</p>
<h3 id="ZREM"><a href="#ZREM" class="headerlink" title="ZREM"></a>ZREM</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREM key member [member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-118"><a href="#例子-118" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREM myzset <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;1&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line">4) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>从有序集合中移除一个或多个成员</p>
<h3 id="ZREMRANGEBYLEX"><a href="#ZREMRANGEBYLEX" class="headerlink" title="ZREMRANGEBYLEX"></a>ZREMRANGEBYLEX</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREMRANGEBYLEX key min max</span><br></pre></td></tr></table></figure>

<h4 id="例子-119"><a href="#例子-119" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 0 aaaa 0 b 0 c 0 d 0 e</span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 0 foo 0 zap 0 zip 0 ALPHA 0 alpha</span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1</span></span><br><span class="line">1) &quot;ALPHA&quot;</span><br><span class="line"> 2) &quot;aaaa&quot;</span><br><span class="line"> 3) &quot;alpha&quot;</span><br><span class="line"> 4) &quot;b&quot;</span><br><span class="line"> 5) &quot;c&quot;</span><br><span class="line"> 6) &quot;d&quot;</span><br><span class="line"> 7) &quot;e&quot;</span><br><span class="line"> 8) &quot;foo&quot;</span><br><span class="line"> 9) &quot;zap&quot;</span><br><span class="line">10) &quot;zip&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREMRANGEBYLEX myzset [alpha [omega</span></span><br><span class="line">(integer) 6</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1</span></span><br><span class="line">1) &quot;ALPHA&quot;</span><br><span class="line">2) &quot;aaaa&quot;</span><br><span class="line">3) &quot;zap&quot;</span><br><span class="line">4) &quot;zip&quot;</span><br></pre></td></tr></table></figure>

<p>删除给定词典范围之间的排序集中的所有成员</p>
<h3 id="ZREMRANGEBYRANK"><a href="#ZREMRANGEBYRANK" class="headerlink" title="ZREMRANGEBYRANK"></a>ZREMRANGEBYRANK</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREMRANGEBYRANK key start stop</span><br></pre></td></tr></table></figure>

<h4 id="例子-120"><a href="#例子-120" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREMRANGEBYRANK myzset 0 1</span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line">2) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>删除给定索引内排序集中的所有成员</p>
<h3 id="ZREMRANGEBYSCORE"><a href="#ZREMRANGEBYSCORE" class="headerlink" title="ZREMRANGEBYSCORE"></a>ZREMRANGEBYSCORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREMRANGEBYSCORE key min max</span><br></pre></td></tr></table></figure>

<h4 id="例子-121"><a href="#例子-121" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREMRANGEBYSCORE myzset -inf (2</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE myzset 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;2&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line">4) &quot;3&quot;</span><br></pre></td></tr></table></figure>

<p>删除给定分数内排序集中的所有成员</p>
<h3 id="ZREVRANGE"><a href="#ZREVRANGE" class="headerlink" title="ZREVRANGE"></a>ZREVRANGE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREVRANGE key start stop [WITHSCORES]</span><br></pre></td></tr></table></figure>

<h4 id="例子-122"><a href="#例子-122" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGE myzset 0 -1</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">3) &quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGE myzset 2 3</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGE myzset -2 -1</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;one&quot;</span><br></pre></td></tr></table></figure>

<p>按索引返回排序集中的一系列成员，分数从高到低排序</p>
<h3 id="ZREVRANGEBYSCORE"><a href="#ZREVRANGEBYSCORE" class="headerlink" title="ZREVRANGEBYSCORE"></a>ZREVRANGEBYSCORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-123"><a href="#例子-123" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGEBYSCORE myzset +inf -inf</span></span><br><span class="line">1) &quot;three&quot;</span><br><span class="line">2) &quot;two&quot;</span><br><span class="line">3) &quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGEBYSCORE myzset 2 1</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line">2) &quot;one&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGEBYSCORE myzset 2 (1</span></span><br><span class="line">1) &quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANGEBYSCORE myzset (2 (1</span></span><br><span class="line">(empty list or set)</span><br></pre></td></tr></table></figure>

<p>按分数返回排序集中的一系列成员，分数从高到低排序</p>
<h3 id="ZREVRANK"><a href="#ZREVRANK" class="headerlink" title="ZREVRANK"></a>ZREVRANK</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZREVRANK key member</span><br></pre></td></tr></table></figure>

<h4 id="例子-124"><a href="#例子-124" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANK myzset <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZREVRANK myzset <span class="string">&quot;four&quot;</span></span></span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<p>确定一个成员在有序集合中的索引，分数从高到低排序</p>
<h3 id="ZUNION"><a href="#ZUNION" class="headerlink" title="ZUNION"></a>ZUNION</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZUNION numkeys key [key ...] [WEIGHTS weight [weight ...]] </span><br><span class="line">[AGGREGATE SUM|MIN|MAX] [WITHSCORES]</span><br></pre></td></tr></table></figure>

<h4 id="例子-125"><a href="#例子-125" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZUNION 2 zset1 zset2</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;three&quot;</span><br><span class="line">3) &quot;two&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZUNION 2 zset1 zset2 WITHSCORES</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;2&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line">4) &quot;3&quot;</span><br><span class="line">5) &quot;two&quot;</span><br><span class="line">6) &quot;4&quot;</span><br></pre></td></tr></table></figure>

<p>添加多个排序集</p>
<h3 id="ZMSCORE"><a href="#ZMSCORE" class="headerlink" title="ZMSCORE"></a>ZMSCORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZMSCORE key member [member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-126"><a href="#例子-126" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD myzset 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZMSCORE myzset <span class="string">&quot;one&quot;</span> <span class="string">&quot;two&quot;</span> <span class="string">&quot;nofield&quot;</span></span></span><br><span class="line">1) &quot;1&quot;</span><br><span class="line">2) &quot;2&quot;</span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<p>获取与排序集中给定成员关联的分数</p>
<h3 id="ZUNIONSTORE"><a href="#ZUNIONSTORE" class="headerlink" title="ZUNIONSTORE"></a>ZUNIONSTORE</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight </span><br><span class="line">[weight ...]] [AGGREGATE SUM|MIN|MAX]</span><br></pre></td></tr></table></figure>

<h4 id="例子-127"><a href="#例子-127" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset1 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 1 <span class="string">&quot;one&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 2 <span class="string">&quot;two&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZADD zset2 3 <span class="string">&quot;three&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZUNIONSTORE out 2 zset1 zset2 WEIGHTS 2 3</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">ZRANGE out 0 -1 WITHSCORES</span></span><br><span class="line">1) &quot;one&quot;</span><br><span class="line">2) &quot;5&quot;</span><br><span class="line">3) &quot;three&quot;</span><br><span class="line">4) &quot;9&quot;</span><br><span class="line">5) &quot;two&quot;</span><br><span class="line">6) &quot;10&quot;</span><br></pre></td></tr></table></figure>

<p>添加多个排序集并将生成的排序集存储在新键中</p>
<h2 id="Redis地图坐标集类型设置"><a href="#Redis地图坐标集类型设置" class="headerlink" title="Redis地图坐标集类型设置"></a>Redis地图坐标集类型设置</h2><!--rehype:body-class=cols-2-->

<h3 id="GEOADD"><a href="#GEOADD" class="headerlink" title="GEOADD"></a>GEOADD</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GEOADD key longitude latitude member [longitude latitude member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-128"><a href="#例子-128" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEODIST Sicily Palermo Catania</span></span><br><span class="line">&quot;166274.1516&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEORADIUS Sicily 15 37 100 km</span></span><br><span class="line">1) &quot;Catania&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEORADIUS Sicily 15 37 200 km</span></span><br><span class="line">1) &quot;Palermo&quot;</span><br><span class="line">2) &quot;Catania&quot;</span><br></pre></td></tr></table></figure>

<p>在使用排序集表示的地理空间索引中添加一个或多个地理空间项</p>
<h3 id="GEOHASH"><a href="#GEOHASH" class="headerlink" title="GEOHASH"></a>GEOHASH</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GEOHASH key member [member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-129"><a href="#例子-129" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOHASH Sicily Palermo Catania</span></span><br><span class="line">1) &quot;sqc8b49rny0&quot;</span><br><span class="line">2) &quot;sqdtr74hyu0&quot;</span><br></pre></td></tr></table></figure>

<p>将地理空间索引的成员作为标准 geohash 字符串返回</p>
<h3 id="GEOPOS"><a href="#GEOPOS" class="headerlink" title="GEOPOS"></a>GEOPOS</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GEOPOS key member [member ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-130"><a href="#例子-130" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOPOS Sicily Palermo Catania NonExisting</span></span><br><span class="line">1) 1) &quot;13.36138933897018433&quot;</span><br><span class="line">   2) &quot;38.11555639549629859&quot;</span><br><span class="line">2) 1) &quot;15.08726745843887329&quot;</span><br><span class="line">   2) &quot;37.50266842333162032&quot;</span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<p>返回地理空间索引成员的经度和纬度</p>
<h3 id="GEODIST"><a href="#GEODIST" class="headerlink" title="GEODIST"></a>GEODIST</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GEODIST key member1 member2 [m|km|ft|mi]</span><br></pre></td></tr></table></figure>

<h4 id="例子-131"><a href="#例子-131" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEODIST Sicily Palermo Catania</span></span><br><span class="line">&quot;166274.1516&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEODIST Sicily Palermo Catania km</span></span><br><span class="line">&quot;166.2742&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEODIST Sicily Palermo Catania mi</span></span><br><span class="line">&quot;103.3182&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEODIST Sicily Foo Bar</span></span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<p>返回地理空间索引的两个成员之间的距离</p>
<h3 id="GEORADIUS"><a href="#GEORADIUS" class="headerlink" title="GEORADIUS"></a>GEORADIUS</h3><!--rehype:wrap-class=row-span-3-->

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GEORADIUS key longitude latitude radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT </span><br><span class="line">count] [ASC|DESC] [STORE key] [STOREDIST key]</span><br></pre></td></tr></table></figure>

<h4 id="例子-132"><a href="#例子-132" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEORADIUS Sicily 15 37 200 km WITHDIST</span></span><br><span class="line">1) 1) &quot;Palermo&quot;</span><br><span class="line">   2) &quot;190.4424&quot;</span><br><span class="line">2) 1) &quot;Catania&quot;</span><br><span class="line">   2) &quot;56.4413&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEORADIUS Sicily 15 37 200 km WITHCOORD</span></span><br><span class="line">1) 1) &quot;Palermo&quot;</span><br><span class="line">   2) 1) &quot;13.36138933897018433&quot;</span><br><span class="line">      2) &quot;38.11555639549629859&quot;</span><br><span class="line">2) 1) &quot;Catania&quot;</span><br><span class="line">   2) 1) &quot;15.08726745843887329&quot;</span><br><span class="line">      2) &quot;37.50266842333162032&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEORADIUS Sicily 15 37 200 km WITHDIST WITHCOORD</span></span><br><span class="line">1) 1) &quot;Palermo&quot;</span><br><span class="line">   2) &quot;190.4424&quot;</span><br><span class="line">   3) 1) &quot;13.36138933897018433&quot;</span><br><span class="line">      2) &quot;38.11555639549629859&quot;</span><br><span class="line">2) 1) &quot;Catania&quot;</span><br><span class="line">   2) &quot;56.4413&quot;</span><br><span class="line">   3) 1) &quot;15.08726745843887329&quot;</span><br><span class="line">      2) &quot;37.50266842333162032&quot;</span><br></pre></td></tr></table></figure>

<p>查询表示地理空间索引的排序集，以获取与某个点的给定最大距离匹配的成员</p>
<h3 id="GEORADIUSBYMEMBER"><a href="#GEORADIUSBYMEMBER" class="headerlink" title="GEORADIUSBYMEMBER"></a>GEORADIUSBYMEMBER</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GEORADIUSBYMEMBER key member radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] </span><br><span class="line">[ASC|DESC] [STORE key] [STOREDIST key]</span><br></pre></td></tr></table></figure>

<h4 id="例子-133"><a href="#例子-133" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.583333 37.316667 <span class="string">&quot;Agrigento&quot;</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEORADIUSBYMEMBER Sicily Agrigento 100 km</span></span><br><span class="line">1) &quot;Agrigento&quot;</span><br><span class="line">2) &quot;Palermo&quot;</span><br></pre></td></tr></table></figure>

<p>查询表示地理空间索引的排序集，以获取与成员的给定最大距离相匹配的成员</p>
<h3 id="GEOSEARCH"><a href="#GEOSEARCH" class="headerlink" title="GEOSEARCH"></a>GEOSEARCH</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GEOSEARCH key [FROMMEMBER member] [FROMLONLAT longitude latitude] [BYRADIUS radius m|km|ft|mi] </span><br><span class="line">[BYBOX width height m|km|ft|mi] [ASC|DESC] [COUNT count] [WITHCOORD] [WITHDIST] [WITHHASH]</span><br></pre></td></tr></table></figure>

<h4 id="例子-134"><a href="#例子-134" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 13.361389 38.115556 <span class="string">&quot;Palermo&quot;</span> 15.087269 37.502669 <span class="string">&quot;Catania&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOADD Sicily 12.758489 38.788135 <span class="string">&quot;edge1&quot;</span>   17.241510 38.788135 <span class="string">&quot;edge2&quot;</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOSEARCH Sicily FROMLONLAT 15 37 BYRADIUS 200 km ASC</span></span><br><span class="line">1) &quot;Catania&quot;</span><br><span class="line">2) &quot;Palermo&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">GEOSEARCH Sicily FROMLONLAT 15 37 BYBOX 400 400 km ASC</span></span><br><span class="line">1) &quot;Catania&quot;</span><br><span class="line">2) &quot;Palermo&quot;</span><br><span class="line">3) &quot;edge2&quot;</span><br><span class="line">4) &quot;edge1&quot;</span><br></pre></td></tr></table></figure>

<p>查询表示地理空间索引的排序集，以获取框或圆区域内的成员。</p>
<h3 id="一些引用-可能有帮助-4"><a href="#一些引用-可能有帮助-4" class="headerlink" title="一些引用(可能有帮助)"></a>一些引用(可能有帮助)</h3><table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/geosearchstore">GEOSEARCHSTORE</a></td>
<td>查询表示地理空间索引的排序集以获取框或圆区域内的成员，并将结果存储在另一个键中</td>
</tr>
</tbody></table>
<!--rehype:className=style-list-->

<h2 id="Redis超文本日志类型设置"><a href="#Redis超文本日志类型设置" class="headerlink" title="Redis超文本日志类型设置"></a>Redis超文本日志类型设置</h2><h3 id="PFADD"><a href="#PFADD" class="headerlink" title="PFADD"></a>PFADD</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">PFADD key element [element ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-135"><a href="#例子-135" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFADD hll a b c d e f g</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFCOUNT hll</span></span><br><span class="line">(integer) 7</span><br></pre></td></tr></table></figure>

<p>将指定的元素添加到指定的HyperLogLog。</p>
<h3 id="PFCOUNT"><a href="#PFCOUNT" class="headerlink" title="PFCOUNT"></a>PFCOUNT</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">PFCOUNT key [key ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-136"><a href="#例子-136" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFADD hll foo bar zap</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFADD hll zap zap zap</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFADD hll foo bar</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFCOUNT hll</span></span><br><span class="line">(integer) 3</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFADD some-other-hll 1 2 3</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFCOUNT hll some-other-hll</span></span><br><span class="line">(integer) 6</span><br></pre></td></tr></table></figure>

<p>返回HyperLogLog在键处观察到的集合的近似基数。</p>
<h3 id="PFMERGE"><a href="#PFMERGE" class="headerlink" title="PFMERGE"></a>PFMERGE</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">PFMERGE destkey sourcekey [sourcekey ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-137"><a href="#例子-137" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFADD hll1 foo bar zap a</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFADD hll2 a b c foo</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFMERGE hll3 hll1 hll2</span></span><br><span class="line">&quot;OK&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">PFCOUNT hll3</span></span><br><span class="line">(integer) 6</span><br></pre></td></tr></table></figure>

<p>将N个不同的HyperLogLogs合并成一个。</p>
<h2 id="Redis流命令"><a href="#Redis流命令" class="headerlink" title="Redis流命令"></a>Redis流命令</h2><!--rehype:body-class=cols-2-->

<h3 id="一些引用-可能有帮助-5"><a href="#一些引用-可能有帮助-5" class="headerlink" title="一些引用(可能有帮助)"></a>一些引用(可能有帮助)</h3><table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/xinfo">XINFO</a></td>
<td>获取有关流和消费者组的信息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/xdel">XDEL</a></td>
<td>从流中删除指定的条目。返回实际删除的项目数，如果某些 ID 不存在，则可能与传递的 ID 数不同</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/xread">XREAD</a></td>
<td>返回多个流中从未见过的元素，其 ID 大于调用者为每个流报告的 ID</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/xgroup">XGROUP</a></td>
<td>创建、销毁和管理消费者组</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/xreadgroup">XREADGROUP</a></td>
<td>使用消费者组从流中返回新条目，或访问给定消费者的待处理条目的历史记录</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/xclaim">XCLAIM</a></td>
<td>更改(或获取)消费者组中消息的所有权，就好像消息已传递给指定的消费者一样</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/xpending">XPENDING</a></td>
<td>从流消费者组待定条目列表中返回信息和条目，这些信息是已获取但从未确认的消息</td>
</tr>
</tbody></table>
<!--rehype:className=style-list-->

<h3 id="XADD"><a href="#XADD" class="headerlink" title="XADD"></a>XADD</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">XADD key [MAXLEN [=|~] length] [NOMKSTREAM] *|ID field value [field value ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-138"><a href="#例子-138" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD mystream * name Sara surname OConnor</span></span><br><span class="line">&quot;1609040574632-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD mystream * field1 value1 field2 value2 field3 value3</span></span><br><span class="line">&quot;1609040574632-1&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XLEN mystream</span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XRANGE mystream - +</span></span><br><span class="line">1) 1) &quot;1609040574632-0&quot;</span><br><span class="line">   2) 1) &quot;name&quot;</span><br><span class="line">      2) &quot;Sara&quot;</span><br><span class="line">      3) &quot;surname&quot;</span><br><span class="line">      4) &quot;OConnor&quot;</span><br><span class="line">2) 1) &quot;1609040574632-1&quot;</span><br><span class="line">   2) 1) &quot;field1&quot;</span><br><span class="line">      2) &quot;value1&quot;</span><br><span class="line">      3) &quot;field2&quot;</span><br><span class="line">      4) &quot;value2&quot;</span><br><span class="line">      5) &quot;field3&quot;</span><br><span class="line">      6) &quot;value3&quot;</span><br></pre></td></tr></table></figure>

<p>将新条目附加到流</p>
<h3 id="XTRIM"><a href="#XTRIM" class="headerlink" title="XTRIM"></a>XTRIM</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">XTRIM key MAXLEN [=|~] length</span><br></pre></td></tr></table></figure>

<h4 id="例子-139"><a href="#例子-139" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD mystream * field1 A field2 B field3 C field4 D</span></span><br><span class="line">&quot;1609040575750-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XTRIM mystream MAXLEN 2</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XRANGE mystream - +</span></span><br><span class="line">1) 1) &quot;1609040575750-0&quot;</span><br><span class="line">   2) 1) &quot;field1&quot;</span><br><span class="line">      2) &quot;A&quot;</span><br><span class="line">      3) &quot;field2&quot;</span><br><span class="line">      4) &quot;B&quot;</span><br><span class="line">      5) &quot;field3&quot;</span><br><span class="line">      6) &quot;C&quot;</span><br><span class="line">      7) &quot;field4&quot;</span><br><span class="line">      8) &quot;D&quot;</span><br></pre></td></tr></table></figure>

<p>将流修剪为(大约如果传递了“~”)特定大小</p>
<h3 id="XRANGE"><a href="#XRANGE" class="headerlink" title="XRANGE"></a>XRANGE</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">XRANGE key start end [COUNT count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-140"><a href="#例子-140" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Virginia surname Woolf</span></span><br><span class="line">&quot;1609040578002-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Jane surname Austen</span></span><br><span class="line">&quot;1609040578002-1&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Toni surname Morrison</span></span><br><span class="line">&quot;1609040578003-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Agatha surname Christie</span></span><br><span class="line">&quot;1609040578003-1&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Ngozi surname Adichie</span></span><br><span class="line">&quot;1609040578003-2&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XLEN writers</span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XRANGE writers - + COUNT 2</span></span><br><span class="line">1) 1) &quot;1609040578002-0&quot;</span><br><span class="line">   2) 1) &quot;name&quot;</span><br><span class="line">      2) &quot;Virginia&quot;</span><br><span class="line">      3) &quot;surname&quot;</span><br><span class="line">      4) &quot;Woolf&quot;</span><br><span class="line">2) 1) &quot;1609040578002-1&quot;</span><br><span class="line">   2) 1) &quot;name&quot;</span><br><span class="line">      2) &quot;Jane&quot;</span><br><span class="line">      3) &quot;surname&quot;</span><br><span class="line">      4) &quot;Austen&quot;</span><br></pre></td></tr></table></figure>

<p>返回流中的一系列元素，其 ID 与指定的 ID 间隔相匹配</p>
<h3 id="XREVRANGE"><a href="#XREVRANGE" class="headerlink" title="XREVRANGE"></a>XREVRANGE</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">XREVRANGE key end start [COUNT count]</span><br></pre></td></tr></table></figure>

<h4 id="例子-141"><a href="#例子-141" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Virginia surname Woolf</span></span><br><span class="line">&quot;1609040579130-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Jane surname Austen</span></span><br><span class="line">&quot;1609040579130-1&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Toni surname Morrison</span></span><br><span class="line">&quot;1609040579130-2&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Agatha surname Christie</span></span><br><span class="line">&quot;1609040579131-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD writers * name Ngozi surname Adichie</span></span><br><span class="line">&quot;1609040579131-1&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XLEN writers</span></span><br><span class="line">(integer) 5</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XREVRANGE writers + - COUNT 1</span></span><br><span class="line">1) 1) &quot;1609040579131-1&quot;</span><br><span class="line">   2) 1) &quot;name&quot;</span><br><span class="line">      2) &quot;Ngozi&quot;</span><br><span class="line">      3) &quot;surname&quot;</span><br><span class="line">      4) &quot;Adichie&quot;</span><br></pre></td></tr></table></figure>

<p>返回流中的一系列元素，ID 与指定的 ID 间隔相匹配，与 XRANGE 相比，顺序相反(从大到小的 ID)</p>
<h3 id="XLEN"><a href="#XLEN" class="headerlink" title="XLEN"></a>XLEN</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">XLEN key</span><br></pre></td></tr></table></figure>

<h4 id="例子-142"><a href="#例子-142" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD mystream * item 1</span></span><br><span class="line">&quot;1609040580250-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD mystream * item 2</span></span><br><span class="line">&quot;1609040580250-1&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XADD mystream * item 3</span></span><br><span class="line">&quot;1609040580251-0&quot;</span><br><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XLEN mystream</span></span><br><span class="line">(integer) 3</span><br></pre></td></tr></table></figure>

<p>返回流中的条目数</p>
<h3 id="XACK"><a href="#XACK" class="headerlink" title="XACK"></a>XACK</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">XACK key group ID [ID ...]</span><br></pre></td></tr></table></figure>

<h4 id="例子-143"><a href="#例子-143" class="headerlink" title="例子"></a>例子</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">redis&gt; </span><span class="language-bash">XACK mystream mygroup 1526569495631-0</span></span><br><span class="line">ERR Unknown or disabled command &#x27;XACK&#x27;</span><br></pre></td></tr></table></figure>

<p>将待处理消息标记为已正确处理，有效地将其从消费者组的待处理条目列表中删除，该命令的返回值是成功确认的消息数，即我们实际能够在 <code>PEL</code> 中解析的 <code>ID</code></p>
<h2 id="集群方面的东西"><a href="#集群方面的东西" class="headerlink" title="集群方面的东西"></a>集群方面的东西</h2><!--rehype:body-class=cols-2-->

<h3 id="节点、集群"><a href="#节点、集群" class="headerlink" title="节点、集群"></a>节点、集群</h3><!--rehype:wrap-class=row-span-3-->

<table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-addslots">CLUSTER ADDSLOTS</a></td>
<td>为接收节点分配新的哈希槽</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-bumpepoch">CLUSTER BUMPEPOCH</a></td>
<td>提前集群配置纪元</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-count-failure-reports">CLUSTER COUNT-FAILURE-REPORTS</a></td>
<td>返回给定节点的活动故障报告数</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-countkeysinslot">CLUSTER COUNTKEYSINSLOT</a></td>
<td>返回指定哈希槽中本地键的个数</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-delslots">CLUSTER DELSLOTS</a></td>
<td>在接收节点中将哈希槽设置为未绑定</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-failover">CLUSTER FAILOVER</a></td>
<td>强制副本对其主副本执行手动故障转移</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-flushslots">CLUSTER FLUSHSLOTS</a></td>
<td>删除节点自身的slot信息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-forget">CLUSTER FORGET</a></td>
<td>从节点表中删除一个节点</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-getkeysinslot">CLUSTER GETKEYSINSLOT</a></td>
<td>返回指定哈希槽中的本地键名</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-info">CLUSTER INFO</a></td>
<td>提供有关 Redis 集群节点状态的信息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-keyslot">CLUSTER KEYSLOT</a></td>
<td>返回指定键的哈希槽</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-meet">CLUSTER MEET</a></td>
<td>强制节点集群与另一个节点握手</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-myid">CLUSTER MYID</a></td>
<td>返回节点id</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-nodes">CLUSTER NODES</a></td>
<td>获取节点的集群配置</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-replicate">CLUSTER REPLICATE</a></td>
<td>将节点重新配置为指定主节点的副本</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-reset">CLUSTER RESET</a></td>
<td>重置 Redis 集群节点</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-saveconfig">CLUSTER SAVECONFIG</a></td>
<td>强制节点将集群状态保存在磁盘上</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-set-config-epoch">CLUSTER SET-CONFIG-EPOCH</a></td>
<td>在新节点中设置配置纪元</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-setslot">CLUSTER SETSLOT</a></td>
<td>将哈希槽绑定到特定节点</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-slaves">CLUSTER SLAVES</a></td>
<td>列出指定主节点的副本节点</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-replicas">CLUSTER REPLICAS</a></td>
<td>列出指定主节点的副本节点</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/cluster-slots">CLUSTER SLOTS</a></td>
<td>获取集群插槽数组到节点映射</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/readonly">READONLY</a></td>
<td>为到集群副本节点的连接启用读取查询</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/readwrite">READWRITE</a></td>
<td>禁用对集群副本节点连接的读取查询</td>
</tr>
</tbody></table>
<h3 id="交易"><a href="#交易" class="headerlink" title="交易"></a>交易</h3><table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/discard">DISCARD</a></td>
<td>丢弃 MULTI 之后发出的所有命令</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/exec">EXEC</a></td>
<td>执行 MULTI 之后发出的所有命令</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/multi">MULTI</a></td>
<td>标记事务块的开始</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/unwatch">UNWATCH</a></td>
<td>忘记所有监视的键</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/watch">WATCH</a></td>
<td>观察给定的键以确定MULTI&#x2F;EXEC块的执行</td>
</tr>
</tbody></table>
<h3 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h3><table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/eval">EVAL</a></td>
<td>执行 Lua 脚本服务器端</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/evalsha">EVALSHA</a></td>
<td>执行 Lua 脚本服务器端</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/script-debug">SCRIPT DEBUG</a></td>
<td>为执行的脚本设置调试模式</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/script-exists">SCRIPT EXISTS</a></td>
<td>检查脚本缓存中是否存在脚本</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/script-flush">SCRIPT FLUSH</a></td>
<td>从脚本缓存中删除所有脚本</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/script-kill">SCRIPT KILL</a></td>
<td>终止当前正在执行的脚本</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/script-load">SCRIPT LOAD</a></td>
<td>将指定的 Lua 脚本加载到脚本缓存中</td>
</tr>
</tbody></table>
<h3 id="发布操作"><a href="#发布操作" class="headerlink" title="发布操作"></a>发布操作</h3><table>
<thead>
<tr>
<th align="left">:-</th>
<th>–</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/psubscribe">PSUBSCRIBE</a></td>
<td>侦听发布到与给定模式匹配的频道的消息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/pubsub">PUBSUB</a></td>
<td>检查 Pub&#x2F;Sub 子系统的状态</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/publish">PUBLISH</a></td>
<td>向频道发布消息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/punsubscribe">PUNSUBSCRIBE</a></td>
<td>停止监听发布到与给定模式匹配的频道的消息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/subscribe">SUBSCRIBE</a></td>
<td>收听发布到给定频道的消息</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://redis.io/commands/unsubscribe">UNSUBSCRIBE</a></td>
<td>停止收听发布到给定频道的消息</td>
</tr>
</tbody></table>
</div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">太空毅栈</div><div class="author-info__description">个人博客，记录生活，分享技术。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/caoyixiong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;amp;uin=409677557&amp;amp;site=qq&amp;amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #24292e;"></i></a><a class="social-icon" href="/img/wechat.jpg" target="_blank" title="微信"><i class="fab fa-weixin" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/caoyixiong" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:409677557@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果阅读过程中遇到了问题，请及时评论或者留言，看到了会在第一时间给出回复。</div></div><!-- !=partial('includes/widget/card_wx', {}, {cache: true})--><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/5c3d4808.html" title="第一个Go程序">第一个Go程序</a><time datetime="2024-08-23T16:46:21.634Z" title="发表于 2024-08-24 00:46:21">2024-08-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/65b9ed48.html" title="GOPATH">GOPATH</a><time datetime="2024-08-21T16:28:07.159Z" title="发表于 2024-08-22 00:28:07">2024-08-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/6b9fbde2.html" title="Gin 快速入门">Gin 快速入门</a><time datetime="2024-08-19T17:27:21.321Z" title="发表于 2024-08-20 01:27:21">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/a25657cf.html" title="Go 环境搭建">Go 环境搭建</a><time datetime="2024-08-19T17:27:21.321Z" title="发表于 2024-08-20 01:27:21">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/6999fca8.html" title="go get 包下载失败">go get 包下载失败</a><time datetime="2024-08-19T16:01:05.960Z" title="发表于 2024-08-20 00:01:05">2024-08-20</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">6</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Go/" style="font-size: 1.5em; color: #99a9bf">Go</a> <a href="/tags/Gin/" style="font-size: 1.1em; color: #999">Gin</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">2024年08月</span><span class="card-archive-list-count">6</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">6</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2016-05-13T00:30:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">3.8k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-25T03:30:07.171Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home.jpg')"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">公益广告</p><div class="bg-ad"><div>国家反诈中心是国务院打击治理电信网络新型违法犯罪工作部际联席会议合成作战平台，集资源整合、情报研判、侦查指挥为一体，在打击、防范、治理电信网络诈骗等新型违法犯罪中发挥着重要作用。</div><div class="btn-xz-box"><a class="btn-xz" href="https://caoyixiong.com/">主页</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">导航</p><ul class="ft-links"><li><a href="https://caoyixiong.com/about/">关于博主</a><a href="https://caoyixiong.com/categories/">文章分类</a></li><li><a href="https://caoyixiong.com/sponsor/">来杯咖啡</a><a href="https://caoyixiong.com/tags/">文章标签</a></li><li><a href="https://caoyixiong.com/comments/">说点什么</a><a href="https://caoyixiong.com/archives/">文章归档</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">友链</p><div class="ft-img-group"><div class="img-group-item"><a href="https://caoyixiong.com/"><img src="/img/avatar.jpg" alt=""/></a></div></div></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo-8sxa.vercel.app',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script data-pjax defer src="https://npm.elemecdn.com/tzy-blog/lib/js/theme/chocolate.js"></script><script data-pjax defer src="/js/cursor.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.22.1/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.65.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>