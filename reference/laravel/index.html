<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Laravel 8 备忘清单 | 太空毅栈</title><meta name="author" content="太空毅栈"><meta name="copyright" content="太空毅栈"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Laravel 8 备忘清单是最好的 Laravel 代码段和备忘清单参考 入门Artisan  # 5.1.11 新增：http:&#x2F;&#x2F;laravel.com&#x2F;docs&#x2F;authorization#creating-policies$ php artisan make:policy PostPolicy# 显示给定命令的帮助$ php artisan --help 或 -h# 不输出任何信息$ p">
<meta property="og:type" content="website">
<meta property="og:title" content="Laravel 8 备忘清单">
<meta property="og:url" content="https://caoyixiong.com/reference/laravel/index.html">
<meta property="og:site_name" content="太空毅栈">
<meta property="og:description" content="Laravel 8 备忘清单是最好的 Laravel 代码段和备忘清单参考 入门Artisan  # 5.1.11 新增：http:&#x2F;&#x2F;laravel.com&#x2F;docs&#x2F;authorization#creating-policies$ php artisan make:policy PostPolicy# 显示给定命令的帮助$ php artisan --help 或 -h# 不输出任何信息$ p">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://caoyixiong.com/img/avatar.jpg">
<meta property="article:published_time" content="2024-08-10T06:16:15.810Z">
<meta property="article:modified_time" content="2024-08-10T06:16:15.810Z">
<meta property="article:author" content="太空毅栈">
<meta property="article:tag" content="博客，生活，技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://caoyixiong.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="https://caoyixiong.com/reference/laravel/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"3NQ1I8Z7GZ","apiKey":"df5bcd27157ba7efa007752258f185fd","indexName":"blog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 太空毅栈","link":"链接: ","source":"来源: 太空毅栈","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Laravel 8 备忘清单',
  isPost: false,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-10 14:16:15'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/universe.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/sponsor/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url('/img/home.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="太空毅栈"><img class="site-icon" src="/img/logo.png"/><span class="site-name">太空毅栈</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/sponsor/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">Laravel 8 备忘清单</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><p>Laravel 8 备忘清单是最好的 Laravel 代码段和备忘清单参考</p>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><h3 id="Artisan"><a href="#Artisan" class="headerlink" title="Artisan"></a>Artisan</h3><!--rehype:wrap-class=row-span-10-->

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 5.1.11 新增：http://laravel.com/docs/authorization#creating-policies</span></span><br><span class="line">$ php artisan make:policy PostPolicy</span><br><span class="line"><span class="comment"># 显示给定命令的帮助</span></span><br><span class="line">$ php artisan --<span class="built_in">help</span> 或 -h</span><br><span class="line"><span class="comment"># 不输出任何信息</span></span><br><span class="line">$ php artisan --quiet 或 -q</span><br><span class="line"><span class="comment"># 显示此应用程序版本</span></span><br><span class="line">$ php artisan --version 或 -V</span><br><span class="line"><span class="comment"># 不要问任何互动问题</span></span><br><span class="line">$ php artisan --no-interaction OR -n</span><br><span class="line"><span class="comment"># 强制 ANSI 输出</span></span><br><span class="line">$ php artisan --ansi</span><br><span class="line"><span class="comment"># 禁用 ANSI 输出</span></span><br><span class="line">$ php artisan --no-ansi</span><br><span class="line"><span class="comment"># 命令应运行的环境</span></span><br><span class="line">$ php artisan --<span class="built_in">env</span></span><br><span class="line"><span class="comment"># -v|vv|vvv 增加消息的详细程度：1 表示正常输出，2 表示更详细的输出，3 表示调试</span></span><br><span class="line">$ php artisan --verbose</span><br><span class="line"><span class="comment"># 删除编译的类文件</span></span><br><span class="line">$ php artisan clear-compiled</span><br><span class="line"><span class="comment"># 显示当前框架环境</span></span><br><span class="line">$ php artisan <span class="built_in">env</span></span><br><span class="line"><span class="comment"># 显示命令的帮助</span></span><br><span class="line">$ php artisan <span class="built_in">help</span></span><br><span class="line"><span class="comment"># 列出命令</span></span><br><span class="line">$ php artisan list</span><br><span class="line"><span class="comment"># 与您的应用程序交互</span></span><br><span class="line">$ php artisan tinker</span><br><span class="line"><span class="comment"># 将应用程序置于维护模式</span></span><br><span class="line">$ php artisan down</span><br><span class="line"><span class="comment"># 使应用程序退出维护模式</span></span><br><span class="line">$ php artisan up</span><br><span class="line"><span class="comment"># 优化框架以获得更好的性能</span></span><br><span class="line"><span class="comment"># --force 强制写入已编译的类文件</span></span><br><span class="line"><span class="comment"># --psr 不要优化 Composer dump-autoload</span></span><br><span class="line">$ php artisan optimize [--force] [--psr]</span><br><span class="line"><span class="comment"># 在 PHP 开发服务器上提供应用程序</span></span><br><span class="line">$ php artisan serve</span><br><span class="line"><span class="comment"># 更改默认端口</span></span><br><span class="line">$ php artisan serve --port 8080</span><br><span class="line"><span class="comment"># 让它在本地主机之外工作</span></span><br><span class="line">$ php artisan serve --host 0.0.0.0</span><br><span class="line"><span class="comment"># 设置应用命名空间</span></span><br><span class="line">$ php artisan app:name namespace</span><br><span class="line"><span class="comment"># 刷新过期的密码重置令牌</span></span><br><span class="line">$ php artisan auth:clear-resets</span><br><span class="line"><span class="comment"># 刷新应用程序缓存</span></span><br><span class="line">$ php artisan cache:clear</span><br><span class="line"><span class="comment"># 为缓存数据库表创建迁移</span></span><br><span class="line">$ php artisan cache:table</span><br><span class="line"><span class="comment"># 创建缓存文件以加快配置加载</span></span><br><span class="line">$ php artisan config:cache</span><br><span class="line"><span class="comment"># 删除配置缓存文件</span></span><br><span class="line">$ php artisan config:clear</span><br><span class="line"><span class="comment"># 在节目中</span></span><br><span class="line"><span class="variable">$exitCode</span> = Artisan::call(<span class="string">&#x27;config:cache&#x27;</span>);</span><br><span class="line"><span class="comment"># 用记录播种数据库</span></span><br><span class="line"><span class="comment"># --class 根播种器的类名（默认值：&quot;DatabaseSeeder&quot;）</span></span><br><span class="line"><span class="comment"># --database 种子的数据库连接</span></span><br><span class="line"><span class="comment"># --force 强制操作在生产中运行</span></span><br><span class="line">$ php artisan db:seed [--class[=<span class="string">&quot;...&quot;</span>]] [--database[=<span class="string">&quot;...&quot;</span>]] [--force]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据注册生成缺失的事件和处理程序</span></span><br><span class="line">$ php artisan event:generate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个新的命令处理程序类</span></span><br><span class="line"><span class="comment"># --command 处理程序处理的命令类</span></span><br><span class="line">$ php artisan handler:<span class="built_in">command</span> [--<span class="built_in">command</span>=<span class="string">&quot;...&quot;</span>] name</span><br><span class="line"><span class="comment"># 创建一个新的事件处理程序类</span></span><br><span class="line"><span class="comment"># --event 处理程序处理的事件类</span></span><br><span class="line"><span class="comment"># --queued 表示事件处理程序应该排队</span></span><br><span class="line">$ php artisan handler:event [--event=<span class="string">&quot;...&quot;</span>] [--queued] name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置应用程序密钥</span></span><br><span class="line">$ php artisan key:generate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认情况下，这会创建一个不会推送到队列的自我处理命令</span></span><br><span class="line"><span class="comment"># 传递 --handler 标志以生成处理程序，传递 --queued 标志以使其排队</span></span><br><span class="line">$ php artisan make:<span class="built_in">command</span> [--handler] [--queued] name</span><br><span class="line"><span class="comment"># 创建一个新的 Artisan 命令</span></span><br><span class="line"><span class="comment">#   --command 应分配的终端命令。 （默认值：“命令：名称”）</span></span><br><span class="line">make:console [--<span class="built_in">command</span>[=<span class="string">&quot;...&quot;</span>]] name</span><br><span class="line"><span class="comment"># 创建一个新的足智多谋的控制器</span></span><br><span class="line"><span class="comment"># --plain 生成一个空的控制器类</span></span><br><span class="line">$ php artisan make:controller [--plain] name</span><br><span class="line">$ php artisan make:controller App\\Admin\\Http\\Controllers\\DashboardController</span><br><span class="line"><span class="comment"># 创建一个新的事件类</span></span><br><span class="line">$ php artisan make:event name</span><br><span class="line"><span class="comment"># 新建一个中间件类</span></span><br><span class="line">$ php artisan make:middleware name</span><br><span class="line"><span class="comment"># 创建一个新的迁移文件</span></span><br><span class="line"><span class="comment"># --create 要创建的表</span></span><br><span class="line"><span class="comment"># --table 要迁移的表</span></span><br><span class="line">$ php artisan make:migration [--create[=<span class="string">&quot;...&quot;</span>]] [--table[=<span class="string">&quot;...&quot;</span>]] name</span><br><span class="line"><span class="comment"># 创建一个新的 Eloquent 模型类</span></span><br><span class="line">$ php artisan make:model name</span><br><span class="line"><span class="comment"># 创建一个新的服务提供者类</span></span><br><span class="line">$ php artisan make:provider name</span><br><span class="line"><span class="comment"># 新建一个表单请求类</span></span><br><span class="line">$ php artisan make:request name</span><br><span class="line"><span class="comment"># 数据库迁移</span></span><br><span class="line"><span class="comment"># --database 要使用的数据库连接</span></span><br><span class="line"><span class="comment"># --force 强制操作在生产中运行</span></span><br><span class="line"><span class="comment"># --path 要执行的迁移文件的路径</span></span><br><span class="line"><span class="comment"># --pretend 转储将要运行的 SQL 查询</span></span><br><span class="line"><span class="comment"># --seed 指示是否应重新运行种子任务</span></span><br><span class="line">$ php artisan migrate [--database[=<span class="string">&quot;...&quot;</span>]] [--force] [--path[=<span class="string">&quot;...&quot;</span>]] [--pretend] [--seed]</span><br><span class="line"><span class="comment"># 创建迁移存储库</span></span><br><span class="line">$ php artisan migrate:install [--database[=<span class="string">&quot;...&quot;</span>]]</span><br><span class="line"><span class="comment"># 创建一个新的迁移文件</span></span><br><span class="line"><span class="comment"># --seeder 根播种机的类名。</span></span><br><span class="line">$ php artisan migrate:refresh [--database[=<span class="string">&quot;...&quot;</span>]] [--force] [--seed] [--seeder[=<span class="string">&quot;...&quot;</span>]]</span><br><span class="line"><span class="comment"># 回滚所有数据库迁移</span></span><br><span class="line"><span class="comment"># --pretend 转储将要运行的 SQL 查询。</span></span><br><span class="line">$ php artisan migrate:reset [--database[=<span class="string">&quot;...&quot;</span>]] [--force] [--pretend]</span><br><span class="line"><span class="comment"># 回滚上次数据库迁移</span></span><br><span class="line">$ php artisan migrate:rollback [--database[=<span class="string">&quot;...&quot;</span>]] [--force] [--pretend]</span><br><span class="line"><span class="comment"># 显示上/下迁移列表</span></span><br><span class="line">$ php artisan migrate:status</span><br><span class="line"><span class="comment"># 为队列作业数据库表创建迁移</span></span><br><span class="line">$ php artisan queue:table</span><br><span class="line"><span class="comment"># 收听给定的队列</span></span><br><span class="line"><span class="comment"># --queue 要监听的队列</span></span><br><span class="line"><span class="comment"># --delay 延迟失败作业的时间量（默认值：0）</span></span><br><span class="line"><span class="comment"># --memory 以兆字节为单位的内存限制（默认值：128）</span></span><br><span class="line"><span class="comment"># --timeout 超时前作业可能运行的秒数（默认值：60）</span></span><br><span class="line"><span class="comment"># --sleep 在检查作业队列之前等待的秒数（默认值：3）</span></span><br><span class="line"><span class="comment"># --tries 在记录失败之前尝试作业的次数（默认值：0）</span></span><br><span class="line">$ php artisan queue:listen [--queue[=<span class="string">&quot;...&quot;</span>]] [--delay[=<span class="string">&quot;...&quot;</span>]] [--memory[=<span class="string">&quot;...&quot;</span>]] [--<span class="built_in">timeout</span>[=<span class="string">&quot;...&quot;</span>]] [--<span class="built_in">sleep</span>[=<span class="string">&quot;...&quot;</span>]] [--tries[=<span class="string">&quot;...&quot;</span>]] [connection]</span><br><span class="line"><span class="comment"># 列出所有失败的队列作业</span></span><br><span class="line">$ php artisan queue:failed</span><br><span class="line"><span class="comment"># 为失败队列作业数据库表创建迁移</span></span><br><span class="line">$ php artisan queue:failed-table</span><br><span class="line"><span class="comment"># 刷新所有失败的队列作业</span></span><br><span class="line">$ php artisan queue:flush</span><br><span class="line"><span class="comment"># 删除失败的队列作业</span></span><br><span class="line">$ php artisan queue:forget</span><br><span class="line"><span class="comment"># 在完成当前作业后重新启动队列工作守护进程</span></span><br><span class="line">$ php artisan queue:restart</span><br><span class="line"><span class="comment"># 重试一个失败的队列作业（id：失败作业的ID）</span></span><br><span class="line">$ php artisan queue:retry <span class="built_in">id</span></span><br><span class="line"><span class="comment"># 订阅 Iron.io 推送队列的 URL</span></span><br><span class="line"><span class="comment"># 队列：Iron.io 队列的名称</span></span><br><span class="line"><span class="comment"># url：要订阅的URL</span></span><br><span class="line"><span class="comment"># --type 队列的推送类型</span></span><br><span class="line">$ php artisan queue:subscribe [--<span class="built_in">type</span>[=<span class="string">&quot;...&quot;</span>]] queue url</span><br><span class="line"><span class="comment"># 处理队列中的下一个作业</span></span><br><span class="line"><span class="comment"># --queue 要监听的队列</span></span><br><span class="line"><span class="comment"># --daemon 以守护进程模式运行worker</span></span><br><span class="line"><span class="comment"># --delay 延迟失败作业的时间量（默认值：0）</span></span><br><span class="line"><span class="comment"># --force 即使在维护模式下也强制 worker 运行</span></span><br><span class="line"><span class="comment"># --memory 以兆字节为单位的内存限制（默认值：128）</span></span><br><span class="line"><span class="comment"># --sleep 没有工作时休眠的秒数（默认值：3）</span></span><br><span class="line"><span class="comment"># --tries 在记录失败之前尝试作业的次数（默认值：0）</span></span><br><span class="line">$ php artisan queue:work [--queue[=<span class="string">&quot;...&quot;</span>]] [--daemon] [--delay[=<span class="string">&quot;...&quot;</span>]] [--force] [--memory[=<span class="string">&quot;...&quot;</span>]] [--<span class="built_in">sleep</span>[=<span class="string">&quot;...&quot;</span>]] [--tries[=<span class="string">&quot;...&quot;</span>]] [connection]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建路由缓存文件以加快路由注册</span></span><br><span class="line">$ php artisan route:cache</span><br><span class="line"><span class="comment"># 移除路由缓存文件</span></span><br><span class="line">$ php artisan route:clear</span><br><span class="line"><span class="comment"># 列出所有注册的路由</span></span><br><span class="line">$ php artisan route:list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行预定的命令</span></span><br><span class="line">$ php artisan schedule:run</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为会话数据库表创建迁移</span></span><br><span class="line">$ php artisan session:table</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从供应商包中发布任何可发布的资产</span></span><br><span class="line"><span class="comment"># --force 覆盖任何现有文件</span></span><br><span class="line"><span class="comment"># --provider 具有您要发布的资产的服务提供商</span></span><br><span class="line"><span class="comment"># --tag 包含您要发布的资产的标签</span></span><br><span class="line">$ php artisan vendor:publish [--force] [--provider[=<span class="string">&quot;...&quot;</span>]] [--tag[=<span class="string">&quot;...&quot;</span>]]</span><br><span class="line">$ php artisan <span class="built_in">tail</span> [--path[=<span class="string">&quot;...&quot;</span>]] [--lines[=<span class="string">&quot;...&quot;</span>]] [connection]</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text -->

<h3 id="Composer"><a href="#Composer" class="headerlink" title="Composer"></a>Composer</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ composer create-project laravel/laravel folder_name</span><br><span class="line">$ composer install</span><br><span class="line">$ composer update</span><br><span class="line">$ composer dump-autoload [--optimize]</span><br><span class="line">$ composer self-update</span><br><span class="line">$ composer require [options] [--] [vender/packages]...</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Config</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;app.timezone&#x27;</span>);</span><br><span class="line"><span class="comment">// 使用默认值获取</span></span><br><span class="line"><span class="title class_">Config</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;app.timezone&#x27;</span>, <span class="string">&#x27;UTC&#x27;</span>);</span><br><span class="line"><span class="comment">// 设置配置</span></span><br><span class="line"><span class="title class_">Config</span>::<span class="title function_ invoke__">set</span>(<span class="string">&#x27;database.default&#x27;</span>, <span class="string">&#x27;sqlite&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$environment</span> = <span class="title function_ invoke__">app</span>()-&gt;<span class="title function_ invoke__">environment</span>();</span><br><span class="line"><span class="variable">$environment</span> = <span class="title class_">App</span>::<span class="title function_ invoke__">environment</span>();</span><br><span class="line"><span class="variable">$environment</span> = <span class="variable">$app</span>-&gt;<span class="title function_ invoke__">environment</span>();</span><br><span class="line"><span class="comment">// 环境是当地的</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$app</span>-&gt;<span class="title function_ invoke__">environment</span>(<span class="string">&#x27;local&#x27;</span>))&#123;&#125;</span><br><span class="line"><span class="comment">// 环境要么是本地的，要么是暂存的……</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$app</span>-&gt;<span class="title function_ invoke__">environment</span>(<span class="string">&#x27;local&#x27;</span>, <span class="string">&#x27;staging&#x27;</span>))&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Log-日志"><a href="#Log-日志" class="headerlink" title="Log 日志"></a>Log 日志</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 记录器提供 RFC 5424 中定义的七个日志记录级别：</span></span><br><span class="line"><span class="comment">// 调试、信息、通知、警告、错误、严重和警报</span></span><br><span class="line"><span class="comment">// debug, info, notice, warning, error, critical, 和 alert</span></span><br><span class="line"><span class="title class_">Log</span>::<span class="title function_ invoke__">info</span>(<span class="string">&#x27;info&#x27;</span>);</span><br><span class="line"><span class="title class_">Log</span>::<span class="title function_ invoke__">info</span>(<span class="string">&#x27;info&#x27;</span>,<span class="keyword">array</span>(<span class="string">&#x27;context&#x27;</span>=&gt;<span class="string">&#x27;additional info&#x27;</span>));</span><br><span class="line"><span class="title class_">Log</span>::<span class="title function_ invoke__">error</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line"><span class="title class_">Log</span>::<span class="title function_ invoke__">warning</span>(<span class="string">&#x27;warning&#x27;</span>);</span><br><span class="line"><span class="comment">// 获取独白实例</span></span><br><span class="line"><span class="title class_">Log</span>::<span class="title function_ invoke__">getMonolog</span>();</span><br><span class="line"><span class="comment">// 添加监听器</span></span><br><span class="line"><span class="title class_">Log</span>::<span class="title function_ invoke__">listen</span>(function(<span class="variable">$level</span>, <span class="variable">$message</span>, <span class="variable">$context</span>) &#123;&#125;);</span><br></pre></td></tr></table></figure>

<p>查询记录</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 启用日志</span></span><br><span class="line">DB::<span class="title function_ invoke__">connection</span>()-&gt;<span class="title function_ invoke__">enableQueryLog</span>();</span><br><span class="line"><span class="comment">// 获取已执行查询的数组</span></span><br><span class="line">DB::<span class="title function_ invoke__">getQueryLog</span>();</span><br></pre></td></tr></table></figure>

<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">URL::<span class="title function_ invoke__">full</span>();</span><br><span class="line">URL::<span class="title function_ invoke__">current</span>();</span><br><span class="line">URL::<span class="title function_ invoke__">previous</span>();</span><br><span class="line">URL::<span class="title function_ invoke__">to</span>(<span class="string">&#x27;foo/bar&#x27;</span>, <span class="variable">$parameters</span>, <span class="variable">$secure</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">action</span>(<span class="string">&#x27;NewsController@item&#x27;</span>, [<span class="string">&#x27;id&#x27;</span>=&gt;<span class="number">123</span>]);</span><br><span class="line"><span class="comment">// 需要在适当的命名空间中</span></span><br><span class="line">URL::<span class="title function_ invoke__">action</span>(<span class="string">&#x27;Auth\AuthController@logout&#x27;</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">action</span>(<span class="string">&#x27;FooController@method&#x27;</span>, <span class="variable">$parameters</span>, <span class="variable">$absolute</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">route</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="variable">$parameters</span>, <span class="variable">$absolute</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">secure</span>(<span class="string">&#x27;foo/bar&#x27;</span>, <span class="variable">$parameters</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">asset</span>(<span class="string">&#x27;css/foo.css&#x27;</span>, <span class="variable">$secure</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">secureAsset</span>(<span class="string">&#x27;css/foo.css&#x27;</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">isValidUrl</span>(<span class="string">&#x27;http://example.com&#x27;</span>);</span><br><span class="line">URL::<span class="title function_ invoke__">getRequest</span>();</span><br><span class="line">URL::<span class="title function_ invoke__">setRequest</span>(<span class="variable">$request</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Event</span>::<span class="title function_ invoke__">fire</span>(<span class="string">&#x27;foo.bar&#x27;</span>, <span class="keyword">array</span>(<span class="variable">$bar</span>));</span><br><span class="line"><span class="comment">// 向调度程序注册一个事件侦听器</span></span><br><span class="line"><span class="comment">// void listen(string|array $events, mixed $listener, int $priority)</span></span><br><span class="line"><span class="title class_">Event</span>::<span class="title function_ invoke__">listen</span>(<span class="string">&#x27;App\Events\UserSignup&#x27;</span>, function(<span class="variable">$bar</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Event</span>::<span class="title function_ invoke__">listen</span>(<span class="string">&#x27;foo.*&#x27;</span>, function(<span class="variable">$bar</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Event</span>::<span class="title function_ invoke__">listen</span>(<span class="string">&#x27;foo.bar&#x27;</span>, <span class="string">&#x27;FooHandler&#x27;</span>, <span class="number">10</span>);</span><br><span class="line"><span class="title class_">Event</span>::<span class="title function_ invoke__">listen</span>(<span class="string">&#x27;foo.bar&#x27;</span>, <span class="string">&#x27;BarHandler&#x27;</span>, <span class="number">5</span>);</span><br><span class="line"><span class="comment">// 停止传播事件</span></span><br><span class="line"><span class="comment">// 您可以通过从处理程序返回 false 来执行此操作</span></span><br><span class="line"><span class="title class_">Event</span>::<span class="title function_ invoke__">listen</span>(<span class="string">&#x27;foor.bar&#x27;</span>, function(<span class="variable">$event</span>)&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;);</span><br><span class="line"><span class="title class_">Event</span>::<span class="title function_ invoke__">subscribe</span>(<span class="string">&#x27;UserEventHandler&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Pagination"><a href="#Pagination" class="headerlink" title="Pagination"></a>Pagination</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 自动魔术分页</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">paginate</span>(<span class="number">15</span>);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;cars&#x27;</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">paginate</span>(<span class="number">15</span>);</span><br><span class="line"><span class="comment">// 仅“下一个”和“上一个”</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;cars&#x27;</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">simplePaginate</span>(<span class="number">15</span>);</span><br><span class="line"><span class="comment">// 手动分页器</span></span><br><span class="line"><span class="title class_">Paginator</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$items</span>, <span class="variable">$totalItems</span>, <span class="variable">$perPage</span>);</span><br><span class="line"><span class="comment">// 在视图中打印页面导航器</span></span><br><span class="line"><span class="variable">$variable</span>-&gt;<span class="title function_ invoke__">links</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Lang"><a href="#Lang" class="headerlink" title="Lang"></a>Lang</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">setLocale</span>(<span class="string">&#x27;en&#x27;</span>);</span><br><span class="line"><span class="title class_">Lang</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;messages.welcome&#x27;</span>);</span><br><span class="line"><span class="title class_">Lang</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;messages.welcome&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;foo&#x27;</span> =&gt; <span class="string">&#x27;Bar&#x27;</span>));</span><br><span class="line"><span class="title class_">Lang</span>::<span class="title function_ invoke__">has</span>(<span class="string">&#x27;messages.welcome&#x27;</span>);</span><br><span class="line"><span class="title class_">Lang</span>::<span class="title function_ invoke__">choice</span>(<span class="string">&#x27;messages.apples&#x27;</span>, <span class="number">10</span>);</span><br><span class="line"><span class="comment">// Lang::get alias</span></span><br><span class="line"><span class="title function_ invoke__">trans</span>(<span class="string">&#x27;messages.welcome&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="File"><a href="#File" class="headerlink" title="File"></a>File</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">exists</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">getRemote</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 通过请求获取文件的内容</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">getRequire</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 需要一次给定的文件</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">requireOnce</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 写一个文件的内容</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">put</span>(<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;contents&#x27;</span>);</span><br><span class="line"><span class="comment">// 附加到文件</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">append</span>(<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;data&#x27;</span>);</span><br><span class="line"><span class="comment">// 删除给定路径的文件</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">delete</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 将文件移动到新位置</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">move</span>(<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;target&#x27;</span>);</span><br><span class="line"><span class="comment">// 将文件复制到新位置</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">copy</span>(<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;target&#x27;</span>);</span><br><span class="line"><span class="comment">// 从文件路径中提取文件扩展名</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">extension</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 获取给定文件的文件类型</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">type</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 获取给定文件的文件大小</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">size</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 获取文件的最后修改时间</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">lastModified</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定给定路径是否为目录</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">isDirectory</span>(<span class="string">&#x27;directory&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定给定路径是否可写</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">isWritable</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定给定路径是否为文件</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">isFile</span>(<span class="string">&#x27;file&#x27;</span>);</span><br><span class="line"><span class="comment">// 查找与给定模式匹配的路径名</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">glob</span>(<span class="variable">$patterns</span>, <span class="variable">$flag</span>);</span><br><span class="line"><span class="comment">// 获取目录中所有文件的数组</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">files</span>(<span class="string">&#x27;directory&#x27;</span>);</span><br><span class="line"><span class="comment">// 从给定目录中获取所有文件（递归）</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">allFiles</span>(<span class="string">&#x27;directory&#x27;</span>);</span><br><span class="line"><span class="comment">// 获取给定目录中的所有目录</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">directories</span>(<span class="string">&#x27;directory&#x27;</span>);</span><br><span class="line"><span class="comment">// 创建目录</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">makeDirectory</span>(<span class="string">&#x27;path&#x27;</span>,  <span class="variable">$mode</span> = <span class="number">0777</span>, <span class="variable">$recursive</span> = <span class="literal">false</span>);</span><br><span class="line"><span class="comment">// 将目录从一个位置复制到另一个位置</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">copyDirectory</span>(<span class="string">&#x27;directory&#x27;</span>, <span class="string">&#x27;destination&#x27;</span>, <span class="variable">$options</span> = <span class="literal">null</span>);</span><br><span class="line"><span class="comment">// 递归删除目录</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">deleteDirectory</span>(<span class="string">&#x27;directory&#x27;</span>, <span class="variable">$preserve</span> = <span class="literal">false</span>);</span><br><span class="line"><span class="comment">// 清空指定目录下的所有文件和文件夹</span></span><br><span class="line"><span class="title class_">File</span>::<span class="title function_ invoke__">cleanDirectory</span>(<span class="string">&#x27;directory&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h3><p>执行命令</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">SSH::<span class="title function_ invoke__">run</span>(<span class="keyword">array</span> <span class="variable">$commands</span>);</span><br><span class="line">SSH::<span class="title function_ invoke__">into</span>(<span class="variable">$remote</span>)-&gt;<span class="title function_ invoke__">run</span>(<span class="keyword">array</span> <span class="variable">$commands</span>); </span><br><span class="line"><span class="comment">// 指定远程，否则假定默认</span></span><br><span class="line">SSH::<span class="title function_ invoke__">run</span>(<span class="keyword">array</span> <span class="variable">$commands</span>, function(<span class="variable">$line</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="variable">$line</span>.PHP_EOL;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>任务</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义</span></span><br><span class="line">SSH::<span class="title function_ invoke__">define</span>(<span class="variable">$taskName</span>, <span class="keyword">array</span> <span class="variable">$commands</span>);</span><br><span class="line"><span class="comment">// 执行</span></span><br><span class="line">SSH::<span class="title function_ invoke__">task</span>(<span class="variable">$taskName</span>, function(<span class="variable">$line</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="variable">$line</span>.PHP_EOL;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>SFTP 上传</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">SSH::<span class="title function_ invoke__">put</span>(<span class="variable">$localFile</span>, <span class="variable">$remotePath</span>);</span><br><span class="line">SSH::<span class="title function_ invoke__">putString</span>(<span class="variable">$string</span>, <span class="variable">$remotePath</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Cookie</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cookie</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;default&#x27;</span>);</span><br><span class="line"><span class="comment">// 创建一个永远持续的 cookie</span></span><br><span class="line"><span class="title class_">Cookie</span>::<span class="title function_ invoke__">forever</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 创建一个持续 N 分钟的 cookie</span></span><br><span class="line"><span class="title class_">Cookie</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>, <span class="string">&#x27;minutes&#x27;</span>);</span><br><span class="line"><span class="comment">// 在创建响应之前设置 cookie</span></span><br><span class="line"><span class="title class_">Cookie</span>::<span class="title function_ invoke__">queue</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>, <span class="string">&#x27;minutes&#x27;</span>);</span><br><span class="line"><span class="comment">// 忘记cookie</span></span><br><span class="line"><span class="title class_">Cookie</span>::<span class="title function_ invoke__">forget</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="comment">// 发送带有响应的 cookie</span></span><br><span class="line"><span class="variable">$response</span> = <span class="title class_">Response</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;Hello World&#x27;</span>);</span><br><span class="line"><span class="comment">// 将 cookie 添加到响应中</span></span><br><span class="line"><span class="variable">$response</span>-&gt;<span class="title function_ invoke__">withCookie</span>(<span class="title class_">Cookie</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;value&#x27;</span>, <span class="variable">$minutes</span>));</span><br></pre></td></tr></table></figure>

<h3 id="UnitTest"><a href="#UnitTest" class="headerlink" title="UnitTest"></a>UnitTest</h3><p>安装并运行</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 添加到作曲家并更新：</span></span><br><span class="line"><span class="string">&quot;phpunit/phpunit&quot;</span>: <span class="string">&quot;4.0.*&quot;</span></span><br><span class="line"><span class="comment">// 运行测试（从项目根目录）</span></span><br><span class="line">./vendor/bin/phpunit</span><br></pre></td></tr></table></figure>

<p>断言</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertTrue</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertEquals</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="variable">$bar</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertCount</span>(<span class="number">1</span>,<span class="variable">$times</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertResponseOk</span>();</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertResponseStatus</span>(<span class="number">403</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertRedirectedTo</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertRedirectedToRoute</span>(<span class="string">&#x27;route.name&#x27;</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertRedirectedToAction</span>(<span class="string">&#x27;Controller@method&#x27;</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertViewHas</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertViewHas</span>(<span class="string">&#x27;age&#x27;</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertSessionHasErrors</span>();</span><br><span class="line"><span class="comment">// 断言会话有给定键的错误...</span></span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertSessionHasErrors</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="comment">// 断言会话有几个键的错误...</span></span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertSessionHasErrors</span>(<span class="keyword">array</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>));</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assertHasOldInput</span>();</span><br></pre></td></tr></table></figure>

<p>调用路由</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$response</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">call</span>(<span class="variable">$method</span>, <span class="variable">$uri</span>, <span class="variable">$parameters</span>, <span class="variable">$files</span>, <span class="variable">$server</span>, <span class="variable">$content</span>);</span><br><span class="line"><span class="variable">$response</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">callSecure</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;foo/bar&#x27;</span>);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">session</span>([<span class="string">&#x27;foo&#x27;</span> =&gt; <span class="string">&#x27;bar&#x27;</span>]);</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">flushSession</span>();</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">seed</span>();</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">seed</span>(<span class="variable">$connection</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">put</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>, <span class="variable">$minutes</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">add</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>, <span class="variable">$minutes</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">forever</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">remember</span>(<span class="string">&#x27;key&#x27;</span>, <span class="variable">$minutes</span>, function()&#123; <span class="keyword">return</span> <span class="string">&#x27;value&#x27;</span> &#125;);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">rememberForever</span>(<span class="string">&#x27;key&#x27;</span>, function()&#123; <span class="keyword">return</span> <span class="string">&#x27;value&#x27;</span> &#125;);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">forget</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">has</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;default&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>, function()&#123; <span class="keyword">return</span> <span class="string">&#x27;default&#x27;</span>; &#125;);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">tags</span>(<span class="string">&#x27;my-tag&#x27;</span>)-&gt;<span class="title function_ invoke__">put</span>(<span class="string">&#x27;key&#x27;</span>,<span class="string">&#x27;value&#x27;</span>, <span class="variable">$minutes</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">tags</span>(<span class="string">&#x27;my-tag&#x27;</span>)-&gt;<span class="title function_ invoke__">has</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">tags</span>(<span class="string">&#x27;my-tag&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">tags</span>(<span class="string">&#x27;my-tag&#x27;</span>)-&gt;<span class="title function_ invoke__">forget</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">tags</span>(<span class="string">&#x27;my-tag&#x27;</span>)-&gt;<span class="title function_ invoke__">flush</span>();</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">increment</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">increment</span>(<span class="string">&#x27;key&#x27;</span>, <span class="variable">$amount</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">decrement</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">decrement</span>(<span class="string">&#x27;key&#x27;</span>, <span class="variable">$amount</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">section</span>(<span class="string">&#x27;group&#x27;</span>)-&gt;<span class="title function_ invoke__">put</span>(<span class="string">&#x27;key&#x27;</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">section</span>(<span class="string">&#x27;group&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Cache</span>::<span class="title function_ invoke__">section</span>(<span class="string">&#x27;group&#x27;</span>)-&gt;<span class="title function_ invoke__">flush</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="comment">// 从会话中返回一个项目</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;default&#x27;</span>);</span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>, function()&#123; <span class="keyword">return</span> <span class="string">&#x27;default&#x27;</span>; &#125;);</span><br><span class="line"><span class="comment">// 获取会话 ID</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">getId</span>();</span><br><span class="line"><span class="comment">// 在会话中放置一个键/值对</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">put</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 将值推送到会话中的数组中</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">push</span>(<span class="string">&#x27;foo.bar&#x27;</span>,<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 返回会话中的所有项目</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">all</span>();</span><br><span class="line"><span class="comment">// 检查一个项目是否被定义</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">has</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="comment">// 从会话中删除项目</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">forget</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="comment">// 从会话中删除所有项目</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">flush</span>();</span><br><span class="line"><span class="comment">// 生成新的会话标识符</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">regenerate</span>();</span><br><span class="line"><span class="comment">// 将键/值对闪存到会话</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">flash</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 刷新所有会话闪存数据</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">reflash</span>();</span><br><span class="line"><span class="comment">// 刷新当前闪存数据的一个子集</span></span><br><span class="line"><span class="title class_">Session</span>::<span class="title function_ invoke__">keep</span>(<span class="keyword">array</span>(<span class="string">&#x27;key1&#x27;</span>, <span class="string">&#x27;key2&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="title class_">Response</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$contents</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Response</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$contents</span>, <span class="number">200</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Response</span>::<span class="title function_ invoke__">json</span>(<span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Response</span>::<span class="title function_ invoke__">json</span>(<span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>))</span><br><span class="line">-&gt;<span class="title function_ invoke__">setCallback</span>(<span class="title class_">Input</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;callback&#x27;</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Response</span>::<span class="title function_ invoke__">download</span>(<span class="variable">$filepath</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Response</span>::<span class="title function_ invoke__">download</span>(<span class="variable">$filepath</span>, <span class="variable">$filename</span>, <span class="variable">$headers</span>);</span><br><span class="line"><span class="comment">// 创建响应并修改标头值</span></span><br><span class="line"><span class="variable">$response</span> = <span class="title class_">Response</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$contents</span>, <span class="number">200</span>);</span><br><span class="line"><span class="variable">$response</span>-&gt;<span class="title function_ invoke__">header</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$response</span>;</span><br><span class="line"><span class="comment">// 将 cookie 附加到响应</span></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Response</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$content</span>)</span><br><span class="line">-&gt;<span class="title function_ invoke__">withCookie</span>(<span class="title class_">Cookie</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// url: http://xx.com/aa/bb</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">url</span>();</span><br><span class="line"><span class="comment">// 路径：/aa/bb</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">path</span>();</span><br><span class="line"><span class="comment">// getRequestUri: /aa/bb/?c=d</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">getRequestUri</span>();</span><br><span class="line"><span class="comment">// 返回用户的IP</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">getClientIp</span>();</span><br><span class="line"><span class="comment">// getUri: http://xx.com/aa/bb/?c=d</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">getUri</span>();</span><br><span class="line"><span class="comment">// 获取查询字符串：c=d</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">getQueryString</span>();</span><br><span class="line"><span class="comment">// 获取请求的端口方案（例如 80、443 等）</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">getPort</span>();</span><br><span class="line"><span class="comment">// 确定当前请求 URI 是否与模式匹配</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">is</span>(<span class="string">&#x27;foo/*&#x27;</span>);</span><br><span class="line"><span class="comment">// 从 URI 中获取一个段（基于 1 的索引）</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">segment</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 从请求中检索标头</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">header</span>(<span class="string">&#x27;Content-Type&#x27;</span>);</span><br><span class="line"><span class="comment">// 从请求中检索服务器变量</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">server</span>(<span class="string">&#x27;PATH_INFO&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定请求是否是 AJAX 调用的结果</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">ajax</span>();</span><br><span class="line"><span class="comment">// 确定请求是否通过 HTTPS</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">secure</span>();</span><br><span class="line"><span class="comment">// 获取请求方法</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">method</span>();</span><br><span class="line"><span class="comment">// 检查请求方法是否为指定类型</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">isMethod</span>(<span class="string">&#x27;post&#x27;</span>);</span><br><span class="line"><span class="comment">// 获取原始 POST 数据</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">instance</span>()-&gt;<span class="title function_ invoke__">getContent</span>();</span><br><span class="line"><span class="comment">// 获取请求的响应格式</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">format</span>();</span><br><span class="line"><span class="comment">// 如果 HTTP Content-Type 标头包含 */json，则为真</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">isJson</span>();</span><br><span class="line"><span class="comment">// 如果 HTTP Accept 标头是 application/json，则为真</span></span><br><span class="line"><span class="title class_">Request</span>::<span class="title function_ invoke__">wantsJson</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Container"><a href="#Container" class="headerlink" title="Container"></a>Container</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">bind</span>(<span class="string">&#x27;foo&#x27;</span>, function(<span class="variable">$app</span>)&#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Foo</span>; &#125;);</span><br><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="comment">// 如果这个类存在，则返回</span></span><br><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;FooBar&#x27;</span>);</span><br><span class="line"><span class="comment">// 在容器中注册共享绑定</span></span><br><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">singleton</span>(<span class="string">&#x27;foo&#x27;</span>, function()&#123; <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Foo</span>; &#125;);</span><br><span class="line"><span class="comment">// 将现有实例注册为在容器中共享</span></span><br><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">instance</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="keyword">new</span> <span class="title class_">Foo</span>);</span><br><span class="line"><span class="comment">// 注册与容器的绑定</span></span><br><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">bind</span>(<span class="string">&#x27;FooRepositoryInterface&#x27;</span>, <span class="string">&#x27;BarRepository&#x27;</span>);</span><br><span class="line"><span class="comment">// 使用应用程序注册服务提供商</span></span><br><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">register</span>(<span class="string">&#x27;FooServiceProvider&#x27;</span>);</span><br><span class="line"><span class="comment">// 监听对象分辨率</span></span><br><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">resolving</span>(function(<span class="variable">$object</span>)&#123;&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Redirect"><a href="#Redirect" class="headerlink" title="Redirect"></a>Redirect</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">to</span>(<span class="string">&#x27;foo/bar&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">to</span>(<span class="string">&#x27;foo/bar&#x27;</span>)-&gt;<span class="title function_ invoke__">with</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">to</span>(<span class="string">&#x27;foo/bar&#x27;</span>)-&gt;<span class="title function_ invoke__">withInput</span>(<span class="title class_">Input</span>::<span class="title function_ invoke__">get</span>());</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">to</span>(<span class="string">&#x27;foo/bar&#x27;</span>)-&gt;<span class="title function_ invoke__">withInput</span>(<span class="title class_">Input</span>::<span class="title function_ invoke__">except</span>(<span class="string">&#x27;password&#x27;</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">to</span>(<span class="string">&#x27;foo/bar&#x27;</span>)-&gt;<span class="title function_ invoke__">withErrors</span>(<span class="variable">$validator</span>);</span><br><span class="line"><span class="comment">// 创建对先前位置的新重定向响应</span></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">back</span>();</span><br><span class="line"><span class="comment">// 创建对命名路由的新重定向响应</span></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">route</span>(<span class="string">&#x27;foobar&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">route</span>(<span class="string">&#x27;foobar&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">route</span>(<span class="string">&#x27;foobar&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="comment">// 创建对控制器操作的新重定向响应</span></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">action</span>(<span class="string">&#x27;FooController@index&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">action</span>(<span class="string">&#x27;FooController@baz&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">action</span>(<span class="string">&#x27;FooController@baz&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="comment">// 如果未定义预期的重定向，则默认为 foo/bar。</span></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">Redirect</span>::<span class="title function_ invoke__">intended</span>(<span class="string">&#x27;foo/bar&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h3><p>Hashing</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Hash</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;secretpassword&#x27;</span>);</span><br><span class="line"><span class="title class_">Hash</span>::<span class="title function_ invoke__">check</span>(<span class="string">&#x27;secretpassword&#x27;</span>, <span class="variable">$hashedPassword</span>);</span><br><span class="line"><span class="title class_">Hash</span>::<span class="title function_ invoke__">needsRehash</span>(<span class="variable">$hashedPassword</span>);</span><br></pre></td></tr></table></figure>

<p>Encryption</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Crypt</span>::<span class="title function_ invoke__">encrypt</span>(<span class="string">&#x27;secretstring&#x27;</span>);</span><br><span class="line"><span class="title class_">Crypt</span>::<span class="title function_ invoke__">decrypt</span>(<span class="variable">$encryptedString</span>);</span><br><span class="line"><span class="title class_">Crypt</span>::<span class="title function_ invoke__">setMode</span>(<span class="string">&#x27;ctr&#x27;</span>);</span><br><span class="line"><span class="title class_">Crypt</span>::<span class="title function_ invoke__">setCipher</span>(<span class="variable">$cipher</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Queue</span>::<span class="title function_ invoke__">push</span>(<span class="string">&#x27;SendMail&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;message&#x27;</span> =&gt; <span class="variable">$message</span>));</span><br><span class="line"><span class="title class_">Queue</span>::<span class="title function_ invoke__">push</span>(<span class="string">&#x27;SendEmail@send&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;message&#x27;</span> =&gt; <span class="variable">$message</span>));</span><br><span class="line"><span class="title class_">Queue</span>::<span class="title function_ invoke__">push</span>(function(<span class="variable">$job</span>) <span class="keyword">use</span> $<span class="title">id</span> &#123;&#125;);</span><br><span class="line"><span class="comment">// 多个工人的相同有效载荷</span></span><br><span class="line"><span class="title class_">Queue</span>::<span class="title function_ invoke__">bulk</span>(<span class="keyword">array</span>(<span class="string">&#x27;SendEmail&#x27;</span>, <span class="string">&#x27;NotifyUser&#x27;</span>), <span class="variable">$payload</span>);</span><br></pre></td></tr></table></figure>

<p>Starting the queue listener</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">php artisan queue:listen</span><br><span class="line">php artisan queue:listen connection</span><br><span class="line">php artisan queue:listen --<span class="built_in">timeout</span>=60</span><br><span class="line"><span class="comment"># 只处理队列中的第一个作业</span></span><br><span class="line">php artisan queue:work</span><br><span class="line"><span class="comment"># 以守护进程模式启动一个队列工作者</span></span><br><span class="line">php artisan queue:work --daemon</span><br><span class="line"><span class="comment"># 为失败的作业创建迁移文件</span></span><br><span class="line">php artisan queue:failed-table</span><br><span class="line"><span class="comment"># 列出失败的工作</span></span><br><span class="line">php artisan queue:failed</span><br><span class="line"><span class="comment"># 通过 id 删除失败的作业</span></span><br><span class="line">php artisan queue:forget 5</span><br><span class="line"><span class="comment"># 删除所有失败的作业</span></span><br><span class="line">php artisan queue:flush</span><br></pre></td></tr></table></figure>

<h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;path/to/view&#x27;</span>);</span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;foo/bar&#x27;</span>)-&gt;<span class="title function_ invoke__">with</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;foo/bar&#x27;</span>)-&gt;<span class="title function_ invoke__">withKey</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;foo/bar&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">exists</span>(<span class="string">&#x27;foo/bar&#x27;</span>);</span><br><span class="line"><span class="comment">// 在所有视图中共享一个值</span></span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">share</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 嵌套视图</span></span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">make</span>(<span class="string">&#x27;foo/bar&#x27;</span>)-&gt;<span class="title function_ invoke__">nest</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;foo/baz&#x27;</span>, <span class="variable">$data</span>);</span><br><span class="line"><span class="comment">// 注册视图编辑器</span></span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">composer</span>(<span class="string">&#x27;viewname&#x27;</span>, function(<span class="variable">$view</span>)&#123;&#125;);</span><br><span class="line"><span class="comment">// 向作曲家注册多个视图</span></span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">composer</span>(<span class="keyword">array</span>(<span class="string">&#x27;view1&#x27;</span>, <span class="string">&#x27;view2&#x27;</span>), <span class="function"><span class="keyword">function</span>(<span class="params"><span class="variable">$view</span></span>)</span>&#123;&#125;);</span><br><span class="line"><span class="comment">// 注册作曲家类</span></span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">composer</span>(<span class="string">&#x27;viewname&#x27;</span>, <span class="string">&#x27;FooComposer&#x27;</span>);</span><br><span class="line"><span class="title class_">View</span>::<span class="title function_ invoke__">creator</span>(<span class="string">&#x27;viewname&#x27;</span>, function(<span class="variable">$view</span>)&#123;&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Validation"><a href="#Validation" class="headerlink" title="Validation"></a>Validation</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Validator</span>::<span class="title function_ invoke__">make</span>(</span><br><span class="line"><span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;Foo&#x27;</span>),</span><br><span class="line"><span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;required|in:Foo&#x27;</span>)</span><br><span class="line">);</span><br><span class="line"><span class="title class_">Validator</span>::<span class="title function_ invoke__">extend</span>(<span class="string">&#x27;foo&#x27;</span>, function(<span class="variable">$attribute</span>, <span class="variable">$value</span>, <span class="variable">$params</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Validator</span>::<span class="title function_ invoke__">extend</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;FooValidator@validate&#x27;</span>);</span><br><span class="line"><span class="title class_">Validator</span>::<span class="title function_ invoke__">resolver</span>(function(<span class="variable">$translator</span>, <span class="variable">$data</span>, <span class="variable">$rules</span>, <span class="variable">$msgs</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">FooValidator</span>(<span class="variable">$translator</span>, <span class="variable">$data</span>, <span class="variable">$rules</span>, <span class="variable">$msgs</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h4><ul>
<li>accepted</li>
<li>active_url</li>
<li>after:YYYY-MM-DD</li>
<li>before:YYYY-MM-DD</li>
<li>alpha</li>
<li>alpha_dash</li>
<li>alpha_num</li>
<li>array</li>
<li>between:1,10</li>
<li>confirmed</li>
<li>date</li>
<li>date_format:YYYY-MM-DD</li>
<li>different:fieldname</li>
<li>digits:value</li>
<li>digits_between:min,max</li>
<li>boolean</li>
<li>email</li>
<li>exists:table,column</li>
<li>image</li>
<li>in:foo,bar,…</li>
<li>not_in:foo,bar,…</li>
<li>integer</li>
<li>numeric</li>
<li>ip</li>
<li>max:value</li>
<li>min:value</li>
<li>mimes:jpeg,png</li>
<li>regex:[0-9]</li>
<li>required</li>
<li>required_if:field,value</li>
<li>required_with:foo,bar,…</li>
<li>required_with_all:foo,bar,…</li>
<li>required_without:foo,bar,…</li>
<li>required_without_all:foo,bar,…</li>
<li>same:field</li>
<li>size:value</li>
<li>timezone</li>
<li>unique:table,column,except,idColumn</li>
<li>url<!--rehype:className=cols-3--></li>
</ul>
<h3 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">open</span>(<span class="keyword">array</span>(<span class="string">&#x27;url&#x27;</span> =&gt; <span class="string">&#x27;foo/bar&#x27;</span>, <span class="string">&#x27;method&#x27;</span> =&gt; <span class="string">&#x27;PUT&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">open</span>(<span class="keyword">array</span>(<span class="string">&#x27;route&#x27;</span> =&gt; <span class="string">&#x27;foo.bar&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">open</span>(<span class="keyword">array</span>(<span class="string">&#x27;route&#x27;</span> =&gt; <span class="keyword">array</span>(<span class="string">&#x27;foo.bar&#x27;</span>, <span class="variable">$parameter</span>)));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">open</span>(<span class="keyword">array</span>(<span class="string">&#x27;action&#x27;</span> =&gt; <span class="string">&#x27;FooController@method&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">open</span>(<span class="keyword">array</span>(<span class="string">&#x27;action&#x27;</span> =&gt; <span class="keyword">array</span>(<span class="string">&#x27;FooController@method&#x27;</span>, <span class="variable">$parameter</span>)));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">open</span>(<span class="keyword">array</span>(<span class="string">&#x27;url&#x27;</span> =&gt; <span class="string">&#x27;foo/bar&#x27;</span>, <span class="string">&#x27;files&#x27;</span> =&gt; <span class="literal">true</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">close</span>();</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">token</span>();</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">model</span>(<span class="variable">$foo</span>, <span class="keyword">array</span>(<span class="string">&#x27;route&#x27;</span> =&gt; <span class="keyword">array</span>(<span class="string">&#x27;foo.bar&#x27;</span>, <span class="variable">$foo</span>-&gt;bar)));</span><br></pre></td></tr></table></figure>

<h4 id="Form-Elements"><a href="#Form-Elements" class="headerlink" title="Form Elements"></a>Form Elements</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">label</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;Description&#x27;</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">label</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;Description&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;foo&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">text</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">text</span>(<span class="string">&#x27;name&#x27;</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">text</span>(<span class="string">&#x27;name&#x27;</span>, <span class="variable">$value</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">textarea</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">textarea</span>(<span class="string">&#x27;name&#x27;</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">textarea</span>(<span class="string">&#x27;name&#x27;</span>, <span class="variable">$value</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">hidden</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">password</span>(<span class="string">&#x27;password&#x27;</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">password</span>(<span class="string">&#x27;password&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;placeholder&#x27;</span> =&gt; <span class="string">&#x27;Password&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">email</span>(<span class="string">&#x27;name&#x27;</span>, <span class="variable">$value</span>, <span class="keyword">array</span>());</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">checkbox</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 生成一个被选中的复选框</span></span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">checkbox</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;value&#x27;</span>, <span class="literal">true</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">radio</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 生成选定的无线电输入</span></span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">radio</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;value&#x27;</span>, <span class="literal">true</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">select</span>(<span class="string">&#x27;name&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">select</span>(<span class="string">&#x27;name&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>), <span class="string">&#x27;key&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">selectRange</span>(<span class="string">&#x27;range&#x27;</span>, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">selectYear</span>(<span class="string">&#x27;year&#x27;</span>, <span class="number">2011</span>, <span class="number">2015</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">selectMonth</span>(<span class="string">&#x27;month&#x27;</span>);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">submit</span>(<span class="string">&#x27;Submit!&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">button</span>(<span class="string">&#x27;name&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;class&#x27;</span> =&gt; <span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">macro</span>(<span class="string">&#x27;fooField&#x27;</span>, function()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;&lt;input type=&quot;custom&quot;/&gt;&#x27;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Form</span>::<span class="title function_ invoke__">fooField</span>();</span><br></pre></td></tr></table></figure>

<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 将 UTF-8 值音译为 ASCII</span></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">ascii</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">camel</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">contains</span>(<span class="variable">$haystack</span>, <span class="variable">$needle</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">endsWith</span>(<span class="variable">$haystack</span>, <span class="variable">$needles</span>)</span><br><span class="line"><span class="comment">// 用给定值的单个实例来限制字符串。</span></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">finish</span>(<span class="variable">$value</span>, <span class="variable">$cap</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">is</span>(<span class="variable">$pattern</span>, <span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">length</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">limit</span>(<span class="variable">$value</span>, <span class="variable">$limit</span> = <span class="number">100</span>, <span class="variable">$end</span> = <span class="string">&#x27;...&#x27;</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">lower</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">words</span>(<span class="variable">$value</span>, <span class="variable">$words</span> = <span class="number">100</span>, <span class="variable">$end</span> = <span class="string">&#x27;...&#x27;</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">plural</span>(<span class="variable">$value</span>, <span class="variable">$count</span> = <span class="number">2</span>)</span><br><span class="line"><span class="comment">// 生成更真实的“随机”字母数字字符串。</span></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">random</span>(<span class="variable">$length</span> = <span class="number">16</span>)</span><br><span class="line"><span class="comment">// 生成“随机”字母数字字符串。</span></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">quickRandom</span>(<span class="variable">$length</span> = <span class="number">16</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">upper</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">title</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">singular</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">slug</span>(<span class="variable">$title</span>, <span class="variable">$separator</span> = <span class="string">&#x27;-&#x27;</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">snake</span>(<span class="variable">$value</span>, <span class="variable">$delimiter</span> = <span class="string">&#x27;_&#x27;</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">startsWith</span>(<span class="variable">$haystack</span>, <span class="variable">$needles</span>)</span><br><span class="line"><span class="comment">// 将值转换为大写大小写。</span></span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">studly</span>(<span class="variable">$value</span>)</span><br><span class="line"><span class="title class_">Str</span>::<span class="title function_ invoke__">macro</span>(<span class="variable">$name</span>, <span class="variable">$macro</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Blade"><a href="#Blade" class="headerlink" title="Blade"></a>Blade</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 在模板中显示一个部分</span></span><br><span class="line">@<span class="keyword">yield</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">@<span class="keyword">extends</span>(<span class="string">&#x27;layout.name&#x27;</span>)</span><br><span class="line"><span class="comment">// 开始一个部分</span></span><br><span class="line">@<span class="title function_ invoke__">section</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"><span class="comment">// 结束一段</span></span><br><span class="line">@stop</span><br><span class="line"><span class="comment">// 结束一个部分并屈服</span></span><br><span class="line">@<span class="title function_ invoke__">section</span>(<span class="string">&#x27;sidebar&#x27;</span>)</span><br><span class="line">@show</span><br><span class="line">@<span class="built_in">parent</span></span><br><span class="line"></span><br><span class="line">@<span class="keyword">include</span>(<span class="string">&#x27;view.name&#x27;</span>)</span><br><span class="line">@<span class="keyword">include</span>(<span class="string">&#x27;view.name&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line">@<span class="title function_ invoke__">lang</span>(<span class="string">&#x27;messages.name&#x27;</span>)</span><br><span class="line">@<span class="title function_ invoke__">choice</span>(<span class="string">&#x27;messages.name&#x27;</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">@<span class="keyword">if</span></span><br><span class="line">@<span class="keyword">else</span></span><br><span class="line">@<span class="keyword">elseif</span></span><br><span class="line">@<span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line">@unless</span><br><span class="line">@endunless</span><br><span class="line"></span><br><span class="line">@<span class="keyword">for</span></span><br><span class="line">@<span class="keyword">endfor</span></span><br><span class="line"></span><br><span class="line">@<span class="keyword">foreach</span></span><br><span class="line">@<span class="keyword">endforeach</span></span><br><span class="line"></span><br><span class="line">@<span class="keyword">while</span></span><br><span class="line">@<span class="keyword">endwhile</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 预测 4.2 功能</span></span><br><span class="line">@<span class="title function_ invoke__">forelse</span>(<span class="variable">$users</span> <span class="keyword">as</span> <span class="variable">$user</span>)</span><br><span class="line">@<span class="keyword">empty</span></span><br><span class="line">@endforelse</span><br><span class="line"></span><br><span class="line"><span class="comment">// Echo 内容</span></span><br><span class="line">&#123;&#123; <span class="variable">$var</span> &#125;&#125;</span><br><span class="line"><span class="comment">// Echo 转义内容</span></span><br><span class="line">&#123;&#123;&#123; <span class="variable">$var</span> &#125;&#125;&#125;</span><br><span class="line"><span class="comment">// Echo 未转义的内容； 5.0 功能</span></span><br><span class="line">&#123;!! <span class="variable">$var</span> !!&#125;</span><br><span class="line">&#123;&#123;-- Blade Comment --&#125;&#125;</span><br><span class="line"><span class="comment">// 检查存在后 Echo 数据</span></span><br><span class="line">&#123;&#123;&#123; <span class="variable">$name</span> <span class="keyword">or</span> <span class="string">&#x27;Default&#x27;</span> &#125;&#125;&#125;</span><br><span class="line"><span class="comment">// 显示带有花括号的原始文本</span></span><br><span class="line">@&#123;&#123; This will not be processed by Blade &#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">HTML::<span class="title function_ invoke__">macro</span>(<span class="string">&#x27;name&#x27;</span>, function()&#123;&#125;);</span><br><span class="line"><span class="comment">// 将 HTML 字符串转换为实体</span></span><br><span class="line">HTML::<span class="title function_ invoke__">entities</span>(<span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 将实体转换为 HTML 字符</span></span><br><span class="line">HTML::<span class="title function_ invoke__">decode</span>(<span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 生成指向 JavaScript 文件的链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">script</span>(<span class="variable">$url</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成指向 CSS 文件的链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">style</span>(<span class="variable">$url</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成 HTML 图像元素</span></span><br><span class="line">HTML::<span class="title function_ invoke__">image</span>(<span class="variable">$url</span>, <span class="variable">$alt</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成 HTML 链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">link</span>(<span class="variable">$url</span>, <span class="string">&#x27;title&#x27;</span>, <span class="variable">$attributes</span>, <span class="variable">$secure</span>);</span><br><span class="line"><span class="comment">// 生成 HTTPS HTML 链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">secureLink</span>(<span class="variable">$url</span>, <span class="string">&#x27;title&#x27;</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成资产的 HTML 链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">linkAsset</span>(<span class="variable">$url</span>, <span class="string">&#x27;title&#x27;</span>, <span class="variable">$attributes</span>, <span class="variable">$secure</span>);</span><br><span class="line"><span class="comment">// 生成指向资产的 HTTPS HTML 链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">linkSecureAsset</span>(<span class="variable">$url</span>, <span class="string">&#x27;title&#x27;</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成指向命名路由的 HTML 链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">linkRoute</span>(<span class="variable">$name</span>, <span class="string">&#x27;title&#x27;</span>, <span class="variable">$parameters</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成指向控制器操作的 HTML 链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">linkAction</span>(<span class="variable">$action</span>, <span class="string">&#x27;title&#x27;</span>, <span class="variable">$parameters</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成指向电子邮件地址的 HTML 链接</span></span><br><span class="line">HTML::<span class="title function_ invoke__">mailto</span>(<span class="variable">$email</span>, <span class="string">&#x27;title&#x27;</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 混淆电子邮件地址以防止垃圾邮件机器人嗅探它</span></span><br><span class="line">HTML::<span class="title function_ invoke__">email</span>(<span class="variable">$email</span>);</span><br><span class="line"><span class="comment">// 生成有序的项目列表</span></span><br><span class="line">HTML::<span class="title function_ invoke__">ol</span>(<span class="variable">$list</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 生成一个未排序的项目列表</span></span><br><span class="line">HTML::<span class="title function_ invoke__">ul</span>(<span class="variable">$list</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 创建一个列表 HTML 元素</span></span><br><span class="line">HTML::<span class="title function_ invoke__">listing</span>(<span class="variable">$type</span>, <span class="variable">$list</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 为列表元素创建 HTML</span></span><br><span class="line">HTML::<span class="title function_ invoke__">listingElement</span>(<span class="variable">$key</span>, <span class="variable">$type</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 为嵌套列表属性创建 HTML</span></span><br><span class="line">HTML::<span class="title function_ invoke__">nestedListing</span>(<span class="variable">$key</span>, <span class="variable">$type</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 从数组构建 HTML 属性字符串</span></span><br><span class="line">HTML::<span class="title function_ invoke__">attributes</span>(<span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// 构建单个属性元素</span></span><br><span class="line">HTML::<span class="title function_ invoke__">attributeElement</span>(<span class="variable">$key</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 混淆字符串以防止垃圾邮件机器人嗅探它</span></span><br><span class="line">HTML::<span class="title function_ invoke__">obfuscate</span>(<span class="variable">$value</span>);</span><br></pre></td></tr></table></figure>

<h2 id="DB"><a href="#DB" class="headerlink" title="DB"></a>DB</h2><h3 id="基本数据库使用"><a href="#基本数据库使用" class="headerlink" title="基本数据库使用"></a>基本数据库使用</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">DB::<span class="title function_ invoke__">connection</span>(<span class="string">&#x27;connection_name&#x27;</span>);</span><br><span class="line"><span class="comment">// 运行选择查询</span></span><br><span class="line"><span class="variable">$results</span> = DB::<span class="title function_ invoke__">select</span>(<span class="string">&#x27;select * from users where id = ?&#x27;</span>, [<span class="number">1</span>]);</span><br><span class="line"><span class="variable">$results</span> = DB::<span class="title function_ invoke__">select</span>(<span class="string">&#x27;select * from users where id = :id&#x27;</span>, [<span class="string">&#x27;id&#x27;</span> =&gt; <span class="number">1</span>]);</span><br><span class="line"><span class="comment">// 运行一般声明</span></span><br><span class="line">DB::<span class="title function_ invoke__">statement</span>(<span class="string">&#x27;drop table users&#x27;</span>);</span><br><span class="line"><span class="comment">// 侦听查询事件</span></span><br><span class="line">DB::<span class="title function_ invoke__">listen</span>(function(<span class="variable">$sql</span>, <span class="variable">$bindings</span>, <span class="variable">$time</span>)&#123; code_here; &#125;);</span><br><span class="line"><span class="comment">// 数据库事务</span></span><br><span class="line">DB::<span class="title function_ invoke__">transaction</span>(function()</span><br><span class="line">&#123;</span><br><span class="line">  DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">update</span>([<span class="string">&#x27;votes&#x27;</span> =&gt; <span class="number">1</span>]);</span><br><span class="line">  DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;posts&#x27;</span>)-&gt;<span class="title function_ invoke__">delete</span>();</span><br><span class="line">&#125;);</span><br><span class="line">DB::<span class="title function_ invoke__">beginTransaction</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">rollback</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">commit</span>();</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="查询生成器"><a href="#查询生成器" class="headerlink" title="查询生成器"></a>查询生成器</h3><!--rehype:wrap-class=col-span-2 row-span-3-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 从表中检索所有行</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// 表中的分块结果</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">chunk</span>(<span class="number">100</span>, function(<span class="variable">$users</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">foreach</span> (<span class="variable">$users</span> <span class="keyword">as</span> <span class="variable">$user</span>)</span><br><span class="line">  &#123;  </span><br><span class="line"><span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 从表中检索单行</span></span><br><span class="line"><span class="variable">$user</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;John&#x27;</span>)-&gt;<span class="title function_ invoke__">first</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">first</span>();</span><br><span class="line"><span class="comment">// 从一行中检索单个列</span></span><br><span class="line"><span class="variable">$name</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;John&#x27;</span>)-&gt;<span class="title function_ invoke__">pluck</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">pluck</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line"><span class="comment">// 检索列值列表</span></span><br><span class="line"><span class="variable">$roles</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;roles&#x27;</span>)-&gt;<span class="title function_ invoke__">lists</span>(<span class="string">&#x27;title&#x27;</span>);</span><br><span class="line"><span class="variable">$roles</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;roles&#x27;</span>)-&gt;<span class="title function_ invoke__">lists</span>(<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="comment">// 指定 Select 子句</span></span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">select</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;email&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">distinct</span>()-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">select</span>(<span class="string">&#x27;name as user_name&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// 将 Select 子句添加到现有查询</span></span><br><span class="line"><span class="variable">$query</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">select</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="variable">$users</span> = <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">addSelect</span>(<span class="string">&#x27;age&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// 使用 Where 运算符</span></span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="number">100</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="number">100</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">orWhere</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;John&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">whereBetween</span>(<span class="string">&#x27;votes&#x27;</span>, [<span class="number">1</span>, <span class="number">100</span>])-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">whereNotBetween</span>(<span class="string">&#x27;votes&#x27;</span>, [<span class="number">1</span>, <span class="number">100</span>])-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">whereIn</span>(<span class="string">&#x27;id&#x27;</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">whereNotIn</span>(<span class="string">&#x27;id&#x27;</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">whereNull</span>(<span class="string">&#x27;updated_at&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">whereNotNull</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// 动态 Where 子句</span></span><br><span class="line"><span class="variable">$admin</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">whereId</span>(<span class="number">1</span>)-&gt;<span class="title function_ invoke__">first</span>();</span><br><span class="line"><span class="variable">$john</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">whereIdAndEmail</span>(<span class="number">2</span>, <span class="string">&#x27;john@doe.com&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">first</span>();</span><br><span class="line"><span class="variable">$jane</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">whereNameOrAge</span>(<span class="string">&#x27;Jane&#x27;</span>, <span class="number">22</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">first</span>();</span><br><span class="line"><span class="comment">// 排序依据、分组依据和拥有</span></span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">orderBy</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;desc&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">groupBy</span>(<span class="string">&#x27;count&#x27;</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">having</span>(<span class="string">&#x27;count&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="number">100</span>)</span><br><span class="line">              -&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">orderBy</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">orderBy</span>(<span class="string">&#x27;column&#x27;</span>,<span class="string">&#x27;desc&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">having</span>(<span class="string">&#x27;count&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="number">100</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// 偏移和限制</span></span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">skip</span>(<span class="number">10</span>)-&gt;<span class="title function_ invoke__">take</span>(<span class="number">5</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Joins"><a href="#Joins" class="headerlink" title="Joins"></a>Joins</h3><p>基本加入声明</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">      -&gt;<span class="title function_ invoke__">join</span>(<span class="string">&#x27;contacts&#x27;</span>, <span class="string">&#x27;users.id&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;contacts.user_id&#x27;</span>)</span><br><span class="line">      -&gt;<span class="title function_ invoke__">join</span>(<span class="string">&#x27;orders&#x27;</span>, <span class="string">&#x27;users.id&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;orders.user_id&#x27;</span>)</span><br><span class="line">      -&gt;<span class="title function_ invoke__">select</span>(<span class="string">&#x27;users.id&#x27;</span>, <span class="string">&#x27;contacts.phone&#x27;</span>, <span class="string">&#x27;orders.price&#x27;</span>)</span><br><span class="line">      -&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></table></figure>

<p>左连接语句</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">leftJoin</span>(<span class="string">&#x27;posts&#x27;</span>, <span class="string">&#x27;users.id&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;posts.user_id&#x27;</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// select * from name = &#x27;John&#x27; or (votes &gt; 100 and title &lt;&gt; &#x27;Admin&#x27;)</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;John&#x27;</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">orWhere</span>(function(<span class="variable">$query</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable">$query</span>-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="number">100</span>)</span><br><span class="line">                  -&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;&lt;&gt;&#x27;</span>, <span class="string">&#x27;Admin&#x27;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Aggregates"><a href="#Aggregates" class="headerlink" title="Aggregates"></a>Aggregates</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">count</span>();</span><br><span class="line"><span class="variable">$price</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;orders&#x27;</span>)-&gt;<span class="title function_ invoke__">max</span>(<span class="string">&#x27;price&#x27;</span>);</span><br><span class="line"><span class="variable">$price</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;orders&#x27;</span>)-&gt;<span class="title function_ invoke__">min</span>(<span class="string">&#x27;price&#x27;</span>);</span><br><span class="line"><span class="variable">$price</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;orders&#x27;</span>)-&gt;<span class="title function_ invoke__">avg</span>(<span class="string">&#x27;price&#x27;</span>);</span><br><span class="line"><span class="variable">$total</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">sum</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line"></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">remember</span>(<span class="number">5</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">remember</span>(<span class="number">5</span>, <span class="string">&#x27;cache-key-name&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">cacheTags</span>(<span class="string">&#x27;my-key&#x27;</span>)-&gt;<span class="title function_ invoke__">remember</span>(<span class="number">5</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">cacheTags</span>(<span class="keyword">array</span>(<span class="string">&#x27;my-first-key&#x27;</span>,<span class="string">&#x27;my-second-key&#x27;</span>))</span><br><span class="line">    -&gt;<span class="title function_ invoke__">remember</span>(<span class="number">5</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></table></figure>

<h3 id="原始表达式"><a href="#原始表达式" class="headerlink" title="原始表达式"></a>原始表达式</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">select</span>(DB::<span class="title function_ invoke__">raw</span>(<span class="string">&#x27;count(*) as user_count, status&#x27;</span>))</span><br><span class="line">        -&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;status&#x27;</span>, <span class="string">&#x27;&lt;&gt;&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">groupBy</span>(<span class="string">&#x27;status&#x27;</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// 返回行</span></span><br><span class="line">DB::<span class="title function_ invoke__">select</span>(<span class="string">&#x27;select * from users where id = ?&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="comment">// 返回 nr 个受影响的行</span></span><br><span class="line">DB::<span class="title function_ invoke__">insert</span>(<span class="string">&#x27;insert into foo set bar=2&#x27;</span>);</span><br><span class="line">DB::<span class="title function_ invoke__">update</span>(<span class="string">&#x27;update foo set bar=2&#x27;</span>);</span><br><span class="line">DB::<span class="title function_ invoke__">delete</span>(<span class="string">&#x27;delete from bar&#x27;</span>);</span><br><span class="line"><span class="comment">// 返回无效</span></span><br><span class="line">DB::<span class="title function_ invoke__">statement</span>(<span class="string">&#x27;update foo set bar=2&#x27;</span>);</span><br><span class="line"><span class="comment">// 语句中的原始表达式</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">        -&gt;<span class="title function_ invoke__">select</span>(DB::<span class="title function_ invoke__">raw</span>(<span class="string">&#x27;count(*) as count, column2&#x27;</span>))</span><br><span class="line">        -&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Inserts-插入"><a href="#Inserts-插入" class="headerlink" title="Inserts 插入"></a>Inserts 插入</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">insert</span>(</span><br><span class="line">  [<span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;john@example.com&#x27;</span>, <span class="string">&#x27;votes&#x27;</span> =&gt; <span class="number">0</span>]</span><br><span class="line">);</span><br><span class="line"><span class="variable">$id</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">insertGetId</span>(</span><br><span class="line">  [<span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;john@example.com&#x27;</span>, <span class="string">&#x27;votes&#x27;</span> =&gt; <span class="number">0</span>]</span><br><span class="line">);</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">insert</span>([</span><br><span class="line">  [<span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;taylor@example.com&#x27;</span>, <span class="string">&#x27;votes&#x27;</span> =&gt; <span class="number">0</span>],</span><br><span class="line">  [<span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;dayle@example.com&#x27;</span>, <span class="string">&#x27;votes&#x27;</span> =&gt; <span class="number">0</span>]</span><br><span class="line">]);</span><br></pre></td></tr></table></figure>

<h3 id="Updates-更新"><a href="#Updates-更新" class="headerlink" title="Updates 更新"></a>Updates 更新</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)</span><br><span class="line">          -&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;id&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">          -&gt;<span class="title function_ invoke__">update</span>([<span class="string">&#x27;votes&#x27;</span> =&gt; <span class="number">1</span>]);</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">increment</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">increment</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="number">5</span>);</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">decrement</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">decrement</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="number">5</span>);</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">increment</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="number">1</span>, [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;John&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<h3 id="Deletes-删除"><a href="#Deletes-删除" class="headerlink" title="Deletes 删除"></a>Deletes 删除</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="string">&#x27;&lt;&#x27;</span>, <span class="number">100</span>)-&gt;<span class="title function_ invoke__">delete</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">delete</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">truncate</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Unions-联合"><a href="#Unions-联合" class="headerlink" title="Unions 联合"></a>Unions 联合</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// unionAll() 方法也可用，并且具有与 union 相同的方法签名</span></span><br><span class="line"><span class="variable">$first</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">whereNull</span>(<span class="string">&#x27;first_name&#x27;</span>);</span><br><span class="line"><span class="variable">$users</span> = DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">whereNull</span>(<span class="string">&#x27;last_name&#x27;</span>)-&gt;<span class="title function_ invoke__">union</span>(<span class="variable">$first</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// Pessimistic Locking 悲观锁定</span></span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="number">100</span>)-&gt;<span class="title function_ invoke__">sharedLock</span>()-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line">DB::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;votes&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="number">100</span>)-&gt;<span class="title function_ invoke__">lockForUpdate</span>()-&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></table></figure>

<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="comment">// 如果密钥丢失则默认</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;default&#x27;</span>);</span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">has</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">all</span>();</span><br><span class="line"><span class="comment">// 获取输入时仅检索“foo”和“bar”</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">only</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line"><span class="comment">// 获取输入时忽略“foo”</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">except</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">flush</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Session-Input-flash"><a href="#Session-Input-flash" class="headerlink" title="Session Input (flash)"></a>Session Input (flash)</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 会话的闪存输入</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">flash</span>();</span><br><span class="line"><span class="comment">// 只闪烁会话的一些输入</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">flashOnly</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line"><span class="comment">// 只闪烁会话的一些输入</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">flashExcept</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>);</span><br><span class="line"><span class="comment">// 检索旧输入项</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">old</span>(<span class="string">&#x27;key&#x27;</span>,<span class="string">&#x27;default_value&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用已上传的文件</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;filename&#x27;</span>);</span><br><span class="line"><span class="comment">// 判断文件是否上传</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">hasFile</span>(<span class="string">&#x27;filename&#x27;</span>);</span><br><span class="line"><span class="comment">// 访问文件属性</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">getRealPath</span>();</span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">getClientOriginalName</span>();</span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">getClientOriginalExtension</span>();</span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">getSize</span>();</span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">getMimeType</span>();</span><br><span class="line"><span class="comment">// 移动上传的文件</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">move</span>(<span class="variable">$destinationPath</span>);</span><br><span class="line"><span class="comment">// 移动上传的文件</span></span><br><span class="line"><span class="title class_">Input</span>::<span class="title function_ invoke__">file</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">move</span>(<span class="variable">$destinationPath</span>, <span class="variable">$fileName</span>);</span><br></pre></td></tr></table></figure>

<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><h3 id="Route"><a href="#Route" class="headerlink" title="Route"></a>Route</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo&#x27;</span>, function()&#123;&#125;);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;ControllerName@function&#x27;</span>);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">controller</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;FooController&#x27;</span>);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="RESTful-控制器"><a href="#RESTful-控制器" class="headerlink" title="RESTful 控制器"></a>RESTful 控制器</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">resource</span>(<span class="string">&#x27;posts&#x27;</span>,<span class="string">&#x27;PostsController&#x27;</span>);</span><br><span class="line"><span class="comment">// 指定要在路线上处理的动作子集</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">resource</span>(<span class="string">&#x27;photo&#x27;</span>, <span class="string">&#x27;PhotoController&#x27;</span>,[<span class="string">&#x27;only&#x27;</span> =&gt; [<span class="string">&#x27;index&#x27;</span>, <span class="string">&#x27;show&#x27;</span>]]);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">resource</span>(<span class="string">&#x27;photo&#x27;</span>, <span class="string">&#x27;PhotoController&#x27;</span>,[<span class="string">&#x27;except&#x27;</span> =&gt; [<span class="string">&#x27;update&#x27;</span>, <span class="string">&#x27;destroy&#x27;</span>]]);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="触发错误"><a href="#触发错误" class="headerlink" title="触发错误"></a>触发错误</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">App</span>::<span class="title function_ invoke__">abort</span>(<span class="number">404</span>);</span><br><span class="line"><span class="variable">$handler</span>-&gt;<span class="title function_ invoke__">missing</span>(...) in <span class="title class_">ErrorServiceProvider</span>::<span class="title function_ invoke__">boot</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NotFoundHttpException</span>;</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="路由参数"><a href="#路由参数" class="headerlink" title="路由参数"></a>路由参数</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo/&#123;bar&#125;&#x27;</span>, function(<span class="variable">$bar</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo/&#123;bar?&#125;&#x27;</span>, function(<span class="variable">$bar</span> = <span class="string">&#x27;bar&#x27;</span>)&#123;&#125;);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="HTTP-动词"><a href="#HTTP-动词" class="headerlink" title="HTTP 动词"></a>HTTP 动词</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">any</span>(<span class="string">&#x27;foo&#x27;</span>, function()&#123;&#125;);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;foo&#x27;</span>, function()&#123;&#125;);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">put</span>(<span class="string">&#x27;foo&#x27;</span>, function()&#123;&#125;);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">patch</span>(<span class="string">&#x27;foo&#x27;</span>, function()&#123;&#125;);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">delete</span>(<span class="string">&#x27;foo&#x27;</span>, function()&#123;&#125;);</span><br><span class="line"><span class="comment">// RESTful 动作</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">resource</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;FooController&#x27;</span>);</span><br><span class="line"><span class="comment">// 为多个动词注册一个路由</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="keyword">match</span>([<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;post&#x27;</span>], <span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="Secure-Routes-TBD"><a href="#Secure-Routes-TBD" class="headerlink" title="Secure Routes(TBD)"></a>Secure Routes(TBD)</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;https&#x27;</span>, function()&#123;&#125;));</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="路由约束"><a href="#路由约束" class="headerlink" title="路由约束"></a>路由约束</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo/&#123;bar&#125;&#x27;</span>, function(<span class="variable">$bar</span>)&#123;&#125;)</span><br><span class="line">-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;[0-9]+&#x27;</span>);</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo/&#123;bar&#125;/&#123;baz&#125;&#x27;</span>, function(<span class="variable">$bar</span>, <span class="variable">$baz</span>)&#123;&#125;)</span><br><span class="line">-&gt;<span class="title function_ invoke__">where</span>(<span class="keyword">array</span>(<span class="string">&#x27;bar&#x27;</span> =&gt; <span class="string">&#x27;[0-9]+&#x27;</span>, <span class="string">&#x27;baz&#x27;</span> =&gt; <span class="string">&#x27;[A-Za-z]&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置跨路线使用的模式</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">pattern</span>(<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;[0-9]+&#x27;</span>)</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="HTTP-中间件"><a href="#HTTP-中间件" class="headerlink" title="HTTP 中间件"></a>HTTP 中间件</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 为路由分配中间件</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;admin/profile&#x27;</span>, [<span class="string">&#x27;middleware&#x27;</span> =&gt; <span class="string">&#x27;auth&#x27;</span>, function()&#123;&#125;]);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">currentRouteName</span>();</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;foo/bar&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;as&#x27;</span> =&gt; <span class="string">&#x27;foobar&#x27;</span>, function()&#123;&#125;));</span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;user/profile&#x27;</span>, [</span><br><span class="line">  <span class="string">&#x27;as&#x27;</span> =&gt; <span class="string">&#x27;profile&#x27;</span>, <span class="string">&#x27;uses&#x27;</span> =&gt; <span class="string">&#x27;UserController@showProfile&#x27;</span></span><br><span class="line">]);</span><br><span class="line"><span class="variable">$url</span> = <span class="title function_ invoke__">route</span>(<span class="string">&#x27;profile&#x27;</span>);</span><br><span class="line"><span class="variable">$redirect</span> = <span class="title function_ invoke__">redirect</span>()-&gt;<span class="title function_ invoke__">route</span>(<span class="string">&#x27;profile&#x27;</span>);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="路由前缀"><a href="#路由前缀" class="headerlink" title="路由前缀"></a>路由前缀</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">group</span>([<span class="string">&#x27;prefix&#x27;</span> =&gt; <span class="string">&#x27;admin&#x27;</span>], function()</span><br><span class="line">&#123;</span><br><span class="line">  <span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;users&#x27;</span>, function()&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;Matches The &quot;/admin/users&quot; URL&#x27;</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="路由命名空间"><a href="#路由命名空间" class="headerlink" title="路由命名空间"></a>路由命名空间</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 该路由组将携带命名空间“Foo\Bar”</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">group</span>(<span class="keyword">array</span>(<span class="string">&#x27;namespace&#x27;</span> =&gt; <span class="string">&#x27;Foo\Bar&#x27;</span>), <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h3 id="子域路由"><a href="#子域路由" class="headerlink" title="子域路由"></a>子域路由</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// &#123;sub&#125; 将被传递给闭包</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">group</span>(<span class="keyword">array</span>(<span class="string">&#x27;domain&#x27;</span> =&gt; <span class="string">&#x27;&#123;sub&#125;.example.com&#x27;</span>), <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text-->

<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义 Eloquent 模型</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 生成 Eloquent 模型</span></span><br><span class="line">php artisan make:model User</span><br><span class="line"><span class="comment">// 指定自定义表名</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">  <span class="keyword">protected</span> <span class="variable">$table</span> = <span class="string">&#x27;my_users&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="More"><a href="#More" class="headerlink" title="More"></a>More</h3><!--rehype:wrap-class=row-span-4 col-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">create</span>(<span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="comment">// 按属性查找第一个匹配记录或创建</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">firstOrCreate</span>(<span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="comment">// 按属性查找第一条记录或实例化</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">firstOrNew</span>(<span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="comment">// 创建或更新匹配属性的记录，并填充值</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">updateOrCreate</span>(<span class="keyword">array</span>(<span class="string">&#x27;search_key&#x27;</span> =&gt; <span class="string">&#x27;search_value&#x27;</span>), <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span> =&gt; <span class="string">&#x27;value&#x27;</span>));</span><br><span class="line"><span class="comment">// 用属性数组填充模型，注意批量赋值！</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">fill</span>(<span class="variable">$attributes</span>);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">destroy</span>(<span class="number">1</span>);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">all</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">find</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 使用双主键查找</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">find</span>(<span class="keyword">array</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;last&#x27;</span>));</span><br><span class="line"><span class="comment">// 如果查找失败则抛出异常</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">findOrFail</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 使用双主键查找并在查找失败时抛出异常</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">findOrFail</span>(<span class="keyword">array</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;last&#x27;</span>));</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>)-&gt;<span class="title function_ invoke__">first</span>();</span><br><span class="line"><span class="comment">// 动态的</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">whereFoo</span>(<span class="string">&#x27;bar&#x27;</span>)-&gt;<span class="title function_ invoke__">first</span>();</span><br><span class="line"><span class="comment">// 如果查找失败则抛出异常</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>)-&gt;<span class="title function_ invoke__">firstOrFail</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>)-&gt;<span class="title function_ invoke__">count</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>)-&gt;<span class="title function_ invoke__">delete</span>();</span><br><span class="line"><span class="comment">// 输出原始查询</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>)-&gt;<span class="title function_ invoke__">toSql</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">whereRaw</span>(<span class="string">&#x27;foo = bar and cars = 2&#x27;</span>, <span class="keyword">array</span>(<span class="number">20</span>))-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">remember</span>(<span class="number">5</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">remember</span>(<span class="number">5</span>, <span class="string">&#x27;cache-key-name&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">cacheTags</span>(<span class="string">&#x27;my-tag&#x27;</span>)-&gt;<span class="title function_ invoke__">remember</span>(<span class="number">5</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">cacheTags</span>(<span class="keyword">array</span>(<span class="string">&#x27;my-first-key&#x27;</span>,<span class="string">&#x27;my-second-key&#x27;</span>))-&gt;<span class="title function_ invoke__">remember</span>(<span class="number">5</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">on</span>(<span class="string">&#x27;connection-name&#x27;</span>)-&gt;<span class="title function_ invoke__">find</span>(<span class="number">1</span>);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">with</span>(<span class="string">&#x27;relation&#x27;</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">take</span>(<span class="number">10</span>);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">skip</span>(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// 默认 Eloquent 排序方兴未艾</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">orderBy</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">all</span>()-&gt;<span class="title function_ invoke__">orderBy</span>(<span class="string">&#x27;column&#x27;</span>,<span class="string">&#x27;desc&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Soft-Delete"><a href="#Soft-Delete" class="headerlink" title="Soft Delete"></a>Soft Delete</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">withTrashed</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;cars&#x27;</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br><span class="line"><span class="comment">// 在结果中包含软删除模型</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">withTrashed</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;cars&#x27;</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">restore</span>();</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">where</span>(<span class="string">&#x27;cars&#x27;</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">forceDelete</span>();</span><br><span class="line"><span class="comment">// 强制结果集只包含软删除</span></span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">onlyTrashed</span>()-&gt;<span class="title function_ invoke__">where</span>(<span class="string">&#x27;cars&#x27;</span>, <span class="number">2</span>)-&gt;<span class="title function_ invoke__">get</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">creating</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">created</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">updating</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">updated</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">saving</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">saved</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">deleting</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">deleted</span>(function(<span class="variable">$model</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Model</span>::<span class="title function_ invoke__">observe</span>(<span class="keyword">new</span> <span class="title class_">FooObserver</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Eloquent-Configuration"><a href="#Eloquent-Configuration" class="headerlink" title="Eloquent Configuration"></a>Eloquent Configuration</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 禁止从模型插入和更新中抛出批量分配异常</span></span><br><span class="line"><span class="title class_">Eloquent</span>::<span class="title function_ invoke__">unguard</span>();</span><br><span class="line"><span class="comment">// 启用任何抛出批量分配异常的能力</span></span><br><span class="line"><span class="title class_">Eloquent</span>::<span class="title function_ invoke__">reguard</span>();</span><br></pre></td></tr></table></figure>

<h2 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h2><h3 id="Schema-1"><a href="#Schema-1" class="headerlink" title="Schema"></a>Schema</h3><!--rehype:wrap-class=row-span-4-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 表示需要创建表</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">create</span>(<span class="string">&#x27;table&#x27;</span>, function(<span class="variable">$table</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">increments</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 指定连接</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">connection</span>(<span class="string">&#x27;foo&#x27;</span>)-&gt;<span class="title function_ invoke__">create</span>(<span class="string">&#x27;table&#x27;</span>, function(<span class="variable">$table</span>)&#123;&#125;);</span><br><span class="line"><span class="comment">// 将表重命名为给定名称</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">rename</span>(<span class="variable">$from</span>, <span class="variable">$to</span>);</span><br><span class="line"><span class="comment">// 表示应该删除该表</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">drop</span>(<span class="string">&#x27;table&#x27;</span>);</span><br><span class="line"><span class="comment">// 指示如果表存在则应将其删除</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">dropIfExists</span>(<span class="string">&#x27;table&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定给定表是否存在</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">hasTable</span>(<span class="string">&#x27;table&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定给定表是否具有给定列</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">hasColumn</span>(<span class="string">&#x27;table&#x27;</span>, <span class="string">&#x27;column&#x27;</span>);</span><br><span class="line"><span class="comment">// 更新现有表</span></span><br><span class="line"><span class="title class_">Schema</span>::<span class="title function_ invoke__">table</span>(<span class="string">&#x27;table&#x27;</span>, function(<span class="variable">$table</span>)&#123;&#125;);</span><br><span class="line"><span class="comment">// 指示应重命名给定的列</span></span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">renameColumn</span>(<span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;to&#x27;</span>);</span><br><span class="line"><span class="comment">// 指示应删除给定的列</span></span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">dropColumn</span>(<span class="keyword">string</span>|<span class="keyword">array</span>);</span><br><span class="line"><span class="comment">// 应该用于表的存储引擎</span></span><br><span class="line"><span class="variable">$table</span>-&gt;engine = <span class="string">&#x27;InnoDB&#x27;</span>;</span><br><span class="line"><span class="comment">// 仅适用于 MySQL</span></span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">string</span>(<span class="string">&#x27;name&#x27;</span>)-&gt;<span class="title function_ invoke__">after</span>(<span class="string">&#x27;email&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Indexes"><a href="#Indexes" class="headerlink" title="Indexes"></a>Indexes</h3><!--rehype:wrap-class=row-span-3-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">string</span>(<span class="string">&#x27;column&#x27;</span>)-&gt;<span class="title function_ invoke__">unique</span>();</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">primary</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line"><span class="comment">// 创建双主键</span></span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">primary</span>(<span class="keyword">array</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;last&#x27;</span>));</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">unique</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">unique</span>(<span class="string">&#x27;column&#x27;</span>, <span class="string">&#x27;key_name&#x27;</span>);</span><br><span class="line"><span class="comment">// 创建双唯一索引</span></span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">unique</span>(<span class="keyword">array</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;last&#x27;</span>));</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">unique</span>(<span class="keyword">array</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;last&#x27;</span>), <span class="string">&#x27;key_name&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">index</span>(<span class="string">&#x27;column&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">index</span>(<span class="string">&#x27;column&#x27;</span>, <span class="string">&#x27;key_name&#x27;</span>);</span><br><span class="line"><span class="comment">// 创建双索引</span></span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">index</span>(<span class="keyword">array</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;last&#x27;</span>));</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">index</span>(<span class="keyword">array</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;last&#x27;</span>), <span class="string">&#x27;key_name&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">dropPrimary</span>(<span class="string">&#x27;table_column_primary&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">dropUnique</span>(<span class="string">&#x27;table_column_unique&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">dropIndex</span>(<span class="string">&#x27;table_column_index&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Foreign-Keys"><a href="#Foreign-Keys" class="headerlink" title="Foreign Keys"></a>Foreign Keys</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">foreign</span>(<span class="string">&#x27;user_id&#x27;</span>)-&gt;<span class="title function_ invoke__">references</span>(<span class="string">&#x27;id&#x27;</span>)-&gt;<span class="title function_ invoke__">on</span>(<span class="string">&#x27;users&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">foreign</span>(<span class="string">&#x27;user_id&#x27;</span>)-&gt;<span class="title function_ invoke__">references</span>(<span class="string">&#x27;id&#x27;</span>)-&gt;<span class="title function_ invoke__">on</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">onDelete</span>(<span class="string">&#x27;cascade&#x27;</span>|<span class="string">&#x27;restrict&#x27;</span>|<span class="string">&#x27;set null&#x27;</span>|<span class="string">&#x27;no action&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">foreign</span>(<span class="string">&#x27;user_id&#x27;</span>)-&gt;<span class="title function_ invoke__">references</span>(<span class="string">&#x27;id&#x27;</span>)-&gt;<span class="title function_ invoke__">on</span>(<span class="string">&#x27;users&#x27;</span>)-&gt;<span class="title function_ invoke__">onUpdate</span>(<span class="string">&#x27;cascade&#x27;</span>|<span class="string">&#x27;restrict&#x27;</span>|<span class="string">&#x27;set null&#x27;</span>|<span class="string">&#x27;no action&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">dropForeign</span>(<span class="string">&#x27;posts_user_id_foreign&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="列类型-增量"><a href="#列类型-增量" class="headerlink" title="列类型 - 增量"></a>列类型 - 增量</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">increments</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">bigIncrements</span>(<span class="string">&#x27;id&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="列类型-字符串和文本"><a href="#列类型-字符串和文本" class="headerlink" title="列类型 - 字符串和文本"></a>列类型 - 字符串和文本</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">char</span>(<span class="string">&#x27;name&#x27;</span>, <span class="number">4</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">string</span>(<span class="string">&#x27;email&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">string</span>(<span class="string">&#x27;name&#x27;</span>, <span class="number">100</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="string">&#x27;description&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">mediumText</span>(<span class="string">&#x27;description&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">longText</span>(<span class="string">&#x27;description&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="列类型-数字"><a href="#列类型-数字" class="headerlink" title="列类型 - 数字"></a>列类型 - 数字</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">integer</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">tinyInteger</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">smallInteger</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">mediumInteger</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">bigInteger</span>(<span class="string">&#x27;votes&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">float</span>(<span class="string">&#x27;amount&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">double</span>(<span class="string">&#x27;column&#x27;</span>, <span class="number">15</span>, <span class="number">8</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">decimal</span>(<span class="string">&#x27;amount&#x27;</span>, <span class="number">5</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<h3 id="列类型-日期和时间"><a href="#列类型-日期和时间" class="headerlink" title="列类型 - 日期和时间"></a>列类型 - 日期和时间</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">date</span>(<span class="string">&#x27;created_at&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">dateTime</span>(<span class="string">&#x27;created_at&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">time</span>(<span class="string">&#x27;sunrise&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">timestamp</span>(<span class="string">&#x27;added_on&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="列类型-添加-created-at-和-updated-at-列"><a href="#列类型-添加-created-at-和-updated-at-列" class="headerlink" title="列类型 - 添加 created_at 和 updated_at 列"></a>列类型 - 添加 created_at 和 updated_at 列</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">timestamps</span>();</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">nullableTimestamps</span>();</span><br></pre></td></tr></table></figure>

<h3 id="列类型-其他"><a href="#列类型-其他" class="headerlink" title="列类型 - 其他"></a>列类型 - 其他</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">binary</span>(<span class="string">&#x27;data&#x27;</span>);</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="keyword">boolean</span>(<span class="string">&#x27;confirmed&#x27;</span>);</span><br><span class="line"><span class="comment">// 为软删除添加 deleted_at 列</span></span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="title function_ invoke__">softDeletes</span>();</span><br><span class="line"><span class="variable">$table</span>-&gt;<span class="class"><span class="keyword">enum</span>(&#x27;<span class="title">choices</span>&#x27;, <span class="title">array</span>(&#x27;<span class="title">foo</span>&#x27;, &#x27;<span class="title">bar</span>&#x27;));</span></span><br><span class="line"><span class="class">// 添加 <span class="title">remember_token</span> 作为 <span class="title">VARCHAR</span>(100) <span class="title">NULL</span></span></span><br><span class="line"><span class="class">$<span class="title">table</span>-&gt;<span class="title">rememberToken</span>();</span></span><br><span class="line"><span class="class">// 添加 <span class="title">INTEGER</span> <span class="title">parent_id</span> 和 <span class="title">STRING</span> <span class="title">parent_type</span></span></span><br><span class="line"><span class="class">$<span class="title">table</span>-&gt;<span class="title">morphs</span>(&#x27;<span class="title">parent</span>&#x27;);</span></span><br><span class="line"><span class="class">-&gt;<span class="title">nullable</span>()</span></span><br><span class="line"><span class="class">-&gt;<span class="title">default</span>($<span class="title">value</span>)</span></span><br><span class="line"><span class="class">-&gt;<span class="title">unsigned</span>()</span></span><br></pre></td></tr></table></figure>

<h2 id="Mail"><a href="#Mail" class="headerlink" title="Mail"></a>Mail</h2><h3 id="Mail-1"><a href="#Mail-1" class="headerlink" title="Mail"></a>Mail</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Mail</span>::<span class="title function_ invoke__">send</span>(<span class="string">&#x27;email.view&#x27;</span>, <span class="variable">$data</span>, function(<span class="variable">$message</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Mail</span>::<span class="title function_ invoke__">send</span>(<span class="keyword">array</span>(<span class="string">&#x27;html.view&#x27;</span>, <span class="string">&#x27;text.view&#x27;</span>), <span class="variable">$data</span>, <span class="variable">$callback</span>);</span><br><span class="line"><span class="title class_">Mail</span>::<span class="title function_ invoke__">queue</span>(<span class="string">&#x27;email.view&#x27;</span>, <span class="variable">$data</span>, function(<span class="variable">$message</span>)&#123;&#125;);</span><br><span class="line"><span class="title class_">Mail</span>::<span class="title function_ invoke__">queueOn</span>(<span class="string">&#x27;queue-name&#x27;</span>, <span class="string">&#x27;email.view&#x27;</span>, <span class="variable">$data</span>, <span class="variable">$callback</span>);</span><br><span class="line"><span class="title class_">Mail</span>::<span class="title function_ invoke__">later</span>(<span class="number">5</span>, <span class="string">&#x27;email.view&#x27;</span>, <span class="variable">$data</span>, function(<span class="variable">$message</span>)&#123;&#125;);</span><br><span class="line"><span class="comment">// 将所有电子邮件写入日志而不是发送</span></span><br><span class="line"><span class="title class_">Mail</span>::<span class="title function_ invoke__">pretend</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Messages"><a href="#Messages" class="headerlink" title="Messages"></a>Messages</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这些可以用在传递给 Mail::send() 或 Mail::queue() 的 $message 实例上</span></span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="keyword">from</span>(<span class="string">&#x27;email@example.com&#x27;</span>, <span class="string">&#x27;Mr. Example&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">sender</span>(<span class="string">&#x27;email@example.com&#x27;</span>, <span class="string">&#x27;Mr. Example&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">returnPath</span>(<span class="string">&#x27;email@example.com&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">to</span>(<span class="string">&#x27;email@example.com&#x27;</span>, <span class="string">&#x27;Mr. Example&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">cc</span>(<span class="string">&#x27;email@example.com&#x27;</span>, <span class="string">&#x27;Mr. Example&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">bcc</span>(<span class="string">&#x27;email@example.com&#x27;</span>, <span class="string">&#x27;Mr. Example&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">replyTo</span>(<span class="string">&#x27;email@example.com&#x27;</span>, <span class="string">&#x27;Mr. Example&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">subject</span>(<span class="string">&#x27;Welcome to the Jungle&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">priority</span>(<span class="number">2</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">attach</span>(<span class="string">&#x27;foo\bar.txt&#x27;</span>, <span class="variable">$options</span>);</span><br><span class="line"><span class="comment">// 这使用内存中的数据作为附件</span></span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">attachData</span>(<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;Data Name&#x27;</span>, <span class="variable">$options</span>);</span><br><span class="line"><span class="comment">// 在消息中嵌入文件并获取 CID</span></span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">embed</span>(<span class="string">&#x27;foo\bar.txt&#x27;</span>);</span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">embedData</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;Data Name&#x27;</span>, <span class="variable">$options</span>);</span><br><span class="line"><span class="comment">// 获取底层的 Swift Message 实例</span></span><br><span class="line"><span class="variable">$message</span>-&gt;<span class="title function_ invoke__">getSwiftMessage</span>();</span><br></pre></td></tr></table></figure>

<h2 id="Auth"><a href="#Auth" class="headerlink" title="Auth"></a>Auth</h2><h3 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 判断当前用户是否通过认证</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">check</span>();</span><br><span class="line"><span class="comment">// 获取当前认证的用户</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">user</span>();</span><br><span class="line"><span class="comment">// 获取当前认证用户的ID</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">id</span>();</span><br><span class="line"><span class="comment">// 尝试使用给定的凭据对用户进行身份验证</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">attempt</span>(<span class="keyword">array</span>(<span class="string">&#x27;email&#x27;</span> =&gt; <span class="variable">$email</span>, <span class="string">&#x27;password&#x27;</span> =&gt; <span class="variable">$password</span>));</span><br><span class="line"><span class="comment">// 通过将 true 传递给 Auth::attempt() 来“记住我”</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">attempt</span>(<span class="variable">$credentials</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 登录一个请求</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">once</span>(<span class="variable">$credentials</span>);</span><br><span class="line"><span class="comment">// 将用户登录到应用程序</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">login</span>(<span class="title class_">User</span>::<span class="title function_ invoke__">find</span>(<span class="number">1</span>));</span><br><span class="line"><span class="comment">// 将给定的用户 ID 登录到应用程序中</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">loginUsingId</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 从应用程序中注销用户</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">logout</span>();</span><br><span class="line"><span class="comment">// 验证用户的凭据</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">validate</span>(<span class="variable">$credentials</span>);</span><br><span class="line"><span class="comment">// 尝试使用 HTTP Basic Auth 进行身份验证</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">basic</span>(<span class="string">&#x27;username&#x27;</span>);</span><br><span class="line"><span class="comment">// 执行无状态 HTTP 基本登录尝试</span></span><br><span class="line"><span class="title class_">Auth</span>::<span class="title function_ invoke__">onceBasic</span>();</span><br><span class="line"><span class="comment">// 向用户发送密码提醒</span></span><br><span class="line"><span class="title class_">Password</span>::<span class="title function_ invoke__">remind</span>(<span class="variable">$credentials</span>, function(<span class="variable">$message</span>, <span class="variable">$user</span>)&#123;&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 定义能力</span></span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">define</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="string">&#x27;Class@method&#x27;</span>);</span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">define</span>(<span class="string">&#x27;update-post&#x27;</span>, function (<span class="variable">$user</span>, <span class="variable">$post</span>) &#123;...&#125;);</span><br><span class="line"><span class="comment">// 传递多个参数</span></span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">define</span>(<span class="string">&#x27;delete-comment&#x27;</span>, function (<span class="variable">$user</span>, <span class="variable">$post</span>, <span class="variable">$comment</span>) &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检查能力</span></span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">denies</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>);</span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">allows</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>);</span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">check</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>);</span><br><span class="line"><span class="comment">// 指定一个用户进行检查</span></span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">forUser</span>(<span class="variable">$user</span>)-&gt;<span class="title function_ invoke__">allows</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>);</span><br><span class="line"><span class="comment">// 通过 User 模型，使用 Authorizable trait</span></span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">find</span>(<span class="number">1</span>)-&gt;<span class="title function_ invoke__">can</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>);</span><br><span class="line"><span class="title class_">User</span>::<span class="title function_ invoke__">find</span>(<span class="number">1</span>)-&gt;<span class="title function_ invoke__">cannot</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 拦截授权检查</span></span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">before</span>(function (<span class="variable">$user</span>, <span class="variable">$ability</span>) &#123;&#125;);</span><br><span class="line"><span class="title class_">Gate</span>::<span class="title function_ invoke__">after</span>(function (<span class="variable">$user</span>, <span class="variable">$ability</span>) &#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 Blade 模板中检查</span></span><br><span class="line">@<span class="title function_ invoke__">can</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>)</span><br><span class="line">@endcan</span><br><span class="line"><span class="comment">// with else</span></span><br><span class="line">@<span class="title function_ invoke__">can</span>(<span class="string">&#x27;update-post&#x27;</span>, <span class="variable">$post</span>)</span><br><span class="line">@<span class="keyword">else</span></span><br><span class="line">@endcan</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成策略</span></span><br><span class="line">php artisan make:policy PostPolicy</span><br><span class="line"><span class="comment">// `policy` 辅助函数</span></span><br><span class="line"><span class="title function_ invoke__">policy</span>(<span class="variable">$post</span>)-&gt;<span class="title function_ invoke__">update</span>(<span class="variable">$user</span>, <span class="variable">$post</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 控制器授权</span></span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">authorize</span>(<span class="string">&#x27;update&#x27;</span>, <span class="variable">$post</span>);</span><br><span class="line"><span class="comment">// for $user</span></span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">authorizeForUser</span>(<span class="variable">$user</span>, <span class="string">&#x27;update&#x27;</span>, <span class="variable">$post</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Helper"><a href="#Helper" class="headerlink" title="Helper"></a>Helper</h2><h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 将给定的键/值对添加到数组中，如果</span></span><br><span class="line"><span class="comment">// 数组中不存在给定的键</span></span><br><span class="line"><span class="title function_ invoke__">array_add</span>(<span class="variable">$array</span>, <span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 将数组的数组折叠成一个数组</span></span><br><span class="line"><span class="title function_ invoke__">array_collapse</span>(<span class="variable">$array</span>);</span><br><span class="line"><span class="comment">// 将一个数组分成两个数组。一个有键，另一个有值</span></span><br><span class="line"><span class="title function_ invoke__">array_divide</span>(<span class="variable">$array</span>);</span><br><span class="line"><span class="comment">// 用点展平多维关联数组</span></span><br><span class="line"><span class="title function_ invoke__">array_dot</span>(<span class="variable">$array</span>);</span><br><span class="line"><span class="comment">// 获取所有给定的数组，除了指定的项目数组</span></span><br><span class="line"><span class="title function_ invoke__">array_except</span>(<span class="variable">$array</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span>));</span><br><span class="line"><span class="comment">// 返回数组中通过给定真值测试的第一个元素</span></span><br><span class="line"><span class="title function_ invoke__">array_first</span>(<span class="variable">$array</span>, function(<span class="variable">$key</span>, <span class="variable">$value</span>)&#123;&#125;, <span class="variable">$default</span>);</span><br><span class="line"><span class="comment">// 从数组中剥离键</span></span><br><span class="line"><span class="title function_ invoke__">array_flatten</span>(<span class="variable">$array</span>);</span><br><span class="line"><span class="comment">// 使用“点”表示法从给定数组中删除一个或多个数组项</span></span><br><span class="line"><span class="title function_ invoke__">array_forget</span>(<span class="variable">$array</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="comment">// 点符号</span></span><br><span class="line"><span class="title function_ invoke__">array_forget</span>(<span class="variable">$array</span>, <span class="string">&#x27;foo.bar&#x27;</span>);</span><br><span class="line"><span class="comment">// 使用“点”表示法从数组中获取项目</span></span><br><span class="line"><span class="title function_ invoke__">array_get</span>(<span class="variable">$array</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;default&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">array_get</span>(<span class="variable">$array</span>, <span class="string">&#x27;foo.bar&#x27;</span>, <span class="string">&#x27;default&#x27;</span>);</span><br><span class="line"><span class="comment">// 使用“点”表示法检查给定项是否存在于数组中</span></span><br><span class="line"><span class="title function_ invoke__">array_has</span>(<span class="variable">$array</span>, <span class="string">&#x27;products.desk&#x27;</span>);</span><br><span class="line"><span class="comment">// 从给定数组中获取项目的子集</span></span><br><span class="line"><span class="title function_ invoke__">array_only</span>(<span class="variable">$array</span>, <span class="keyword">array</span>(<span class="string">&#x27;key&#x27;</span>));</span><br><span class="line"><span class="comment">// 返回键数组 =&gt; 值</span></span><br><span class="line"><span class="title function_ invoke__">array_pluck</span>(<span class="variable">$array</span>, <span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="comment">// 从数组中返回并删除“key”</span></span><br><span class="line"><span class="title function_ invoke__">array_pull</span>(<span class="variable">$array</span>, <span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="comment">// 使用“点”表示法将数组项设置为给定值</span></span><br><span class="line"><span class="title function_ invoke__">array_set</span>(<span class="variable">$array</span>, <span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 点符号</span></span><br><span class="line"><span class="title function_ invoke__">array_set</span>(<span class="variable">$array</span>, <span class="string">&#x27;key.subkey&#x27;</span>, <span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="comment">// 根据给定闭包的结果对数组进行排序</span></span><br><span class="line"><span class="title function_ invoke__">array_sort</span>(<span class="variable">$array</span>, function()&#123;&#125;);</span><br><span class="line"><span class="comment">// 使用 sort 函数对数组进行递归排序</span></span><br><span class="line"><span class="title function_ invoke__">array_sort_recursive</span>();</span><br><span class="line"><span class="comment">// 使用给定的闭包过滤数组</span></span><br><span class="line"><span class="title function_ invoke__">array_where</span>();</span><br><span class="line"><span class="comment">// 数组的第一个元素</span></span><br><span class="line"><span class="title function_ invoke__">head</span>(<span class="variable">$array</span>);</span><br><span class="line"><span class="comment">// 数组的最后一个元素</span></span><br><span class="line"><span class="title function_ invoke__">last</span>(<span class="variable">$array</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Paths"><a href="#Paths" class="headerlink" title="Paths"></a>Paths</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 应用程序目录的完全限定路径</span></span><br><span class="line"><span class="title function_ invoke__">app_path</span>();</span><br><span class="line"><span class="comment">// 获取公共文件夹的路径</span></span><br><span class="line"><span class="title function_ invoke__">base_path</span>();</span><br><span class="line"><span class="comment">// 应用程序配置目录的完全限定路径</span></span><br><span class="line"><span class="title function_ invoke__">config_path</span>();</span><br><span class="line"><span class="comment">// 应用程序数据库目录的完全限定路径</span></span><br><span class="line"><span class="title function_ invoke__">database_path</span>();</span><br><span class="line"><span class="comment">// 获取版本控制的 Elixir 文件的路径：</span></span><br><span class="line"><span class="title function_ invoke__">elixir</span>();</span><br><span class="line"><span class="comment">// 公共目录的完全限定路径</span></span><br><span class="line"><span class="title function_ invoke__">public_path</span>();</span><br><span class="line"><span class="comment">// 获取存储文件夹的路径</span></span><br><span class="line"><span class="title function_ invoke__">storage_path</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 验证器实例（Auth）</span></span><br><span class="line"><span class="title function_ invoke__">auth</span>()-&gt;<span class="title function_ invoke__">user</span>();</span><br><span class="line"><span class="comment">// 生成对用户先前位置的重定向响应</span></span><br><span class="line"><span class="title function_ invoke__">back</span>();</span><br><span class="line"><span class="comment">// 使用 Bcrypt (Hash) 散列给定值</span></span><br><span class="line"><span class="title function_ invoke__">bcrypt</span>(<span class="string">&#x27;my-secret-password&#x27;</span>);</span><br><span class="line"><span class="comment">// 从提供的项目创建一个集合实例</span></span><br><span class="line"><span class="title function_ invoke__">collect</span>([<span class="string">&#x27;taylor&#x27;</span>, <span class="string">&#x27;abigail&#x27;</span>]);</span><br><span class="line"><span class="comment">// 获取配置变量的值</span></span><br><span class="line"><span class="title function_ invoke__">config</span>(<span class="string">&#x27;app.timezone&#x27;</span>, <span class="variable">$default</span>);</span><br><span class="line"><span class="comment">// 生成包含 CSRF 令牌值的 HTML 隐藏输入字段</span></span><br><span class="line">&#123;!! <span class="title function_ invoke__">csrf_field</span>() !!&#125;</span><br><span class="line"><span class="comment">// 检索当前 CSRF 令牌的值</span></span><br><span class="line"><span class="variable">$token</span> = <span class="title function_ invoke__">csrf_token</span>();</span><br><span class="line"><span class="comment">// 转储给定的变量并结束脚本的执行</span></span><br><span class="line"><span class="title function_ invoke__">dd</span>(<span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 获取环境变量的值或返回默认值</span></span><br><span class="line"><span class="variable">$env</span> = <span class="title function_ invoke__">env</span>(<span class="string">&#x27;APP_ENV&#x27;</span>);</span><br><span class="line"><span class="variable">$env</span> = <span class="title function_ invoke__">env</span>(<span class="string">&#x27;APP_ENV&#x27;</span>, <span class="string">&#x27;production&#x27;</span>);</span><br><span class="line"><span class="comment">// 将给定事件分派给它的侦听器：</span></span><br><span class="line"><span class="title function_ invoke__">event</span>(<span class="keyword">new</span> <span class="title class_">UserRegistered</span>(<span class="variable">$user</span>));</span><br><span class="line"><span class="comment">// 为给定类创建模型工厂构建器</span></span><br><span class="line"><span class="variable">$user</span> = <span class="title function_ invoke__">factory</span>(<span class="title class_">App\User</span>::<span class="variable language_">class</span>)-&gt;<span class="title function_ invoke__">make</span>();</span><br><span class="line"><span class="comment">// 生成一个 HTML 隐藏输入字段，其中包含表单的 HTTP 谓词的欺骗值</span></span><br><span class="line">&#123;!! <span class="title function_ invoke__">method_field</span>(<span class="string">&#x27;delete&#x27;</span>) !!&#125;</span><br><span class="line"><span class="comment">// 检索闪存到会话中的旧输入值</span></span><br><span class="line"><span class="variable">$value</span> = <span class="title function_ invoke__">old</span>(<span class="string">&#x27;value&#x27;</span>);</span><br><span class="line"><span class="variable">$value</span> = <span class="title function_ invoke__">old</span>(<span class="string">&#x27;value&#x27;</span>, <span class="string">&#x27;default&#x27;</span>);</span><br><span class="line"><span class="comment">// 返回重定向器的实例以进行重定向：</span></span><br><span class="line"><span class="keyword">return</span> <span class="title function_ invoke__">redirect</span>(<span class="string">&#x27;/home&#x27;</span>);</span><br><span class="line"><span class="comment">// 返回当前请求实例或获取输入项</span></span><br><span class="line"><span class="variable">$value</span> = <span class="title function_ invoke__">request</span>(<span class="string">&#x27;key&#x27;</span>, <span class="variable">$default</span> = <span class="literal">null</span>)</span><br><span class="line"><span class="comment">// 创建响应实例或获取响应工厂的实例</span></span><br><span class="line"><span class="keyword">return</span> <span class="title function_ invoke__">response</span>(<span class="string">&#x27;Hello World&#x27;</span>, <span class="number">200</span>, <span class="variable">$headers</span>);</span><br><span class="line"><span class="comment">// 用于获取/设置会话值</span></span><br><span class="line"><span class="variable">$value</span> = <span class="title function_ invoke__">session</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="variable">$value</span> = <span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;key&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">put</span>(<span class="string">&#x27;key&#x27;</span>, <span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 将简单地返回给定的值。</span></span><br><span class="line"><span class="title function_ invoke__">value</span>(function()&#123; <span class="keyword">return</span> <span class="string">&#x27;bar&#x27;</span>; &#125;);</span><br><span class="line"><span class="comment">// 检索视图实例</span></span><br><span class="line"><span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;auth.login&#x27;</span>);</span><br><span class="line"><span class="comment">// 返回给定的值</span></span><br><span class="line"><span class="variable">$value</span> = <span class="title function_ invoke__">with</span>(<span class="keyword">new</span> <span class="title class_">Foo</span>)-&gt;<span class="title function_ invoke__">work</span>();</span><br></pre></td></tr></table></figure>

<h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 将值转换为驼峰大小写</span></span><br><span class="line"><span class="title function_ invoke__">camel_case</span>(<span class="variable">$value</span>);</span><br><span class="line"><span class="comment">// 获取给定对象/类的类“basename”</span></span><br><span class="line"><span class="title function_ invoke__">class_basename</span>(<span class="variable">$class</span>);</span><br><span class="line"><span class="comment">// 转义字符串</span></span><br><span class="line"><span class="title function_ invoke__">e</span>(<span class="string">&#x27;&lt;html&gt;&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定给定字符串是否以给定子字符串开头</span></span><br><span class="line"><span class="title function_ invoke__">starts_with</span>(<span class="string">&#x27;Foo bar.&#x27;</span>, <span class="string">&#x27;Foo&#x27;</span>);</span><br><span class="line"><span class="comment">// 确定给定字符串是否以给定子字符串结尾</span></span><br><span class="line"><span class="title function_ invoke__">ends_with</span>(<span class="string">&#x27;Foo bar.&#x27;</span>, <span class="string">&#x27;bar.&#x27;</span>);</span><br><span class="line"><span class="comment">// 将字符串转换为蛇形大小写</span></span><br><span class="line"><span class="title function_ invoke__">snake_case</span>(<span class="string">&#x27;fooBar&#x27;</span>);</span><br><span class="line"><span class="comment">// 限制字符串中的字符数</span></span><br><span class="line"><span class="title function_ invoke__">str_limit</span>();</span><br><span class="line"><span class="comment">// 确定给定的字符串是否包含给定的子字符串</span></span><br><span class="line"><span class="title function_ invoke__">str_contains</span>(<span class="string">&#x27;Hello foo bar.&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="comment">// 结果：foo/bar/</span></span><br><span class="line"><span class="title function_ invoke__">str_finish</span>(<span class="string">&#x27;foo/bar&#x27;</span>, <span class="string">&#x27;/&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">str_is</span>(<span class="string">&#x27;foo*&#x27;</span>, <span class="string">&#x27;foobar&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">str_plural</span>(<span class="string">&#x27;car&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">str_random</span>(<span class="number">25</span>);</span><br><span class="line"><span class="title function_ invoke__">str_singular</span>(<span class="string">&#x27;cars&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">str_slug</span>(<span class="string">&quot;Laravel 5 Framework&quot;</span>, <span class="string">&quot;-&quot;</span>);</span><br><span class="line"><span class="comment">// 结果：FooBar</span></span><br><span class="line"><span class="title function_ invoke__">studly_case</span>(<span class="string">&#x27;foo_bar&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">trans</span>(<span class="string">&#x27;foo.bar&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">trans_choice</span>(<span class="string">&#x27;foo.bar&#x27;</span>, <span class="variable">$count</span>);</span><br></pre></td></tr></table></figure>

<h3 id="URLs-and-Links"><a href="#URLs-and-Links" class="headerlink" title="URLs and Links"></a>URLs and Links</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">action</span>(<span class="string">&#x27;FooController@method&#x27;</span>, <span class="variable">$parameters</span>);</span><br><span class="line"><span class="comment">// HTML Link</span></span><br><span class="line"><span class="title function_ invoke__">asset</span>(<span class="string">&#x27;img/photo.jpg&#x27;</span>, <span class="variable">$title</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="comment">// HTTPS link</span></span><br><span class="line"><span class="title function_ invoke__">secure_asset</span>(<span class="string">&#x27;img/photo.jpg&#x27;</span>, <span class="variable">$title</span>, <span class="variable">$attributes</span>);</span><br><span class="line"><span class="title function_ invoke__">route</span>(<span class="variable">$route</span>, <span class="variable">$parameters</span>, <span class="variable">$absolute</span> = <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">url</span>(<span class="string">&#x27;path&#x27;</span>, <span class="variable">$parameters</span> = <span class="keyword">array</span>(), <span class="variable">$secure</span> = <span class="literal">null</span>);</span><br></pre></td></tr></table></figure>

<h2 id="另见"><a href="#另见" class="headerlink" title="另见"></a>另见</h2><ul>
<li><a target="_blank" rel="noopener" href="https://laravel.com/">Laravel 官网地址</a></li>
<li><a target="_blank" rel="noopener" href="https://learninglaravel.net/cheatsheet/#">Laravel 8 Cheat Sheet</a></li>
</ul>
</div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">太空毅栈</div><div class="author-info__description">个人博客，记录生活，分享技术。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/caoyixiong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;amp;uin=409677557&amp;amp;site=qq&amp;amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #24292e;"></i></a><a class="social-icon" href="/img/wechat.jpg" target="_blank" title="微信"><i class="fab fa-weixin" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/caoyixiong" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:409677557@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果阅读过程中遇到了问题，请及时评论或者留言，看到了会在第一时间给出回复。</div></div><!-- !=partial('includes/widget/card_wx', {}, {cache: true})--><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/adab0374.html" title="Node 多版本管理">Node 多版本管理</a><time datetime="2024-08-27T12:54:37.582Z" title="发表于 2024-08-27 20:54:37">2024-08-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/5c3d4808.html" title="第一个Go程序">第一个Go程序</a><time datetime="2024-08-23T16:46:21.634Z" title="发表于 2024-08-24 00:46:21">2024-08-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/65b9ed48.html" title="GOPATH">GOPATH</a><time datetime="2024-08-21T16:28:07.159Z" title="发表于 2024-08-22 00:28:07">2024-08-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/6b9fbde2.html" title="Gin 快速入门">Gin 快速入门</a><time datetime="2024-08-19T17:27:21.321Z" title="发表于 2024-08-20 01:27:21">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/a25657cf.html" title="Go 环境搭建">Go 环境搭建</a><time datetime="2024-08-19T17:27:21.321Z" title="发表于 2024-08-20 01:27:21">2024-08-20</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Node/"><span class="card-category-list-name">Node</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Go/" style="font-size: 1.5em; color: #99a9bf">Go</a> <a href="/tags/Nvm/" style="font-size: 1.1em; color: #999">Nvm</a> <a href="/tags/Ubuntu/" style="font-size: 1.3em; color: #99a1ac">Ubuntu</a> <a href="/tags/Gin/" style="font-size: 1.1em; color: #999">Gin</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">2024年08月</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">2020年07月</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">2020年03月</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">10</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2016-05-13T00:30:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">6.7k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-28T03:42:47.367Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home.jpg')"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">公益广告</p><div class="bg-ad"><div>国家反诈中心是国务院打击治理电信网络新型违法犯罪工作部际联席会议合成作战平台，集资源整合、情报研判、侦查指挥为一体，在打击、防范、治理电信网络诈骗等新型违法犯罪中发挥着重要作用。</div><div class="btn-xz-box"><a class="btn-xz" href="https://caoyixiong.com/">主页</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">导航</p><ul class="ft-links"><li><a href="https://caoyixiong.com/about/">关于博主</a><a href="https://caoyixiong.com/categories/">文章分类</a></li><li><a href="https://caoyixiong.com/sponsor/">来杯咖啡</a><a href="https://caoyixiong.com/tags/">文章标签</a></li><li><a href="https://caoyixiong.com/comments/">说点什么</a><a href="https://caoyixiong.com/archives/">文章归档</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">友链</p><div class="ft-img-group"><div class="img-group-item"><a href="https://caoyixiong.com/"><img src="/img/avatar.jpg" alt=""/></a></div></div></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo-8sxa.vercel.app',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script data-pjax defer src="https://npm.elemecdn.com/tzy-blog/lib/js/theme/chocolate.js"></script><script data-pjax defer src="/js/cursor.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.22.1/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.65.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>