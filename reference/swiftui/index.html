<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>SwiftUI 2.0 备忘清单 | 毅栈</title><meta name="author" content="毅栈"><meta name="copyright" content="毅栈"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="该备忘单提供了使用 SwiftUI 的标签的一些示例等 入门介绍SwiftUI 提供用于声明应用程序用户界面的视图、控件和布局结构  SwiftUI Document (apple.com) SwiftUI 2.0 备忘清单 (swiftui-example) Swift 备忘清单 (jaywcjlove.github.io)  import SwiftUIstruct AlbumDetail:">
<meta property="og:type" content="website">
<meta property="og:title" content="SwiftUI 2.0 备忘清单">
<meta property="og:url" content="https://caoyixiong.com/reference/swiftui/index.html">
<meta property="og:site_name" content="毅栈">
<meta property="og:description" content="该备忘单提供了使用 SwiftUI 的标签的一些示例等 入门介绍SwiftUI 提供用于声明应用程序用户界面的视图、控件和布局结构  SwiftUI Document (apple.com) SwiftUI 2.0 备忘清单 (swiftui-example) Swift 备忘清单 (jaywcjlove.github.io)  import SwiftUIstruct AlbumDetail:">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://caoyixiong.com/img/avatar.jpg">
<meta property="article:published_time" content="2024-08-10T06:16:16.126Z">
<meta property="article:modified_time" content="2024-08-10T06:16:16.126Z">
<meta property="article:author" content="毅栈">
<meta property="article:tag" content="博客，生活，技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://caoyixiong.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="https://caoyixiong.com/reference/swiftui/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"3NQ1I8Z7GZ","apiKey":"df5bcd27157ba7efa007752258f185fd","indexName":"blog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 毅栈","link":"链接: ","source":"来源: 毅栈","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SwiftUI 2.0 备忘清单',
  isPost: false,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-10 14:16:16'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/universe.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/sponsor/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url('/img/home.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="毅栈"><img class="site-icon" src="/img/logo.png"/><span class="site-name">毅栈</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/sponsor/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">SwiftUI 2.0 备忘清单</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><p>该备忘单提供了使用 <a target="_blank" rel="noopener" href="https://developer.apple.com/xcode/swiftui/">SwiftUI</a> 的标签的一些示例等</p>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p><a target="_blank" rel="noopener" href="https://developer.apple.com/xcode/swiftui/">SwiftUI</a> 提供用于声明应用程序用户界面的视图、控件和布局结构</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/xcode/swiftui/">SwiftUI Document</a> <em>(apple.com)</em></li>
<li><a target="_blank" rel="noopener" href="https://wangchujiang.com/swiftui-example/cheat-sheet.html">SwiftUI 2.0 备忘清单</a> <em>(swiftui-example)</em></li>
<li><a href="./swift.md">Swift 备忘清单</a> <em>(jaywcjlove.github.io)</em></li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">AlbumDetail</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> album: <span class="type">Album</span></span><br><span class="line">  <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">List</span>(album.songs) &#123; song <span class="keyword">in</span> </span><br><span class="line">      <span class="type">HStack</span> &#123;</span><br><span class="line">        <span class="type">Image</span>(album.cover)</span><br><span class="line">        <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">          <span class="type">Text</span>(song.title)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SwiftUI-与-UIKit-效果一致"><a href="#SwiftUI-与-UIKit-效果一致" class="headerlink" title="SwiftUI 与 UIKit 效果一致"></a>SwiftUI 与 UIKit 效果一致</h3><!--rehype:wrap-class=col-span-2-->

<ul>
<li><a href="#text">Text</a> &amp; <a href="#label">Label</a> <em>(UILabel)</em></li>
<li><a href="#image-%E5%9B%BE%E7%89%87">Image</a> <em>(UIImageView)</em></li>
<li><a href="#texteditor-%E5%A4%9A%E8%A1%8C%E5%8F%AF%E6%BB%9A%E5%8A%A8%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8">TextField</a> &#x2F; <a href="#securefield-%E5%AF%86%E7%A0%81%E8%BE%93%E5%85%A5%E6%A1%86">SecureField</a> <em>(UITextField)</em></li>
<li><a href="#texteditor-%E5%A4%9A%E8%A1%8C%E5%8F%AF%E6%BB%9A%E5%8A%A8%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8">TextEditor</a> <em>(UITextView)</em></li>
<li><a href="#toggle-%E5%BC%80%E5%85%B3%E9%80%89%E6%8B%A9%E5%99%A8">Toggle</a> <em>(UISwitch)</em></li>
<li><a href="#slider-%E6%BB%91%E5%8A%A8%E8%BE%93%E5%85%A5%E6%9D%A1">Slider</a> <em>(UISlider)</em></li>
<li><a href="#button-%E6%8C%89%E9%92%AE%E6%8E%A7%E4%BB%B6">Button</a>&#x2F; <a href="#link">Link</a> <em>(UIButton)</em></li>
<li><a href="#link">List</a> <em>(UITableView)</em></li>
<li><a href="#lazyvgrid">LazyVGrid</a> &#x2F; <a href="#lazyhgrid">LazyHGrid</a> <em>(UICollectionView)</em></li>
<li><a href="#navigationview">NavigationView</a> <em>(UINavigationController)</em></li>
<li><a href="#tabview">TabView</a> <em>(UITabBarController)</em></li>
<li><a href="#alert">Alert</a> <em>(UIAlertController 带有样式 .alert)</em></li>
<li><a href="#actionsheet">ActionSheet</a> <em>(UIAlertController 带有样式 .actionSheet)</em></li>
<li><a href="#hstack">HStack</a> &#x2F; <a href="#lazyhstack">LazyHStack</a> <em>(UIStackView 带水平轴)</em></li>
<li><a href="#vstack">VStack</a> &#x2F; <a href="#lazyvstack">LazyVStack</a> <em>(UIStackView 带垂直轴)</em></li>
<li><a href="#picker-%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6">Picker</a> <em>(UISegmentedControl)</em></li>
<li><a href="#stepper-%E6%89%A7%E8%A1%8C%E8%AF%AD%E4%B9%89%E9%80%92%E5%A2%9E%E5%92%8C%E9%80%92%E5%87%8F%E6%93%8D%E4%BD%9C%E7%9A%84%E6%8E%A7%E4%BB%B6">Stepper</a> <em>(UIStepper)</em></li>
<li><a href="#datepicker-%E6%97%A5%E6%9C%9F%E6%8E%A7%E4%BB%B6">DatePicker</a> <em>(UIDatePicker)</em></li>
<li><a href="#text">Text</a> <em>(NSAttributedString)无等效项)</em></li>
<li><a href="#map-%E5%9C%B0%E5%9B%BE%E7%95%8C%E9%9D%A2%E7%9A%84%E8%A7%86%E5%9B%BE">Map</a> <em>(MapKit)</em></li>
<li><a href="#progressview-%E8%BF%9B%E5%BA%A6%E8%A7%86%E5%9B%BE">ProgressView</a> <em>(UIProgressView)</em></li>
<li><a href="#shape">Shape</a> &#x2F; <a href="#shape">Rectangle</a> &#x2F; <a href="#shape">Circle</a><!--rehype:className=cols-2--></li>
</ul>
<h2 id="View-视图"><a href="#View-视图" class="headerlink" title="View(视图)"></a>View(视图)</h2><h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><p>要在UI中显示文本，只需编写：</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>添加样式</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">    .font(.largeTitle)</span><br><span class="line">    .foregroundColor(<span class="type">Color</span>.green)</span><br><span class="line">    .lineSpacing(<span class="number">50</span>)</span><br><span class="line">    .lineLimit(<span class="literal">nil</span>)</span><br><span class="line">    .padding()</span><br></pre></td></tr></table></figure>

<h3 id="Text-设置文本格式"><a href="#Text-设置文本格式" class="headerlink" title="Text 设置文本格式"></a>Text 设置文本格式</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">let</span> dateFormatter: <span class="type">DateFormatter</span> <span class="operator">=</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> formatter <span class="operator">=</span> <span class="type">DateFormatter</span>()</span><br><span class="line">  formatter.dateStyle <span class="operator">=</span> .long</span><br><span class="line">  <span class="keyword">return</span> formatter</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> now <span class="operator">=</span> <span class="type">Date</span>()</span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">  <span class="type">Text</span>(<span class="string">&quot;Task due date: <span class="subst">\(now, formatter: <span class="keyword">Self</span>.dateFormatter)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h3><!--rehype:wrap-class=col-span-2-->

<p>可以使用以下代码行在文本旁边设置图标。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Label</span>(<span class="string">&quot;SwiftUI CheatSheet&quot;</span>, systemImage: <span class="string">&quot;up.icloud&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/label">Label</a></p>
<h3 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h3><p>可以设置URL，单击后将重定向到浏览器。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Link</span>(<span class="string">&quot;Click me&quot;</span>, destination: <span class="type">URL</span>(string: <span class="string">&quot;your_url&quot;</span>)<span class="operator">!</span>)</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/link">Label</a></p>
<h3 id="Image-图片"><a href="#Image-图片" class="headerlink" title="Image 图片"></a>Image 图片</h3><!--rehype:wrap-class=row-span-2-->

<p>显示与环境相关的图像的视图。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Image</span>(<span class="string">&quot;foo&quot;</span>) <span class="comment">// 图像名称是foo</span></span><br></pre></td></tr></table></figure>

<p>我们可以使用新的 <code>SF Symbols</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Image</span>(systemName: <span class="string">&quot;clock.fill&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>您可以向系统图标集添加样式以匹配您使用的字体</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Image</span>(systemName: <span class="string">&quot;cloud.heavyrain.fill&quot;</span>)</span><br><span class="line">    .foregroundColor(.red)</span><br><span class="line">    .font(.title)</span><br><span class="line"><span class="type">Image</span>(systemName: <span class="string">&quot;clock&quot;</span>)</span><br><span class="line">    .foregroundColor(.red)</span><br><span class="line">    .font(<span class="type">Font</span>.system(.largeTitle).bold())</span><br></pre></td></tr></table></figure>

<p>为图像添加样式</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Image</span>(<span class="string">&quot;foo&quot;</span>)</span><br><span class="line">  .resizable() <span class="comment">// 调整大小以便填充所有可用空间</span></span><br><span class="line">  .aspectRatio(contentMode: .fit)</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/image">Image</a></p>
<h3 id="Shape"><a href="#Shape" class="headerlink" title="Shape"></a>Shape</h3><p>创建矩形的步骤</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Rectangle</span>()</span><br><span class="line">    .fill(<span class="type">Color</span>.red)</span><br><span class="line">    .frame(width: <span class="number">200</span>, height: <span class="number">200</span>)</span><br></pre></td></tr></table></figure>

<p>创建圆的步骤</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Circle</span>()</span><br><span class="line">  .fill(<span class="type">Color</span>.blue)</span><br><span class="line">  .frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/shapes">Image</a></p>
<h3 id="ProgressView-进度视图"><a href="#ProgressView-进度视图" class="headerlink" title="ProgressView 进度视图"></a>ProgressView 进度视图</h3><p>显示任务完成进度的视图。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> progress <span class="operator">=</span> <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">ProgressView</span>(value: progress)</span><br><span class="line">    <span class="type">Button</span>(<span class="string">&quot;More&quot;</span>, action: &#123; progress <span class="operator">+=</span> <span class="number">0.05</span> &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text -->

<p>通过应用 <code>CircularProgressViewStyle</code>，可以将其用作 <code>UIActivityIndicatorView</code>。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">ProgressView</span>(value: progress)</span><br><span class="line">    .progressViewStyle(<span class="type">CircularProgressViewStyle</span>())</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text -->

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/progressview">ProgressView</a></p>
<h3 id="Map-地图界面的视图"><a href="#Map-地图界面的视图" class="headerlink" title="Map 地图界面的视图"></a>Map 地图界面的视图</h3><!--rehype:wrap-class=col-span-3-->

<p>显示指定区域的地图</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> MapKit</span><br><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> region <span class="operator">=</span> <span class="type">MKCoordinateRegion</span>(center: .<span class="keyword">init</span>(latitude: <span class="number">37.334722</span>, longitude: <span class="operator">-</span><span class="number">122.008889</span>), latitudinalMeters: <span class="number">300</span>, longitudinalMeters: <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">Map</span>(coordinateRegion: <span class="variable">$region</span>)</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text -->

<p>您可以通过指定 <code>interactionModes</code>（使用<code>[]</code>禁用所有交互）来控制地图的交互。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">PinItem</span>: <span class="title class_ inherited__">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> id <span class="operator">=</span> <span class="type">UUID</span>()</span><br><span class="line">    <span class="keyword">let</span> coordinate: <span class="type">CLLocationCoordinate2D</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Map</span>(coordinateRegion: <span class="variable">$region</span>, </span><br><span class="line">    interactionModes: [], </span><br><span class="line">    showsUserLocation: <span class="literal">true</span>, </span><br><span class="line">    userTrackingMode: <span class="literal">nil</span>, </span><br><span class="line">    annotationItems: [<span class="type">PinItem</span>(coordinate: .<span class="keyword">init</span>(latitude: <span class="number">37.334722</span>, longitude: <span class="operator">-</span><span class="number">122.008889</span>))]) &#123; item <span class="keyword">in</span>                    </span><br><span class="line">    <span class="type">MapMarker</span>(coordinate: item.coordinate)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/mapkit/map">Map</a></p>
<h2 id="Layout-布局"><a href="#Layout-布局" class="headerlink" title="Layout(布局)"></a>Layout(布局)</h2><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>将图像用作背景</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">    .font(.largeTitle)</span><br><span class="line">    .background(</span><br><span class="line">        <span class="type">Image</span>(<span class="string">&quot;hello_world&quot;</span>)</span><br><span class="line">            .resizable()</span><br><span class="line">            .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h3 id="VStack"><a href="#VStack" class="headerlink" title="VStack"></a>VStack</h3><p>以垂直线排列其子项的视图</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span> (alignment: .center, spacing: <span class="number">20</span>)&#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    <span class="type">Divider</span>()</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;World&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建静态可滚动列表。文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/vstack">VStack</a></p>
<h3 id="HStack"><a href="#HStack" class="headerlink" title="HStack"></a>HStack</h3><p>将其子级排列在一条水平线上的视图。</p>
<p>创建静态可滚动列表</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">HStack</span> (alignment: .center, spacing: <span class="number">20</span>)&#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    <span class="type">Divider</span>()</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;World&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/hstack">HStack</a></p>
<h3 id="LazyVStack"><a href="#LazyVStack" class="headerlink" title="LazyVStack"></a>LazyVStack</h3><p><code>iOS 14</code> 一种视图，将其子级排列在垂直增长的线中，仅在需要时创建项。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">ScrollView</span> &#123;</span><br><span class="line">  <span class="type">LazyVStack</span>(alignment: .leading) &#123;</span><br><span class="line">    <span class="type">ForEach</span>(<span class="number">1</span><span class="operator">...</span><span class="number">100</span>, id: \.<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Row <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/lazyvstack">LazyVStack</a></p>
<h3 id="LazyHStack"><a href="#LazyHStack" class="headerlink" title="LazyHStack"></a>LazyHStack</h3><!--rehype:wrap-class=col-span-2-->

<p>将子项排列在水平增长的线中的视图，仅在需要时创建项。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">ScrollView</span>(.horizontal) &#123;</span><br><span class="line">    <span class="type">LazyHStack</span>(alignment: .center, spacing: <span class="number">20</span>) &#123;</span><br><span class="line">        <span class="type">ForEach</span>(<span class="number">1</span><span class="operator">...</span><span class="number">100</span>, id: \.<span class="keyword">self</span>) &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Column <span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/lazyhstack">LazyHStack</a></p>
<h3 id="ZStack"><a href="#ZStack" class="headerlink" title="ZStack"></a>ZStack</h3><p>覆盖其子项的视图，使子项在两个轴上对齐。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">ZStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        .padding(<span class="number">10</span>)</span><br><span class="line">        .background(<span class="type">Color</span>.red)</span><br><span class="line">        .opacity(<span class="number">0.8</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;World&quot;</span>)</span><br><span class="line">        .padding(<span class="number">20</span>)</span><br><span class="line">        .background(<span class="type">Color</span>.red)</span><br><span class="line">        .offset(x: <span class="number">0</span>, y: <span class="number">40</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/zstack">ZStack</a></p>
<h3 id="LazyVGrid"><a href="#LazyVGrid" class="headerlink" title="LazyVGrid"></a>LazyVGrid</h3><!--rehype:wrap-class=col-span-2-->

<p>容器视图，将其子视图排列在垂直增长的网格中，仅在需要时创建项目。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> columns: [<span class="type">GridItem</span>] <span class="operator">=</span> <span class="type">Array</span>(repeating: .<span class="keyword">init</span>(.fixed(<span class="number">20</span>)), count: <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">ScrollView</span> &#123;</span><br><span class="line">    <span class="type">LazyVGrid</span>(columns: columns) &#123;</span><br><span class="line">        <span class="type">ForEach</span>((<span class="number">0</span><span class="operator">...</span><span class="number">100</span>), id: \.<span class="keyword">self</span>) &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;<span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>).background(<span class="type">Color</span>.pink)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/lazyvgrid">LazyVGrid</a></p>
<h3 id="LazyHGrid"><a href="#LazyHGrid" class="headerlink" title="LazyHGrid"></a>LazyHGrid</h3><p>一种容器视图，将其子视图排列在水平增长的网格中，仅在需要时创建项目。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> rows: [<span class="type">GridItem</span>] <span class="operator">=</span></span><br><span class="line">  <span class="type">Array</span>(</span><br><span class="line">    repeating: .<span class="keyword">init</span>(.fixed(<span class="number">20</span>)), count: <span class="number">2</span></span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="type">ScrollView</span>(.horizontal) &#123;</span><br><span class="line">  <span class="type">LazyHGrid</span>(rows: rows, alignment: .top) &#123;</span><br><span class="line">    <span class="type">ForEach</span>((<span class="number">0</span><span class="operator">...</span><span class="number">100</span>), id: \.<span class="keyword">self</span>) &#123;</span><br><span class="line">      <span class="type">Text</span>(<span class="string">&quot;<span class="subst">\(<span class="variable">$0</span>)</span>&quot;</span>).background(<span class="type">Color</span>.pink)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/lazyhgrid">LazyHGrid</a></p>
<h3 id="Spacer"><a href="#Spacer" class="headerlink" title="Spacer"></a>Spacer</h3><p>沿其包含的堆栈布局的主轴或如果不包含在堆栈中的两个轴上扩展的灵活空间。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">HStack</span> &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;clock&quot;</span>)</span><br><span class="line">    <span class="type">Spacer</span>()</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Time&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/spacer">Spacer</a></p>
<h3 id="Divider"><a href="#Divider" class="headerlink" title="Divider"></a>Divider</h3><p>可用于分隔其他内容的视觉元素。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">HStack</span> &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;clock&quot;</span>)</span><br><span class="line">    <span class="type">Divider</span>()</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Time&quot;</span>)</span><br><span class="line">&#125;.fixedSize()</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/divider">Divider</a></p>
<h2 id="Input-输入"><a href="#Input-输入" class="headerlink" title="Input(输入)"></a>Input(输入)</h2><h3 id="Toggle-开关选择器"><a href="#Toggle-开关选择器" class="headerlink" title="Toggle 开关选择器"></a>Toggle 开关选择器</h3><p>在打开和关闭状态之间切换的控件。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> isShowing <span class="operator">=</span> <span class="literal">true</span> <span class="comment">// toggle state</span></span><br><span class="line"></span><br><span class="line"><span class="type">Toggle</span>(isOn: <span class="variable">$isShowing</span>) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果您的 <code>Toggle</code> 的标签只有 <code>Text</code>，则可以使用此更简单的签名进行初始化。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Toggle</span>(<span class="string">&quot;Hello World&quot;</span>, isOn: <span class="variable">$isShowing</span>)</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/toggle">Toggle</a></p>
<h3 id="Button-按钮控件"><a href="#Button-按钮控件" class="headerlink" title="Button 按钮控件"></a>Button 按钮控件</h3><!--rehype:wrap-class=row-span-2-->

<p>在触发时执行操作的控件。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span>(</span><br><span class="line">    action: &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;did tap&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    label: &#123; <span class="type">Text</span>(<span class="string">&quot;Click Me&quot;</span>) &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果 <code>Button</code> 的标签仅为 <code>Text</code>，则可以使用此更简单的签名进行初始化。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span>(<span class="string">&quot;Click Me&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;did tap&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>您可以通过此按钮了解一下</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span>(action: &#123;</span><br><span class="line">    <span class="comment">// 退出应用</span></span><br><span class="line">    <span class="type">NSApplication</span>.shared.terminate(<span class="keyword">self</span>)</span><br><span class="line">&#125;, label: &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;clock&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Click Me&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Subtitle&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.foregroundColor(<span class="type">Color</span>.white)</span><br><span class="line">.padding()</span><br><span class="line">.background(<span class="type">Color</span>.blue)</span><br><span class="line">.cornerRadius(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/button">Button</a></p>
<h3 id="TextField-输入框"><a href="#TextField-输入框" class="headerlink" title="TextField 输入框"></a>TextField 输入框</h3><!--rehype:wrap-class=row-span-2-->

<p>显示可编辑文本界面的控件。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> name: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;John&quot;</span>    </span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">TextField</span>(<span class="string">&quot;Name&#x27;s placeholder&quot;</span>, text: <span class="variable">$name</span>)</span><br><span class="line">        .textFieldStyle(<span class="type">RoundedBorderTextFieldStyle</span>())</span><br><span class="line">        .padding()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>取消编辑框焦点样式。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">NSTextField</span> &#123; <span class="comment">// &lt;&lt; workaround !!!</span></span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">override</span> <span class="keyword">var</span> focusRingType: <span class="type">NSFocusRingType</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; .none &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如何居中放置 <code>TextField</code> 的文本</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> text: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;TextField Text&quot;</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">TextField</span>(<span class="string">&quot;Placeholder Text&quot;</span>, text: <span class="variable">$text</span>)</span><br><span class="line">            .padding(.all, <span class="number">20</span>)</span><br><span class="line">            .multilineTextAlignment(.center)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/textfield">TextField</a></p>
<h3 id="SecureField-密码输入框"><a href="#SecureField-密码输入框" class="headerlink" title="SecureField 密码输入框"></a>SecureField 密码输入框</h3><p>用户安全地输入私人文本的控件。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> password: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;1234&quot;</span>    </span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">  <span class="type">SecureField</span>(<span class="variable">$password</span>)</span><br><span class="line">    .textFieldStyle(<span class="type">RoundedBorderTextFieldStyle</span>())</span><br><span class="line">    .padding()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/securefield">SecureField</a></p>
<h3 id="TextEditor-多行可滚动文本编辑器"><a href="#TextEditor-多行可滚动文本编辑器" class="headerlink" title="TextEditor 多行可滚动文本编辑器"></a>TextEditor 多行可滚动文本编辑器</h3><p>可以显示和编辑长格式文本的视图。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> fullText: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;这是一些可编辑的文本...&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">  <span class="type">TextEditor</span>(text: <span class="variable">$fullText</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text -->

<p>设置 <code>TextEditor</code> 背景颜色</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extension</span> <span class="title class_">NSTextView</span> &#123;</span><br><span class="line">  <span class="keyword">open</span> <span class="keyword">override</span> <span class="keyword">var</span> frame: <span class="type">CGRect</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      backgroundColor <span class="operator">=</span> .clear</span><br><span class="line"><span class="comment">//      drawsBackground = true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">DetailContent</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">  <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> profileText: <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;输入您的简历&quot;</span></span><br><span class="line">  <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">VSplitView</span>()&#123;</span><br><span class="line">      <span class="type">TextEditor</span>(text: <span class="variable">$profileText</span>)</span><br><span class="line">        .background(<span class="type">Color</span>.red)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text -->

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/texteditor">TextEditor</a></p>
<h3 id="DatePicker-日期控件"><a href="#DatePicker-日期控件" class="headerlink" title="DatePicker 日期控件"></a>DatePicker 日期控件</h3><!--rehype:wrap-class=col-span-2 row-span-2-->

<p>日期选择器(DatePicker)的样式也会根据其祖先而改变。 在 <code>Form</code> 或 <code>List</code> 下，它显示为单个列表行，您可以点击以展开到日期选择器（就像日历应用程序一样）。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> selectedDate <span class="operator">=</span> <span class="type">Date</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dateClosedRange: <span class="type">ClosedRange</span>&lt;<span class="type">Date</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> min <span class="operator">=</span> <span class="type">Calendar</span>.current.date(byAdding: .day, value: <span class="operator">-</span><span class="number">1</span>, to: <span class="type">Date</span>())<span class="operator">!</span></span><br><span class="line">    <span class="keyword">let</span> max <span class="operator">=</span> <span class="type">Calendar</span>.current.date(byAdding: .day, value: <span class="number">1</span>, to: <span class="type">Date</span>())<span class="operator">!</span></span><br><span class="line">    <span class="keyword">return</span> min<span class="operator">...</span>max</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">  <span class="type">Form</span> &#123;</span><br><span class="line">      <span class="type">Section</span> &#123;</span><br><span class="line">          <span class="type">DatePicker</span>(</span><br><span class="line">              selection: <span class="variable">$selectedDate</span>,</span><br><span class="line">              in: dateClosedRange,</span><br><span class="line">              displayedComponents: .date,</span><br><span class="line">              label: &#123; <span class="type">Text</span>(<span class="string">&quot;Due Date&quot;</span>) &#125;</span><br><span class="line">          )</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在表格和列表的外部，它显示为普通的轮式拾取器</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> selectedDate <span class="operator">=</span> <span class="type">Date</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dateClosedRange: <span class="type">ClosedRange</span>&lt;<span class="type">Date</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> min <span class="operator">=</span> <span class="type">Calendar</span>.current.date(byAdding: .day, value: <span class="operator">-</span><span class="number">1</span>, to: <span class="type">Date</span>())<span class="operator">!</span></span><br><span class="line">  <span class="keyword">let</span> max <span class="operator">=</span> <span class="type">Calendar</span>.current.date(byAdding: .day, value: <span class="number">1</span>, to: <span class="type">Date</span>())<span class="operator">!</span></span><br><span class="line">  <span class="keyword">return</span> min<span class="operator">...</span>max</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">DatePicker</span>(selection: <span class="variable">$selectedDate</span>, in: dateClosedRange,</span><br><span class="line">  displayedComponents: [.hourAndMinute, .date],</span><br><span class="line">  label: &#123; <span class="type">Text</span>(<span class="string">&quot;Due Date&quot;</span>) &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果 <code>DatePicker</code> 的标签仅是纯文本，则可以使用此更简单的签名进行初始化。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">DatePicker</span>(<span class="string">&quot;Due Date&quot;</span>, selection: <span class="variable">$selectedDate</span>, in: dateClosedRange,</span><br><span class="line">  displayedComponents: [.hourAndMinute, .date])</span><br></pre></td></tr></table></figure>

<p>可以使用 <code>ClosedRange</code>，<code>PartialRangeThrough</code> 和 <code>PartialRangeFrom</code> 来设置 <code>minimumDate</code> 和 <code>maximumDate</code>。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">DatePicker</span>(<span class="string">&quot;Minimum Date&quot;</span>, selection: <span class="variable">$selectedDate</span>,</span><br><span class="line">    in: <span class="type">Date</span>()<span class="operator">...</span>,</span><br><span class="line">    displayedComponents: [.date])</span><br><span class="line"></span><br><span class="line"><span class="type">DatePicker</span>(<span class="string">&quot;Maximum Date&quot;</span>, selection: <span class="variable">$selectedDate</span>,</span><br><span class="line">    in: <span class="operator">...</span><span class="type">Date</span>(),</span><br><span class="line">    displayedComponents: [.date])</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/datepicker">DatePicker</a></p>
<h3 id="Slider-滑动输入条"><a href="#Slider-滑动输入条" class="headerlink" title="Slider 滑动输入条"></a>Slider 滑动输入条</h3><p>用于从值的有界线性范围中选择一个值的控件。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> progress: <span class="type">Float</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="type">Slider</span>(value: <span class="variable">$progress</span>,</span><br><span class="line">  from: <span class="number">0.0</span>,</span><br><span class="line">  through: <span class="number">100.0</span>,</span><br><span class="line">  by: <span class="number">5.0</span>)</span><br></pre></td></tr></table></figure>

<p>滑块缺少 <code>minimumValueImage</code> 和 <code>maximumValueImage</code>，但是我们可以通过 <code>HStack</code> 轻松地复制它</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> progress: <span class="type">Float</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="type">HStack</span> &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;sun.min&quot;</span>)</span><br><span class="line">    <span class="type">Slider</span>(value: <span class="variable">$progress</span>,</span><br><span class="line">        from: <span class="number">0.0</span>,</span><br><span class="line">        through: <span class="number">100.0</span>,</span><br><span class="line">        by: <span class="number">5.0</span>)</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;sun.max.fill&quot;</span>)</span><br><span class="line">&#125;.padding()</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/slider">Slider</a></p>
<h3 id="Picker-选择控件"><a href="#Picker-选择控件" class="headerlink" title="Picker 选择控件"></a>Picker 选择控件</h3><!--rehype:wrap-class=row-span-2-->

<p>用于从一组互斥值中进行选择的控件。</p>
<p>选择器样式的更改基于其祖先，在 <code>Form</code> 或 <code>List</code> 下，它显示为单个列表行，您可以点击以进入一个显示所有可能选项的新屏幕。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">  <span class="type">Form</span> &#123;</span><br><span class="line">    <span class="type">Section</span> &#123;</span><br><span class="line">      <span class="type">Picker</span>(selection: <span class="variable">$selection</span>,</span><br><span class="line">        label: <span class="type">Text</span>(<span class="string">&quot;Picker Name&quot;</span>),</span><br><span class="line">        content: &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Value 1&quot;</span>).tag(<span class="number">0</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Value 2&quot;</span>).tag(<span class="number">1</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Value 3&quot;</span>).tag(<span class="number">2</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Value 4&quot;</span>).tag(<span class="number">3</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>您可以使用 <code>.pickerStyle(WheelPickerStyle())</code> 覆盖样式。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> mapChoioce <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> settings <span class="operator">=</span> [<span class="string">&quot;Map&quot;</span>, <span class="string">&quot;Transit&quot;</span>, <span class="string">&quot;Satellite&quot;</span>]</span><br><span class="line"><span class="type">Picker</span>(<span class="string">&quot;Options&quot;</span>, selection: <span class="variable">$mapChoioce</span>) &#123;</span><br><span class="line">    <span class="type">ForEach</span>(<span class="number">0</span> <span class="operator">..&lt;</span> settings.count) &#123; index <span class="keyword">in</span></span><br><span class="line">        <span class="type">Text</span>(<span class="keyword">self</span>.settings[index])</span><br><span class="line">            .tag(index)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;.pickerStyle(<span class="type">SegmentedPickerStyle</span>())</span><br></pre></td></tr></table></figure>

<p>在 <code>SwiftUI</code> 中，<code>UISegmentedControl</code> 只是 <code>Picker</code>的另一种样式。分段控制(SegmentedControl)在 <code>iOS 13</code> 中也焕然一新。文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/picker">Picker</a></p>
<h3 id="Stepper-执行语义递增和递减操作的控件"><a href="#Stepper-执行语义递增和递减操作的控件" class="headerlink" title="Stepper 执行语义递增和递减操作的控件"></a>Stepper 执行语义递增和递减操作的控件</h3><!--rehype:wrap-class=row-span-2-->

<p>用于执行语义递增和递减操作的控件。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> quantity: <span class="type">Int</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="type">Stepper</span>(</span><br><span class="line">  value: <span class="variable">$quantity</span>,</span><br><span class="line">  in: <span class="number">0</span><span class="operator">...</span><span class="number">10</span>,</span><br><span class="line">  label: &#123; <span class="type">Text</span>(<span class="string">&quot;Quantity <span class="subst">\(quantity)</span>&quot;</span>)&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果 <code>Stepper</code> 的标签只有 <code>Text</code>，则可以使用此更简单的签名进行初始化。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Stepper</span>(</span><br><span class="line">  <span class="string">&quot;Quantity <span class="subst">\(quantity)</span>&quot;</span>,</span><br><span class="line">  value: <span class="variable">$quantity</span>,</span><br><span class="line">  in: <span class="number">0</span><span class="operator">...</span><span class="number">10</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>如果要完全控制，他们可以提供裸机步进器，您可以在其中管理自己的数据源。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> quantity: <span class="type">Int</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="type">Stepper</span>(onIncrement: &#123;</span><br><span class="line">    <span class="keyword">self</span>.quantity <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">&#125;, onDecrement: &#123;</span><br><span class="line">    <span class="keyword">self</span>.quantity <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">&#125;, label: &#123; <span class="type">Text</span>(<span class="string">&quot;Quantity <span class="subst">\(quantity)</span>&quot;</span>) &#125;)</span><br></pre></td></tr></table></figure>

<p>如果您还为带有 <code>step</code> 的初始化程序的每个步骤指定了一个值的数量。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Stepper</span>(</span><br><span class="line">  value: <span class="variable">$quantity</span>, in: <span class="number">0</span><span class="operator">...</span><span class="number">10</span>, step: <span class="number">2</span></span><br><span class="line">) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Quantity <span class="subst">\(quantity)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/stepper">Stepper</a></p>
<h3 id="Tap"><a href="#Tap" class="headerlink" title="Tap"></a>Tap</h3><p>对于单次敲击</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;Tap me!&quot;</span>).onTapGesture &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Tapped!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用于双击</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;Tap me!&quot;</span>).onTapGesture(count: <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Tapped!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Gesture-手势"><a href="#Gesture-手势" class="headerlink" title="Gesture 手势"></a>Gesture 手势</h3><p>手势如轻敲手势、长按手势、拖拉手势</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;Tap&quot;</span>)</span><br><span class="line">  .gesture(</span><br><span class="line">      <span class="type">TapGesture</span>()</span><br><span class="line">          .onEnded &#123; <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">              <span class="comment">// do something</span></span><br><span class="line">          &#125;</span><br><span class="line">  )</span><br><span class="line"><span class="type">Text</span>(<span class="string">&quot;Drag Me&quot;</span>)</span><br><span class="line">  .gesture(</span><br><span class="line">      <span class="type">DragGesture</span>(minimumDistance: <span class="number">50</span>)</span><br><span class="line">          .onEnded &#123; <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">              <span class="comment">// do something</span></span><br><span class="line">          &#125;</span><br><span class="line">  )</span><br><span class="line"><span class="type">Text</span>(<span class="string">&quot;Long Press&quot;</span>)</span><br><span class="line">  .gesture(</span><br><span class="line">      <span class="type">LongPressGesture</span>(minimumDuration: <span class="number">2</span>)</span><br><span class="line">          .onEnded &#123; <span class="keyword">_</span> <span class="keyword">in</span></span><br><span class="line">              <span class="comment">// do something</span></span><br><span class="line">          &#125;</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

<h3 id="OnChange"><a href="#OnChange" class="headerlink" title="OnChange"></a>OnChange</h3><p>onChange 是一个新的视图修改器，可用于所有 SwiftUI 视图。它允许您侦听状态更改并相应地对视图执行操作</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">TextEditor</span>(text: <span class="variable">$currentText</span>)</span><br><span class="line">  .onChange(of: clearText) &#123; value <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">if</span> clearText&#123;</span><br><span class="line">          currentText <span class="operator">=</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="List-列表"><a href="#List-列表" class="headerlink" title="List(列表)"></a>List(列表)</h2><h3 id="List-列表-1"><a href="#List-列表-1" class="headerlink" title="List 列表"></a>List 列表</h3><p>一个容器，用于显示排列在单列中的数据行。创建静态可滚动列表</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello world&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello world&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="创建动态列表"><a href="#创建动态列表" class="headerlink" title="创建动态列表"></a>创建动态列表</h3><!--rehype:wrap-class=col-span-2 row-span-2-->

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> names <span class="operator">=</span> [<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Seed&quot;</span>]</span><br><span class="line"><span class="type">List</span>(names) &#123; name <span class="keyword">in</span></span><br><span class="line">    <span class="type">Text</span>(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>添加 <code>Section</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Section</span>(header: <span class="type">Text</span>(<span class="string">&quot;UIKit&quot;</span>), footer: <span class="type">Text</span>(<span class="string">&quot;We will miss you&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;UITableView&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">Section</span>(header: <span class="type">Text</span>(<span class="string">&quot;SwiftUI&quot;</span>), footer: <span class="type">Text</span>(<span class="string">&quot;A lot to learn&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;List&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="可混合的列表"><a href="#可混合的列表" class="headerlink" title="可混合的列表"></a>可混合的列表</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello world&quot;</span>)</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;clock&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使其分组"><a href="#使其分组" class="headerlink" title="使其分组"></a>使其分组</h3><p>添加 <code>.listStyle(GroupedListStyle())</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">  <span class="type">Section</span>(header: <span class="type">Text</span>(<span class="string">&quot;UIKit&quot;</span>),</span><br><span class="line">    footer: <span class="type">Text</span>(<span class="string">&quot;我们会想念你的&quot;</span>)) &#123;</span><br><span class="line">      <span class="type">Text</span>(<span class="string">&quot;UITableView&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">Section</span>(header: <span class="type">Text</span>(<span class="string">&quot;SwiftUI&quot;</span>),</span><br><span class="line">    footer: <span class="type">Text</span>(<span class="string">&quot;要学的东西很多&quot;</span>)) &#123;</span><br><span class="line">      <span class="type">Text</span>(<span class="string">&quot;List&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;.listStyle(<span class="type">GroupedListStyle</span>())</span><br></pre></td></tr></table></figure>
<!--rehype:className=wrap-text -->

<h3 id="插入分组"><a href="#插入分组" class="headerlink" title="插入分组"></a>插入分组</h3><!--rehype:wrap-class=col-span-2 row-span-2-->

<p>要使其插入分组(<code>.insetGrouped</code>)，请添加 <code>.listStyle(GroupedListStyle())</code> 并强制使用常规水平尺寸类 <code>.environment(\.horizontalSizeClass, .regular)</code>。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">List</span> &#123;</span><br><span class="line">    <span class="type">Section</span>(header: <span class="type">Text</span>(<span class="string">&quot;UIKit&quot;</span>), footer: <span class="type">Text</span>(<span class="string">&quot;We will miss you&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;UITableView&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">Section</span>(header: <span class="type">Text</span>(<span class="string">&quot;SwiftUI&quot;</span>), footer: <span class="type">Text</span>(<span class="string">&quot;A lot to learn&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;List&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;.listStyle(<span class="type">GroupedListStyle</span>())</span><br><span class="line">.environment(\.horizontalSizeClass, .regular)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>插图分组已添加到 <code>iOS 13.2</code> 中的 <code>SwiftUI</code></p>
</blockquote>
<p>在 <code>iOS 14</code> 中，我们为此设置了专用样式。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">.listStyle(<span class="type">InsetGroupedListStyle</span>())</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/list">List</a></p>
<h3 id="ScrollView-滚动视图"><a href="#ScrollView-滚动视图" class="headerlink" title="ScrollView 滚动视图"></a>ScrollView 滚动视图</h3><p>滚动视图。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">ScrollView</span>(alwaysBounceVertical: <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="type">Image</span>(<span class="string">&quot;foo&quot;</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/scrollview">ScrollView</a></p>
<h2 id="Containers-容器"><a href="#Containers-容器" class="headerlink" title="Containers(容器)"></a>Containers(容器)</h2><h3 id="NavigationView"><a href="#NavigationView" class="headerlink" title="NavigationView"></a>NavigationView</h3><p><code>NavigationView</code> 或多或少类似于 <code>UINavigationController</code>，它处理视图之间的导航，显示标题，将导航栏放在顶部。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        .navigationBarTitle(<span class="type">Text</span>(<span class="string">&quot;World&quot;</span>), displayMode: .inline)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>大标题使用 <code>.large</code> 将条形图项添加到导航视图</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">  <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">      .navigationBarTitle(<span class="type">Text</span>(<span class="string">&quot;World&quot;</span>), displayMode: .inline)</span><br><span class="line">      .navigationBarItems(</span><br><span class="line">        trailing:</span><br><span class="line">            <span class="type">Button</span>(</span><br><span class="line">                action: &#123; <span class="built_in">print</span>(<span class="string">&quot;Going to Setting&quot;</span>) &#125;,</span><br><span class="line">                label: &#123; <span class="type">Text</span>(<span class="string">&quot;Setting&quot;</span>) &#125;</span><br><span class="line">            )</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="NavigationLink"><a href="#NavigationLink" class="headerlink" title="NavigationLink"></a>NavigationLink</h3><p>按下时触发导航演示的按钮。这是 <code>pushViewController</code> 的替代品</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">NavigationLink</span>(destination:</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Detail&quot;</span>)</span><br><span class="line">        .navigationBarTitle(<span class="type">Text</span>(<span class="string">&quot;Detail&quot;</span>))</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Push&quot;</span>)</span><br><span class="line">    &#125;.navigationBarTitle(<span class="type">Text</span>(<span class="string">&quot;Master&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者通过将组目标添加到自己的视图 <code>DetailView</code> 中，使其更具可读性</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">NavigationLink</span>(destination: <span class="type">DetailView</span>()) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Push&quot;</span>)</span><br><span class="line">    &#125;.navigationBarTitle(<span class="type">Text</span>(<span class="string">&quot;Master&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Group"><a href="#Group" class="headerlink" title="Group"></a>Group</h3><p>Group 创建多个视图作为一个视图，同时也避免了 Stack 的10视图最大限制</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Group</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">Group</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="TabView"><a href="#TabView" class="headerlink" title="TabView"></a>TabView</h3><!--rehype:wrap-class=row-span-2-->

<p>一个视图，允许使用可交互的用户界面元素在多个子视图之间进行切换。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;First View&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">        .tabItem(&#123; <span class="type">Text</span>(<span class="string">&quot;First&quot;</span>) &#125;)</span><br><span class="line">        .tag(<span class="number">0</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Second View&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">        .tabItem(&#123; <span class="type">Text</span>(<span class="string">&quot;Second&quot;</span>) &#125;)</span><br><span class="line">        .tag(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>图像和文本在一起。 您可以在此处使用 <code>SF Symbol</code>。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;First View&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">        .tabItem(&#123;</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">&quot;circle&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;First&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        .tag(<span class="number">0</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Second View&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">        .tabItem(<span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Image</span>(<span class="string">&quot;second&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Second&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        .tag(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者您可以省略 <code>VStack</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">TabView</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;First View&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">        .tabItem(&#123;</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">&quot;circle&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;First&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        .tag(<span class="number">0</span>)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Second View&quot;</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">        .tabItem(&#123;</span><br><span class="line">            <span class="type">Image</span>(<span class="string">&quot;second&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Second&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        .tag(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h3><!--rehype:wrap-class=col-span-2-->

<p>用于对用于数据输入的控件（例如在设置或检查器中）进行分组的容器。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">Form</span> &#123;</span><br><span class="line">        <span class="type">Section</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Plain Text&quot;</span>)</span><br><span class="line">            <span class="type">Stepper</span>(value: <span class="variable">$quantity</span>, in: <span class="number">0</span><span class="operator">...</span><span class="number">10</span>, label: &#123; <span class="type">Text</span>(<span class="string">&quot;Quantity&quot;</span>) &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Section</span> &#123;</span><br><span class="line">            <span class="type">DatePicker</span>(<span class="variable">$date</span>, label: &#123; <span class="type">Text</span>(<span class="string">&quot;Due Date&quot;</span>) &#125;)</span><br><span class="line">            <span class="type">Picker</span>(selection: <span class="variable">$selection</span>, label:</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;Picker Name&quot;</span>)</span><br><span class="line">                , content: &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Value 1&quot;</span>).tag(<span class="number">0</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Value 2&quot;</span>).tag(<span class="number">1</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Value 3&quot;</span>).tag(<span class="number">2</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">&quot;Value 4&quot;</span>).tag(<span class="number">3</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>您几乎可以在此表单中放入任何内容，它将为表单呈现适当的样式。文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/form">Form</a></p>
<h3 id="Modal"><a href="#Modal" class="headerlink" title="Modal"></a>Modal</h3><p>Modal 过渡。我们可以显示基于布尔的 Modal。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> isModal: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> modal: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Modal&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Button</span>(<span class="string">&quot;Modal&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.isModal <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">&#125;.sheet(isPresented: <span class="variable">$isModal</span>, content: &#123;</span><br><span class="line">    <span class="keyword">self</span>.modal</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/view/3352791-sheet">Sheet</a></p>
<h3 id="Alert"><a href="#Alert" class="headerlink" title="Alert"></a>Alert</h3><p>警报演示的容器。我们可以根据布尔值显示Alert。</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> isError: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="type">Button</span>(<span class="string">&quot;Alert&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.isError <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">&#125;.alert(isPresented: <span class="variable">$isError</span>, content: &#123;</span><br><span class="line">    <span class="type">Alert</span>(title: <span class="type">Text</span>(<span class="string">&quot;Error&quot;</span>),</span><br><span class="line">      message: <span class="type">Text</span>(<span class="string">&quot;Error Reason&quot;</span>),</span><br><span class="line">      dismissButton: .default(<span class="type">Text</span>(<span class="string">&quot;OK&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Alert-也与可识别项绑定"><a href="#Alert-也与可识别项绑定" class="headerlink" title="Alert 也与可识别项绑定"></a>Alert 也与可识别项绑定</h3><!--rehype:wrap-class=row-span-2-->

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> error: <span class="type">AlertError</span>?</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(<span class="string">&quot;Alert Error&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.error <span class="operator">=</span> <span class="type">AlertError</span>(reason: <span class="string">&quot;Reason&quot;</span>)</span><br><span class="line">    &#125;.alert(item: <span class="variable">$error</span>, content: &#123; error <span class="keyword">in</span></span><br><span class="line">        alert(reason: error.reason)</span><br><span class="line">    &#125;)    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">alert</span>(<span class="params">reason</span>: <span class="type">String</span>) -&gt; <span class="type">Alert</span> &#123;</span><br><span class="line">    <span class="type">Alert</span>(title: <span class="type">Text</span>(<span class="string">&quot;Error&quot;</span>),</span><br><span class="line">            message: <span class="type">Text</span>(reason),</span><br><span class="line">            dismissButton: .default(<span class="type">Text</span>(<span class="string">&quot;OK&quot;</span>))</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">AlertError</span>: <span class="title class_ inherited__">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> reason</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> reason: <span class="type">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/alert">Alert</a></p>
<h3 id="ActionSheet"><a href="#ActionSheet" class="headerlink" title="ActionSheet"></a>ActionSheet</h3><p>操作表演示文稿的存储类型。我们可以显示基于布尔值的 <code>ActionSheet</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> isSheet: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> actionSheet: <span class="type">ActionSheet</span> &#123;</span><br><span class="line">  <span class="type">ActionSheet</span>(title: <span class="type">Text</span>(<span class="string">&quot;Action&quot;</span>),</span><br><span class="line">    message: <span class="type">Text</span>(<span class="string">&quot;Description&quot;</span>),</span><br><span class="line">    buttons: [</span><br><span class="line">      .default(<span class="type">Text</span>(<span class="string">&quot;OK&quot;</span>), action: &#123;</span><br><span class="line">          </span><br><span class="line">      &#125;),</span><br><span class="line">      .destructive(<span class="type">Text</span>(<span class="string">&quot;Delete&quot;</span>), action: &#123;</span><br><span class="line">          </span><br><span class="line">      &#125;)</span><br><span class="line">    ]</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Button</span>(<span class="string">&quot;Action Sheet&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.isSheet <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">&#125;.actionSheet(isPresented: <span class="variable">$isSheet</span>,</span><br><span class="line">  content: &#123;</span><br><span class="line">    <span class="keyword">self</span>.actionSheet</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="ActionSheet-也与可识别项绑定"><a href="#ActionSheet-也与可识别项绑定" class="headerlink" title="ActionSheet 也与可识别项绑定"></a>ActionSheet 也与可识别项绑定</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> sheetDetail: <span class="type">SheetDetail</span>?</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(<span class="string">&quot;Action Sheet&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sheetDetail <span class="operator">=</span> <span class="type">ModSheetDetail</span>(body: <span class="string">&quot;Detail&quot;</span>)</span><br><span class="line">    &#125;.actionSheet(item: <span class="variable">$sheetDetail</span>, content: &#123; detail <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">self</span>.sheet(detail: detail.body)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">sheet</span>(<span class="params">detail</span>: <span class="type">String</span>) -&gt; <span class="type">ActionSheet</span> &#123;</span><br><span class="line">    <span class="type">ActionSheet</span>(title: <span class="type">Text</span>(<span class="string">&quot;Action&quot;</span>),</span><br><span class="line">                message: <span class="type">Text</span>(detail),</span><br><span class="line">                buttons: [</span><br><span class="line">                    .default(<span class="type">Text</span>(<span class="string">&quot;OK&quot;</span>), action: &#123;</span><br><span class="line">                        </span><br><span class="line">                    &#125;),</span><br><span class="line">                    .destructive(<span class="type">Text</span>(<span class="string">&quot;Delete&quot;</span>), action: &#123;</span><br><span class="line">                        </span><br><span class="line">                    &#125;)</span><br><span class="line">                ]</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SheetDetail</span>: <span class="title class_ inherited__">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> body</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> body: <span class="type">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文档 - <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/actionsheet">ActionSheet</a></p>
<h2 id="SwiftData"><a href="#SwiftData" class="headerlink" title="SwiftData"></a>SwiftData</h2><h3 id="SwiftData声明"><a href="#SwiftData声明" class="headerlink" title="SwiftData声明"></a>SwiftData声明</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftData</span><br><span class="line"><span class="comment">// 通过@Model宏来定义模型schema</span></span><br><span class="line"><span class="comment">// 支持基础值类型String、Int、CGFloat等</span></span><br><span class="line"><span class="comment">// 支持复杂类型Struct、Enum、Codable、集合等</span></span><br><span class="line"><span class="meta">@Model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">age</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.id <span class="operator">=</span> <span class="type">UUID</span>().uuidString</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="keyword">self</span>.age <span class="operator">=</span> age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="声明-Attribute"><a href="#声明-Attribute" class="headerlink" title="声明@Attribute"></a>声明@Attribute</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="comment">// @Attribute(.unique)为id添加唯一约束</span></span><br><span class="line">    <span class="meta">@Attribute</span>(.unique) <span class="keyword">var</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">age</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.id <span class="operator">=</span> <span class="type">UUID</span>().uuidString</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="keyword">self</span>.age <span class="operator">=</span> age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="声明-Relationship"><a href="#声明-Relationship" class="headerlink" title="声明@Relationship"></a>声明@Relationship</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="meta">@Attribute</span>(.unique) </span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">    <span class="comment">// @Relationship(deleteRule: .cascade) </span></span><br><span class="line">    <span class="comment">// 使得Person在数据库里被删除时</span></span><br><span class="line">    <span class="comment">// 删除掉所有关联的students</span></span><br><span class="line">    <span class="meta">@Relationship</span>(deleteRule: .cascade)</span><br><span class="line">    <span class="keyword">var</span> students: [<span class="type">Student</span>]<span class="operator">?</span> <span class="operator">=</span> []</span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>, <span class="params">age</span>: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.id <span class="operator">=</span> <span class="type">UUID</span>().uuidString</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">        <span class="keyword">self</span>.age <span class="operator">=</span> age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="声明Transient"><a href="#声明Transient" class="headerlink" title="声明Transient"></a>声明Transient</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Model</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="meta">@Attribute</span>(.unique) </span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="comment">// @Transient表示不要持久化这个属性</span></span><br><span class="line">    <span class="comment">// 需要提供一个默认值</span></span><br><span class="line">    <span class="meta">@Transient</span></span><br><span class="line">    <span class="keyword">var</span> age: <span class="type">Int</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.id <span class="operator">=</span> <span class="type">UUID</span>().uuidString</span><br><span class="line">        <span class="keyword">self</span>.name <span class="operator">=</span> name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Query"><a href="#Query" class="headerlink" title="@Query"></a>@Query</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span>  &#123;</span><br><span class="line">    <span class="comment">// Query 可以高效地查询大型数据集，并自定义返回内容的方式，如排序、过滤</span></span><br><span class="line">    <span class="meta">@Query</span>(sort: \.age, order: .reverse) <span class="keyword">var</span> persons: [<span class="type">Person</span>]</span><br><span class="line">    <span class="meta">@Environment</span>(\.modelContext) <span class="keyword">var</span> modelContext</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">       <span class="type">NavigationStack</span>() &#123;</span><br><span class="line">          <span class="type">List</span> &#123;</span><br><span class="line">             <span class="type">ForEach</span>(trips) &#123; trip <span class="keyword">in</span> </span><br><span class="line">                 <span class="comment">// ...</span></span><br><span class="line">             &#125;</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="构建ModelContainer"><a href="#构建ModelContainer" class="headerlink" title="构建ModelContainer"></a>构建ModelContainer</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 用 Schema 进行初始化</span></span><br><span class="line"><span class="keyword">let</span> container <span class="operator">=</span> <span class="keyword">try</span> <span class="type">ModelContainer</span>(for: <span class="type">Person</span>.<span class="keyword">self</span>)</span><br><span class="line"><span class="comment">// 用配置（ModelConfiguration）初始化</span></span><br><span class="line"><span class="keyword">let</span> container <span class="operator">=</span> <span class="keyword">try</span> <span class="type">ModelContainer</span>(</span><br><span class="line">    for: <span class="type">Person</span>.<span class="keyword">self</span>,</span><br><span class="line">    configurations: <span class="type">ModelConfiguration</span>(url: <span class="type">URL</span>(<span class="string">&quot;path&quot;</span>))</span><br><span class="line">)</span><br><span class="line"><span class="comment">// 通过View 和 Scene 的修饰器来快速关联一个 ModelContainer</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">SwiftDataDemoApp</span>: <span class="title class_ inherited__">App</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">Scene</span> &#123;</span><br><span class="line">        <span class="type">WindowGroup</span> &#123;</span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        .modelContainer(for: <span class="type">Person</span>.<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="构建ModelContext"><a href="#构建ModelContext" class="headerlink" title="构建ModelContext"></a>构建ModelContext</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 在配置Model Container完成后</span></span><br><span class="line"><span class="comment">// 通过Environment 来访问到 modelContext</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContextView</span> : <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@Environment</span>(\.modelContext) </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> context</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者直接获取共享的主Actor context</span></span><br><span class="line"><span class="keyword">let</span> context <span class="operator">=</span> container.mainContext</span><br><span class="line"><span class="comment">// 或者直接初始化一个新的Context</span></span><br><span class="line"><span class="keyword">let</span> context <span class="operator">=</span> <span class="type">ModelContext</span>(container)</span><br></pre></td></tr></table></figure>

<h3 id="增、删、改"><a href="#增、删、改" class="headerlink" title="增、删、改"></a>增、删、改</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person <span class="operator">=</span> <span class="type">Person</span>(name: <span class="string">&quot;Lily&quot;</span>, age: <span class="number">10</span>)</span><br><span class="line"><span class="comment">// Insert a new person</span></span><br><span class="line">context.insert(person)</span><br><span class="line"><span class="comment">// Delete an existing person</span></span><br><span class="line">context.delete(person)</span><br><span class="line"><span class="comment">// Manually save changes to the context</span></span><br><span class="line"><span class="keyword">try</span> context.save()</span><br></pre></td></tr></table></figure>

<h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><!--rehype:wrap-class=col-span-2-->

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> personPredicate <span class="operator">=</span> #<span class="type">Predicate</span>&lt;<span class="type">Person</span>&gt; &#123;</span><br><span class="line">    <span class="variable">$0</span>.name <span class="operator">==</span> <span class="string">&quot;Lily&quot;</span> <span class="operator">&amp;&amp;</span></span><br><span class="line">    <span class="variable">$0</span>.age <span class="operator">==</span> <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> descriptor <span class="operator">=</span> <span class="type">FetchDescriptor</span>&lt;<span class="type">Person</span>&gt;(predicate: personPredicate)</span><br><span class="line"><span class="keyword">let</span> persons <span class="operator">=</span> <span class="keyword">try?</span> context.fetch(descriptor)</span><br></pre></td></tr></table></figure>

<h2 id="另见"><a href="#另见" class="headerlink" title="另见"></a>另见</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/SimpleBoilerplates/SwiftUI-Cheat-Sheet">SwiftUI 2.0 Cheat Sheet</a> <em>(github.com)</em></li>
<li><a target="_blank" rel="noopener" href="https://wangchujiang.com/swiftui-example/cheat-sheet.html">SwiftUI 2.0 备忘清单</a> <em>(swiftui-example)</em></li>
<li><a href="./swift.md">Swift 备忘清单</a> <em>(jaywcjlove.github.io)</em></li>
</ul>
</div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">毅栈</div><div class="author-info__description">记录生活，分享技术。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/caoyixiong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;amp;uin=409677557&amp;amp;site=qq&amp;amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #24292e;"></i></a><a class="social-icon" href="/img/wechat.jpg" target="_blank" title="微信"><i class="fab fa-weixin" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/caoyixiong" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:409677557@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果阅读过程中遇到了问题，请及时评论或者留言，看到了会在第一时间给出回复。</div></div><!-- !=partial('includes/widget/card_wx', {}, {cache: true})--><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/adab0374.html" title="Node 多版本管理">Node 多版本管理</a><time datetime="2024-08-27T12:54:37.582Z" title="发表于 2024-08-27 20:54:37">2024-08-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/5c3d4808.html" title="第一个Go程序">第一个Go程序</a><time datetime="2024-08-23T16:46:21.634Z" title="发表于 2024-08-24 00:46:21">2024-08-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/65b9ed48.html" title="GOPATH">GOPATH</a><time datetime="2024-08-21T16:28:07.159Z" title="发表于 2024-08-22 00:28:07">2024-08-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/6b9fbde2.html" title="Gin 快速入门">Gin 快速入门</a><time datetime="2024-08-19T17:27:21.321Z" title="发表于 2024-08-20 01:27:21">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/a25657cf.html" title="Go 环境搭建">Go 环境搭建</a><time datetime="2024-08-19T17:27:21.321Z" title="发表于 2024-08-20 01:27:21">2024-08-20</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Node/"><span class="card-category-list-name">Node</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Ubuntu/"><span class="card-category-list-name">Ubuntu</span><span class="card-category-list-count">3</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Crontab/" style="font-size: 1.1em; color: #999">Crontab</a> <a href="/tags/Go/" style="font-size: 1.5em; color: #99a9bf">Go</a> <a href="/tags/AWK/" style="font-size: 1.1em; color: #999">AWK</a> <a href="/tags/LAMP/" style="font-size: 1.1em; color: #999">LAMP</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 1.1em; color: #999">主题</a> <a href="/tags/Gin/" style="font-size: 1.1em; color: #999">Gin</a> <a href="/tags/Nvm/" style="font-size: 1.1em; color: #999">Nvm</a> <a href="/tags/LNMP/" style="font-size: 1.1em; color: #999">LNMP</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">2024年08月</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">2020年07月</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">2020年03月</span><span class="card-archive-list-count">4</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">12</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2016-05-13T00:30:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">9.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-31T16:53:18.465Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home.jpg')"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">公益广告</p><div class="bg-ad"><div>国家反诈中心是国务院打击治理电信网络新型违法犯罪工作部际联席会议合成作战平台，集资源整合、情报研判、侦查指挥为一体，在打击、防范、治理电信网络诈骗等新型违法犯罪中发挥着重要作用。</div><div class="btn-xz-box"><a class="btn-xz" href="https://caoyixiong.com/">主页</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">导航</p><ul class="ft-links"><li><a href="https://caoyixiong.com/about/">关于博主</a><a href="https://caoyixiong.com/categories/">文章分类</a></li><li><a href="https://caoyixiong.com/sponsor/">来杯咖啡</a><a href="https://caoyixiong.com/tags/">文章标签</a></li><li><a href="https://caoyixiong.com/comments/">说点什么</a><a href="https://caoyixiong.com/archives/">文章归档</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">友链</p><div class="ft-img-group"><div class="img-group-item"><a href="https://caoyixiong.com/"><img src="/img/avatar.jpg" alt=""/></a></div></div></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo-8sxa.vercel.app',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script data-pjax defer src="https://npm.elemecdn.com/tzy-blog/lib/js/theme/chocolate.js"></script><script data-pjax defer src="/js/cursor.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.22.1/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.65.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>