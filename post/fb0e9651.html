<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Go 常用命令 | 太空毅栈</title><meta name="author" content="太空毅栈"><meta name="copyright" content="太空毅栈"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文主要分享go语言中一些常用的命令，包括使用、命令底层执行过、区别等。预了解本部分内容，需要对go源码文件的分类及代码包有一定的了解，如果你也是新手，可以先移步这里 GO常用命令详解查看go全部命令可以通过以下命令来查看go的命令有哪些，以及每个命令的含义 arduino 代码解读复制代码执行：go help结果打印：Usage:	go &lt;command&gt; [arguments]Th">
<meta property="og:type" content="article">
<meta property="og:title" content="Go 常用命令">
<meta property="og:url" content="https://caoyixiong.com/post/fb0e9651.html">
<meta property="og:site_name" content="太空毅栈">
<meta property="og:description" content="本文主要分享go语言中一些常用的命令，包括使用、命令底层执行过、区别等。预了解本部分内容，需要对go源码文件的分类及代码包有一定的了解，如果你也是新手，可以先移步这里 GO常用命令详解查看go全部命令可以通过以下命令来查看go的命令有哪些，以及每个命令的含义 arduino 代码解读复制代码执行：go help结果打印：Usage:	go &lt;command&gt; [arguments]Th">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://caoyixiong.com/img/avatar.jpg">
<meta property="article:published_time" content="2024-08-19T17:11:37.729Z">
<meta property="article:modified_time" content="2024-08-19T18:10:14.734Z">
<meta property="article:author" content="太空毅栈">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://caoyixiong.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/logo.png"><link rel="canonical" href="https://caoyixiong.com/post/fb0e9651.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"3NQ1I8Z7GZ","apiKey":"df5bcd27157ba7efa007752258f185fd","indexName":"blog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 太空毅栈","link":"链接: ","source":"来源: 太空毅栈","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Go 常用命令',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-20 02:10:14'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/universe.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/home.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="太空毅栈"><img class="site-icon" src="/img/logo.png"/><span class="site-name">太空毅栈</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/reference/"><i class="fa-fw fas fa-list"></i><span> 备忘清单</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Go 常用命令</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-19T17:11:37.729Z" title="发表于 2024-08-20 01:11:37">2024-08-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-19T18:10:14.734Z" title="更新于 2024-08-20 02:10:14">2024-08-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Go/">Go</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Go 常用命令"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>本文主要分享go语言中一些常用的命令，包括使用、命令底层执行过、区别等。预了解本部分内容，需要对go源码文件的分类及代码包有一定的了解，如果你也是新手，可以先移步<a target="_blank" rel="noopener" href="https://juejin.cn/post/6991686092093128734">这里</a></p>
<h1 id="GO常用命令详解"><a href="#GO常用命令详解" class="headerlink" title="GO常用命令详解"></a>GO常用命令详解</h1><h2 id="查看go全部命令"><a href="#查看go全部命令" class="headerlink" title="查看go全部命令"></a>查看go全部命令</h2><p>可以通过以下命令来查看go的命令有哪些，以及每个命令的含义</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">arduino 代码解读复制代码执行：go help</span><br><span class="line"></span><br><span class="line">结果打印：</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line"></span><br><span class="line">	go &lt;command&gt; [arguments]</span><br><span class="line"></span><br><span class="line">The commands are:</span><br><span class="line"></span><br><span class="line">	bug         start a bug report  打开错误报告</span><br><span class="line">	build       compile packages <span class="keyword">and</span> dependencies  <span class="comment">//编译包和依赖</span></span><br><span class="line">	clean       remove object files <span class="keyword">and</span> cached files  <span class="comment">//删除目标文件和缓存文件</span></span><br><span class="line">	doc         show documentation <span class="keyword">for</span> package <span class="keyword">or</span> symbol <span class="comment">//打印附于Go语言程序实体上的文档（在非 main 包下，执行 go doc 打印当前代码包文档及其程序实体列表（程序实体：变量、常量、函数、结构体以及接口））</span></span><br><span class="line">	env         print Go environment information <span class="comment">//打印go环境变量信息</span></span><br><span class="line">	fix         update packages to use <span class="keyword">new</span> APIs  <span class="comment">//更新包以使用新的API</span></span><br><span class="line">	fmt         <span class="built_in">gofmt</span> (reformat) package sources <span class="comment">//格式化代码文件（Go语言的开发团队制定了统一的官方代码风格，并且推出了 gofmt 工具（gofmt 或 go fmt）来帮助开发者格式化他们的代码到统一的风格）</span></span><br><span class="line">	generate    generate Go files by processing source <span class="comment">//go generate命令是在Go语言 1.4 版本里面新添加的一个命令，当运行该命令时，它将扫描与当前包相关的源代码文件，找出所有包含//go:generate的特殊注释，提取并执行该特殊注释后面的命令</span></span><br><span class="line">	get         download <span class="keyword">and</span> install packages <span class="keyword">and</span> dependencies  <span class="comment">//下载并安装软件包和依赖项</span></span><br><span class="line">	install     compile <span class="keyword">and</span> install packages <span class="keyword">and</span> dependencies <span class="comment">//编译和安装包和依赖项</span></span><br><span class="line">	list        list packages <span class="keyword">or</span> modules  <span class="comment">//列出包或模块</span></span><br><span class="line">	mod         <span class="keyword">module</span> maintenance <span class="comment">//模块管理</span></span><br><span class="line">	run         compile <span class="keyword">and</span> run Go program  <span class="comment">//编译和运行一个go程序</span></span><br><span class="line">	test        test packages <span class="comment">//测试包</span></span><br><span class="line">	tool        run specified go tool <span class="comment">// 运行指定的 go 工具</span></span><br><span class="line">	version     print Go version <span class="comment">//打印go的版本信息</span></span><br><span class="line">	vet         report likely mistakes in packages <span class="comment">// 报告包中可能存在的错误</span></span><br></pre></td></tr></table></figure>

<h2 id="查看go指定命令的用法"><a href="#查看go指定命令的用法" class="headerlink" title="查看go指定命令的用法"></a>查看go指定命令的用法</h2><figure class="highlight vbnet"><table><tr><td class="code"><pre><span class="line">vbnet 代码解读复制代码方法：go help 命令名称（以env命令为例）</span><br><span class="line">执行：go help env</span><br><span class="line">打印结果：</span><br><span class="line"></span><br><span class="line"><span class="symbol">usage:</span> go env [-json] [-u] [-w] [var ...]</span><br><span class="line"></span><br><span class="line">Env prints Go environment information.</span><br><span class="line"></span><br><span class="line"><span class="keyword">By</span> <span class="keyword">default</span> env prints information <span class="keyword">as</span> a shell script</span><br><span class="line">(<span class="keyword">on</span> Windows, a batch file). <span class="keyword">If</span> one <span class="built_in">or</span> more variable</span><br><span class="line">names <span class="built_in">is</span> given <span class="keyword">as</span> arguments, env prints the value <span class="keyword">of</span></span><br><span class="line"><span class="keyword">each</span> named variable <span class="keyword">on</span> its own line.</span><br><span class="line"></span><br><span class="line">The -json flag prints the environment <span class="keyword">in</span> JSON format</span><br><span class="line">instead <span class="keyword">of</span> <span class="keyword">as</span> a shell script.</span><br><span class="line"></span><br><span class="line">The -u flag requires one <span class="built_in">or</span> more arguments <span class="built_in">and</span> unsets</span><br><span class="line">the <span class="keyword">default</span> setting <span class="keyword">for</span> the named environment variables,</span><br><span class="line"><span class="keyword">if</span> one has been <span class="keyword">set</span> <span class="keyword">with</span> <span class="comment">&#x27;go env -w&#x27;.</span></span><br><span class="line"></span><br><span class="line">The -w flag requires one <span class="built_in">or</span> more arguments <span class="keyword">of</span> the</span><br><span class="line">form NAME=VALUE <span class="built_in">and</span> changes the <span class="keyword">default</span> settings</span><br><span class="line"><span class="keyword">of</span> the named environment variables <span class="keyword">to</span> the given values.</span><br><span class="line"></span><br><span class="line"><span class="keyword">For</span> more about environment variables, see <span class="comment">&#x27;go help environment&#x27;.</span></span><br></pre></td></tr></table></figure>

<h1 id="常用命令详解"><a href="#常用命令详解" class="headerlink" title="常用命令详解"></a>常用命令详解</h1><p>虽然go的命令有十几个，但是我们最常用到的并没有几个，下边下详细介绍：go build、go get、go install、go run，这四个最常用的命令</p>
<h2 id="四个常用命令的通用参数"><a href="#四个常用命令的通用参数" class="headerlink" title="四个常用命令的通用参数"></a>四个常用命令的通用参数</h2><ul>
<li><strong>-a</strong>：用于<strong>强制重新编译所有涉及的Go语言代码包</strong>（包括 Go 语言标准库中的代码包），<strong>即使它们已经是最新的了</strong>。该标记可以让我们有机会通过改动底层的代码包做一些实验。假设我有一个命令源码，它里边导入了代码包A，而这个代码包A，我之前编译过，并且编译之后，A这个源码包中的代码，没有产生任何的变化，go run命令在不加任何参数的默认情况下，是不会再次编译它的，但是加上-a参数之后，会再次它们，即使他们的归档文件已经存在，并且已经是最新的</li>
<li><strong>-n</strong>：<strong>仅打印其执行过程中用到的所有命令，而不去真正执行它们</strong>。如果只想查看或者验证命令的执行过程，而不想改变任何东西（不想产生任何后果），使用它正好合适</li>
<li><strong>-p n</strong>：该命令是go run特有的。<strong>并行编译，其中n为并行的数量</strong>。现在已经是多核时代，我们的计算机可能有多个CPU，或者我们的计算机有多个核，这个并行编译的标记，会使go run命令的编译操作更加迅速。<strong>这个n的值，最好设置成当前计算机的逻辑CPU个数</strong>。假设我们的计算机有两个CPU，每个CPU有两个核，那么这台计算机的逻辑CPU就是4</li>
<li><strong>-v</strong>：<strong>用于打印命令执行过程中涉及的代码包（列出被编译的代码包名称）</strong> 。包括我们指定的目标代码包，并且有时还会包括该代码包直接或间接依赖的那些代码包。这会让你知道哪些代码包被执行过了。<strong>注意：在go的1.3版本中，-v参数打印出来的代码包，包含go语言自带的标准库的代码包。但是，在go的1.4版本中，-v参数打印出来的代码包，不包含go语言自带的标准库的代码包（就算我们导入了go标准库的代码包，使用-v参数，也不会打印出来）</strong></li>
<li><strong>-work</strong>：<strong>用于打印命令执行时生成和使用的临时工作目录的名字，且命令执行完成后不删除它</strong>。这个目录下的文件可能会对你有用，也可以从侧面了解命令的执行过程。<strong>如果不添加此标记，那么临时工作目录会在命令执行完毕前删除</strong>。</li>
<li><strong>-x</strong>：打印编译过程中用到的所有命令，<strong>并同时执行它们</strong>。（而-n参数是不真正执行它们）</li>
<li><strong>-race</strong>：<strong>用于检测并报告指定 Go 语言程序中存在的数据竞争问题</strong>。当用 Go 语言编写并发程序的时候，这是很重要的检测手段之一</li>
</ul>
<p>下边在介绍go的具体命令时，会展示各个参数的使用及效果</p>
<h2 id="go-run"><a href="#go-run" class="headerlink" title="go run"></a>go run</h2><p>go run是专门用来运行<strong>命令源码文件</strong>的命令。并不是用来运行所有的go源码文件的</p>
<p>go run 命令只能接受一<strong>个命令源码文件</strong>以及<strong>若干个库源码文件</strong>（必须同属于 main 包）作为文件参数，且不能接受测试源码文件。这也就是说，go run命令后边可以跟多个源码文件，但其中只能有一个命令源码文件</p>
<h3 id="go-run命令内部的操作步骤"><a href="#go-run命令内部的操作步骤" class="headerlink" title="go run命令内部的操作步骤"></a>go run命令内部的操作步骤</h3><p>它会先编译作为文件参数的源码文件，将他们的编译结果，放到一个临时文件夹中，然后再去运行这个编译的结果，这个编译结果包括命令源码文件被编译后生成的<strong>可执行文件</strong> 以及 相关库源码文件编译后生成的<strong>归档文件</strong>（可能不太容易理解这段话，往下看示例）</p>
<p>下边通过代码示例来演示各个参数的作用及效果</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> 代码解读复制代码在我的工作目录下有一个命令源码文件study.<span class="keyword">go</span>，内容如下</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Just a test&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="n参数演示"><a href="#n参数演示" class="headerlink" title="-n参数演示"></a>-n参数演示</h3><p>使用-n参数来看编译执行一个命令源码文件过程中用到的命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash 代码解读复制代码执行：go run -n study.go</span><br><span class="line"></span><br><span class="line">打印结果：</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/</span><br><span class="line"><span class="built_in">cat</span> &gt;<span class="variable">$WORK</span>/b001/importcfg &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> <span class="comment"># internal</span></span><br><span class="line"><span class="comment"># import config</span></span><br><span class="line">packagefile <span class="built_in">fmt</span>=/usr/local/go/pkg/darwin_amd64/fmt.a</span><br><span class="line">packagefile runtime=/usr/local/go/pkg/darwin_amd64/runtime.a</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">cd</span> /Users/shulv/studySpace/GolangProject/src/entry</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/compile -o <span class="variable">$WORK</span>/b001/_pkg_.a -trimpath <span class="string">&quot;<span class="variable">$WORK</span>/b001=&gt;&quot;</span> -p main -complete -buildid OZxgjhaidDSIEHCDtqvJ/OZxgjhaidDSIEHCDtqvJ -dwarf=<span class="literal">false</span> -goversion go1.16.6 -D _/Users/shulv/studySpace/GolangProject/src/entry -importcfg <span class="variable">$WORK</span>/b001/importcfg -pack -c=4 ./study.go</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/buildid -w <span class="variable">$WORK</span>/b001/_pkg_.a <span class="comment"># internal</span></span><br><span class="line"><span class="built_in">cat</span> &gt;<span class="variable">$WORK</span>/b001/importcfg.link &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> <span class="comment"># internal</span></span><br><span class="line">packagefile command-line-arguments=<span class="variable">$WORK</span>/b001/_pkg_.a</span><br><span class="line">packagefile <span class="built_in">fmt</span>=/usr/local/go/pkg/darwin_amd64/fmt.a</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">packagefile internal/race=/usr/local/go/pkg/darwin_amd64/internal/race.a</span><br><span class="line">packagefile path=/usr/local/go/pkg/darwin_amd64/path.a</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/exe/</span><br><span class="line"><span class="built_in">cd</span> .</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/link -o <span class="variable">$WORK</span>/b001/exe/study -importcfg <span class="variable">$WORK</span>/b001/importcfg.link -s -w -buildmode=exe -buildid=445UgZBfJLTSQgITptfl/OZxgjhaidDSIEHCDtqvJ/OZxgjhaidDSIEHCDtqvJ/445UgZBfJLTSQgITptfl -extld=clang <span class="variable">$WORK</span>/b001/_pkg_.a</span><br><span class="line"><span class="variable">$WORK</span>/b001/exe/study</span><br></pre></td></tr></table></figure>

<p>执行结果看起来好像很乱，但实际上，它做了以下几件事</p>
<ol>
<li><strong>创建一个临时目录b001</strong>：mkdir -p WORK&#x2F;b001&#x2F;（这个WORK&#x2F;b001&#x2F;（这个WORK&#x2F;b001&#x2F;（这个WORK不知道对应的是哪个路径没关系，别忘了我们还有-work参数，可以打印生成的临时工作目录）</li>
<li><strong>查找依赖信息</strong>：cat &gt;$WORK&#x2F;b001&#x2F;importcfg &lt;&lt; …</li>
<li><strong>执行源代码编译</strong>：&#x2F;usr&#x2F;local&#x2F;go&#x2F;pkg&#x2F;tool&#x2F;darwin_amd64&#x2F;compile -o …</li>
<li><strong>收集链接库文件</strong>：cat &gt;$WORK&#x2F;b001&#x2F;importcfg.link &lt;&lt; …</li>
<li><strong>在b001中创建临时目录exe</strong>：mkdir -p $WORK&#x2F;b001&#x2F;exe&#x2F;</li>
<li><strong>生成可执行文件</strong>：&#x2F;usr&#x2F;local&#x2F;go&#x2F;pkg&#x2F;tool&#x2F;darwin_amd64&#x2F;link -o …</li>
<li><strong>运行可执行文件</strong></li>
</ol>
<p>从结果中可以看出来，-n参数只打印了过程中所使用到的命令，并没有真正的执行，因为最后在执行可执行文件的时候，并没有将”Just a test“给打印出来</p>
<h3 id="work参数演示"><a href="#work参数演示" class="headerlink" title="-work参数演示"></a>-work参数演示</h3><p>使用-work参数，打印出执行过程中生成的临时工作目录</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> 代码解读复制代码执行：<span class="keyword">go</span> run -work study.<span class="keyword">go</span></span><br><span class="line"></span><br><span class="line">打印结果：</span><br><span class="line">WORK=/<span class="keyword">var</span>/folders/v2/<span class="number">8</span>n4xnrln7l34q18v_2dt6tdr0000gn/T/<span class="keyword">go</span>-build1801219739</span><br><span class="line">Just a test</span><br></pre></td></tr></table></figure>

<p>可以看到结果中展示了临时目录的路径 和 源码文件的执行结果。因为使用-work参数之后，临时目录不会被删除，所以我们可以到这个临时目录中看其结构</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash 代码解读复制代码临时目录路径：/var/folders/v2/8n4xnrln7l34q18v_2dt6tdr0000gn/T/go-build1801219739</span><br><span class="line">目录结构：</span><br><span class="line">.</span><br><span class="line">└── b001</span><br><span class="line">    ├── _pkg_.a</span><br><span class="line">    ├── exe</span><br><span class="line">    │   └── study</span><br><span class="line">    ├── importcfg</span><br><span class="line">    └── importcfg.link</span><br></pre></td></tr></table></figure>

<h3 id="a参数演示"><a href="#a参数演示" class="headerlink" title="-a参数演示"></a>-a参数演示</h3><p><strong>-a</strong>参数用于<strong>强制重新编译所有涉及的Go语言代码包</strong>（包括 Go 语言标准库中的代码包），<strong>即使它们已经是最新的了</strong></p>
<p>上边我们已经对study.go文件编译执行过一次了，并且没有对文件内容进行修改。如果我们不使用-a参数，而是直接执行go run，它将不会再次执行编译过程，而是直接链接后执行。下边借助-n参数来证明一下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash 代码解读复制代码在源码文件没有被修改的情况下，再次执行：go run -n study.go</span><br><span class="line"></span><br><span class="line">打印结果：</span><br><span class="line">go run -n study.go </span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/</span><br><span class="line"><span class="built_in">cat</span> &gt;<span class="variable">$WORK</span>/b001/importcfg.link &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> <span class="comment"># internal</span></span><br><span class="line">packagefile command-line-arguments=/Users/shulv/Library/Caches/go-build/d9/d98055ba422899604fd059aa39fc27972585449930cdd8fc3858b6149a749b27-d</span><br><span class="line">packagefile <span class="built_in">fmt</span>=/usr/local/go/pkg/darwin_amd64/fmt.a</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">packagefile internal/race=/usr/local/go/pkg/darwin_amd64/internal/race.a</span><br><span class="line">packagefile path=/usr/local/go/pkg/darwin_amd64/path.a</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/exe/</span><br><span class="line"><span class="built_in">cd</span> .</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/link -o <span class="variable">$WORK</span>/b001/exe/study -importcfg <span class="variable">$WORK</span>/b001/importcfg.link -s -w -buildmode=exe -buildid=A5ZhwB9IgatL5rEMAAB6/OZxgjhaidDSIEHCDtqvJ/jKFA8Xft5BKXCFiDMFrC/A5ZhwB9IgatL5rEMAAB6 -extld=clang /Users/shulv/Library/Caches/go-build/d9/d98055ba422899604fd059aa39fc27972585449930cdd8fc3858b6149a749b27-d</span><br><span class="line"><span class="variable">$WORK</span>/b001/exe/study</span><br></pre></td></tr></table></figure>

<p>因为不加-work参数，在每次编译执行的后，会将临时目录删除，所以我们每次在执行go run的时候，它都会先创建临时目录，所以我们看到了：mkdir -p $WORK&#x2F;b001&#x2F;。然后我们看到查找完依赖之后，它接着创建了临时目录exe，后边就直接执行了link操作，最后执行了可执行文件。中间没有了编译操作</p>
<p>此时你可以在保证源文件没有修改的情况下，加上-a参数，会发现此时源文件被强制编译了，哪怕源文件没有修改（我这里就不再贴执行结果了）</p>
<h3 id="x参数演示"><a href="#x参数演示" class="headerlink" title="-x参数演示"></a>-x参数演示</h3><p>-x打印编译过程中用到的所有命令，并执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash 代码解读复制代码执行：go run -x study.go</span><br><span class="line"></span><br><span class="line">打印结果：</span><br><span class="line"></span><br><span class="line">WORK=/var/folders/v2/8n4xnrln7l34q18v_2dt6tdr0000gn/T/go-build168647433</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/</span><br><span class="line"><span class="built_in">cat</span> &gt;<span class="variable">$WORK</span>/b001/importcfg.link &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> <span class="comment"># internal</span></span><br><span class="line">packagefile command-line-arguments=/Users/shulv/Library/Caches/go-build/0a/0a84b98e4a2edf7cf6661ae1c30d9abe59977dff84f8a95dc3527499292fd168-d</span><br><span class="line">packagefile studygo=/Users/shulv/Library/Caches/go-build/b8/b826e18cb44b50e651c70cd14a931a1ed5e8e7669f7340c31b947ac8043787c4-d</span><br><span class="line">packagefile runtime=/usr/local/go/pkg/darwin_amd64/runtime.a</span><br><span class="line">......</span><br><span class="line">packagefile internal/race=/usr/local/go/pkg/darwin_amd64/internal/race.a</span><br><span class="line">packagefile path=/usr/local/go/pkg/darwin_amd64/path.a</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/exe/</span><br><span class="line"><span class="built_in">cd</span> .</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/link -o <span class="variable">$WORK</span>/b001/exe/study -importcfg <span class="variable">$WORK</span>/b001/importcfg.link -s -w -buildmode=exe -buildid=POnNYYqFpCxtCoPh1xl9/_rKHpBsVyWow7NdS85MK/3k-oIa2YhBkHW0aWVSoW/POnNYYqFpCxtCoPh1xl9 -extld=clang /Users/shulv/Library/Caches/go-build/0a/0a84b98e4a2edf7cf6661ae1c30d9abe59977dff84f8a95dc3527499292fd168-d</span><br><span class="line"><span class="variable">$WORK</span>/b001/exe/study</span><br><span class="line">Just a <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<p>可以看到输出了整个编译运行过程中执行过的命令，并打印出了命令源码文件的执行结果</p>
<p>综上：go run的执行过程就是：源码 &#x3D;&#x3D;》编译 &#x3D;&#x3D;》连接 &#x3D;&#x3D;》可执行文件&#x3D;&#x3D;》执行输出</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b614c4ba532548dc9223ecd44bf213fd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png"></p>
<h6 id="图片来源：初探-Go-的编译命令执行过程"><a href="#图片来源：初探-Go-的编译命令执行过程" class="headerlink" title="图片来源：初探 Go 的编译命令执行过程"></a>图片来源：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903489986887687#heading-10">初探 Go 的编译命令执行过程</a></h6><h2 id="go-build"><a href="#go-build" class="headerlink" title="go build"></a>go build</h2><p><strong>go build 用于编译我们指定的源码文件或代码包以及它们的依赖包</strong>。<strong>go build完成了源码的编译与可执行文件的生成。go build接收参数为.go文件或目录，默认情况下编译当前目录下所有.go文件</strong></p>
<h3 id="go-build命令用法"><a href="#go-build命令用法" class="headerlink" title="go build命令用法"></a>go build命令用法</h3><ul>
<li><strong>如果go build后边跟的是一个命令源码文件</strong>，会在当前目录下生成一个可执行文件。如果想在$GOPATH&#x2F;bin目录下生成相应的可执行文件，需要执行go install（后边会介绍这个命令）或者使用 go build -o 路径&#x2F;可执行文件名称（如果使用go install命令需要注意：<strong>如果 GOPATH 里面只有一个工作区，就会在当前工作区的 bin 目录下生成相应的可执行文件。如果 GOPATH 下有多个工作区，则是在 GOBIN 下生成对应的可执行文件</strong>）</li>
<li><strong>如果go build后边跟的是一个库源码文件</strong>，它只是检查库源码文件的有效性，只会做检查性的编译，而不会输出任何结果文件</li>
<li><strong>如果仅使用go build，后边不跟任何参数，或者后边跟代码包导入路径</strong>，那么代码包中所有的go文件都会被编译（<strong>但是，go build 会忽略目录下以”_”或者”.”开头的go文件</strong>）</li>
<li><strong>go build 既不能编译包含多个命令源码文件的代码包，也不能同时编译多个命令源码文件</strong>。因为如果把多个命令源码文件作为一个整体看待，那么每个文件中的main函数都属于重名函数，在编译时会抛出重复定义错误</li>
</ul>
<h3 id="go-build命令使用演示"><a href="#go-build命令使用演示" class="headerlink" title="go build命令使用演示"></a>go build命令使用演示</h3><ol>
<li>go build 命令源码文件</li>
</ol>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> 代码解读复制代码目录结构 &amp; 文件内容  还是和上边的示例一样</span><br><span class="line">├── bin</span><br><span class="line">├── pkg</span><br><span class="line">└── src</span><br><span class="line">    ├── entry</span><br><span class="line">    │   └── study.<span class="keyword">go</span> <span class="comment">// 命令源码文件</span></span><br><span class="line">    └── studygo</span><br><span class="line">        └── learnGo.<span class="keyword">go</span> <span class="comment">// 库源码文件</span></span><br><span class="line"></span><br><span class="line">在entry目录下执行：<span class="keyword">go</span> build study.<span class="keyword">go</span></span><br><span class="line">执行完之后，终端上不会有任何输出，此时看一下目录结构</span><br><span class="line">├── bin</span><br><span class="line">├── pkg</span><br><span class="line">└── src</span><br><span class="line">    ├── entry</span><br><span class="line">    │   ├── study <span class="comment">//新生成的可执行文件</span></span><br><span class="line">    │   └── study.<span class="keyword">go</span></span><br><span class="line">    └── studygo</span><br><span class="line">        └── learnGo.<span class="keyword">go</span></span><br></pre></td></tr></table></figure>

<ol>
<li>go build 库源码文件</li>
</ol>
<p>进入到studygo目录下执行：go build learnGo.go。不会生成任何文件，现在可能看不出什么，后边在介绍go build的执行过程时，就会明白，执行这个命令之后，发生了什么</p>
<ol>
<li>go build</li>
</ol>
<p>直接在一个代码包下执行go build，后边不跟任何参数</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> 代码解读复制代码先删除刚才生成的study可执行文件，然后进入到entry目录执行：<span class="keyword">go</span> build</span><br><span class="line"></span><br><span class="line">打印结果：</span><br><span class="line">├── bin</span><br><span class="line">├── pkg</span><br><span class="line">└── src</span><br><span class="line">    ├── entry</span><br><span class="line">    │   ├── entry <span class="comment">//新生成的可执行文件</span></span><br><span class="line">    │   └── study.<span class="keyword">go</span></span><br><span class="line">    └── studygo</span><br><span class="line">        └── learnGo.<span class="keyword">go</span></span><br></pre></td></tr></table></figure>

<p>相信聪明的你已经发现，如果go build后跟命令源码文件时，生成的的可执行文件名和命令源码文件一样，如果单纯执行go build，生成的可执行文件和当前代码包的名称是一样的</p>
<blockquote>
<p>在上边提到的公共参数，在go build中也是适用的，含义相同</p>
</blockquote>
<h3 id="go-build命令执行过程"><a href="#go-build命令执行过程" class="headerlink" title="go build命令执行过程"></a>go build命令执行过程</h3><p>可以利用上边提到的-n参数，来查看go build 在执行过程中都做了些什么</p>
<p><strong>go build编译命令源码文件过程</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash 代码解读复制代码进入到entry目录下执行：go build -n study.go</span><br><span class="line"></span><br><span class="line">打印结果：</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/</span><br><span class="line"><span class="built_in">cat</span> &gt;<span class="variable">$WORK</span>/b001/importcfg &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> <span class="comment"># internal</span></span><br><span class="line"><span class="comment"># import config</span></span><br><span class="line">packagefile <span class="built_in">fmt</span>=/usr/local/go/pkg/darwin_amd64/fmt.a</span><br><span class="line">packagefile runtime=/usr/local/go/pkg/darwin_amd64/runtime.a</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">cd</span> /Users/shulv/studySpace/GolangProject/src/entry</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/compile -o <span class="variable">$WORK</span>/b001/_pkg_.a -trimpath <span class="string">&quot;<span class="variable">$WORK</span>/b001=&gt;&quot;</span> -p main -complete -buildid aPJghGhqw4j27W2678s0/aPJghGhqw4j27W2678s0 -goversion go1.16.6 -D _/Users/shulv/studySpace/GolangProject/src/entry -importcfg <span class="variable">$WORK</span>/b001/importcfg -pack -c=4 ./study.go</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/buildid -w <span class="variable">$WORK</span>/b001/_pkg_.a <span class="comment"># internal</span></span><br><span class="line"><span class="built_in">cat</span> &gt;<span class="variable">$WORK</span>/b001/importcfg.link &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> <span class="comment"># internal</span></span><br><span class="line">packagefile command-line-arguments=<span class="variable">$WORK</span>/b001/_pkg_.a</span><br><span class="line">......</span><br><span class="line">packagefile internal/race=/usr/local/go/pkg/darwin_amd64/internal/race.a</span><br><span class="line">packagefile path=/usr/local/go/pkg/darwin_amd64/path.a</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/exe/</span><br><span class="line"><span class="built_in">cd</span> .</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/link -o <span class="variable">$WORK</span>/b001/exe/a.out -importcfg <span class="variable">$WORK</span>/b001/importcfg.link -buildmode=exe -buildid=ZnGlctoVozInY7SAxZMW/aPJghGhqw4j27W2678s0/aPJghGhqw4j27W2678s0/ZnGlctoVozInY7SAxZMW -extld=clang <span class="variable">$WORK</span>/b001/_pkg_.a</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/buildid -w <span class="variable">$WORK</span>/b001/exe/a.out <span class="comment"># internal</span></span><br><span class="line"><span class="built_in">mv</span> <span class="variable">$WORK</span>/b001/exe/a.out study</span><br></pre></td></tr></table></figure>

<p>可以发现，跟go run命令的执行过程几乎一样，不一样的地方就是在最下边一行。<strong>go run执行了生成的可执行文件，而go build 命令是把可执行文件移动到了当前目录的文件夹中</strong></p>
<p>我们可以通过-work参数来获取到生成的临时目录路径，然后看一下和go run生成的有何不同</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> 代码解读复制代码这里展示一下我执行<span class="keyword">go</span> build -work study.<span class="keyword">go</span>，生成的临时目录结构</span><br><span class="line">.</span><br><span class="line">└── b001</span><br><span class="line">    ├── _pkg_.a</span><br><span class="line">    ├── exe</span><br><span class="line">    ├── importcfg</span><br><span class="line">    └── importcfg.link</span><br><span class="line"></span><br><span class="line">会发现，和<span class="keyword">go</span> run执行之后相比，exe目录下没了可执行文件。原因就是<span class="keyword">go</span> build执行之后，将可执行文件移到当前目录下了</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以发现，go build编译命令源码文件的过程就是：<strong>命令源码文件 &#x3D;&#x3D;》 编译 &#x3D;&#x3D;》链接 &#x3D;&#x3D;》可执行文件</strong></p>
</blockquote>
<p><strong>go build编译库源码文件过程</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash 代码解读复制代码进入studygo目录，执行：go build -n learnGo.go</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/</span><br><span class="line"><span class="built_in">cat</span> &gt;<span class="variable">$WORK</span>/b001/importcfg &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> <span class="comment"># internal</span></span><br><span class="line"><span class="comment"># import config</span></span><br><span class="line">packagefile <span class="built_in">fmt</span>=/usr/local/go/pkg/darwin_amd64/fmt.a</span><br><span class="line">EOF</span><br><span class="line"><span class="built_in">cd</span> /Users/shulv/studySpace/GolangProject/src/studygo</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/compile -o <span class="variable">$WORK</span>/b001/_pkg_.a -trimpath <span class="string">&quot;<span class="variable">$WORK</span>/b001=&gt;&quot;</span> -p command-line-arguments -complete -buildid WkKm9j3sTnSZXyJlO623/WkKm9j3sTnSZXyJlO623 -goversion go1.16.6 -D _/Users/shulv/studySpace/GolangProject/src/studygo -importcfg <span class="variable">$WORK</span>/b001/importcfg -pack -c=4 ./learnGo.go</span><br><span class="line">/usr/local/go/pkg/tool/darwin_amd64/buildid -w <span class="variable">$WORK</span>/b001/_pkg_.a <span class="comment"># internal</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以看到 go build 命令只是把库源码文件编译了一遍，其他什么事情都没有干。所以go build编译库源码文件的过程是：<strong>库源码文件 &#x3D;&#x3D;》 编译</strong> 。很明显，此时go build的作用就是测试库源码文件能否正常编译，用来测试编译</p>
</blockquote>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d8676c99bd9a4d9e819a42432f905cf1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png"></p>
<h6 id="图片来源：初探-Go-的编译命令执行过程-1"><a href="#图片来源：初探-Go-的编译命令执行过程-1" class="headerlink" title="图片来源：初探 Go 的编译命令执行过程"></a>图片来源：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903489986887687#heading-10">初探 Go 的编译命令执行过程</a></h6><h2 id="go-install"><a href="#go-install" class="headerlink" title="go install"></a>go install</h2><p><strong>go install 命令是用来编译并安装代码包或者源码文件的</strong></p>
<h3 id="go-install命令用法"><a href="#go-install命令用法" class="headerlink" title="go install命令用法"></a>go install命令用法</h3><p>当指定的代码包的依赖包还没有被编译和安装时，该命令会先去处理依赖包。与 go build 命令一样，传给 go install 命令的代码包参数应该以导入路径的形式提供。并且，go build 命令的绝大多数标记也都可以用于 go install 命令。实际上，go install 命令只比 go build 命令多做了一件事，即：<strong>安装编译后的结果文件到指定目录</strong></p>
<ul>
<li>安装代码包会在当前工作区的 pkg 的平台相关目录下生成归档文件（即 .a 文件）</li>
<li>安装命令源码文件会在当前工作区的 bin 目录（<strong>如果 GOPATH 下有多个工作区，就会放在 GOBIN 目录下</strong>）生成可执行文件</li>
<li>go install 命令如果后面不追加任何参数，它会把当前目录作为代码包并安装。这和 go build 命令是完全一样的</li>
<li>go install 命令后面如果跟了代码包导入路径作为参数，那么该代码包及其依赖都会被安装</li>
<li>go install 命令后面如果跟了命令源码文件以及相关库源码文件作为参数的话，只有这些被指定的文件会被编译并安装</li>
</ul>
<h3 id="go-install命令使用演示"><a href="#go-install命令使用演示" class="headerlink" title="go install命令使用演示"></a>go install命令使用演示</h3><p><strong>go install 命令源码文件</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> 代码解读复制代码执行：<span class="keyword">go</span> install study.<span class="keyword">go</span></span><br><span class="line"></span><br><span class="line">执行完之后，看目录结构变化</span><br><span class="line">.</span><br><span class="line">├── bin</span><br><span class="line">│   └── study <span class="comment">//新生成的可执行文件</span></span><br><span class="line">├── pkg</span><br><span class="line">└── src</span><br><span class="line">    ├── entry</span><br><span class="line">    │   └── study.<span class="keyword">go</span></span><br><span class="line">    └── studygo</span><br><span class="line">        └── learnGo.<span class="keyword">go</span></span><br></pre></td></tr></table></figure>

<p><strong>go install 库源码文件</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> 代码解读复制代码执行：<span class="keyword">go</span> install</span><br><span class="line"></span><br><span class="line">执行完之后，看目录结构变化：</span><br><span class="line">.</span><br><span class="line">├── bin</span><br><span class="line">│   └── study</span><br><span class="line">├── pkg</span><br><span class="line">│   └── darwin_amd64</span><br><span class="line">│       └── studygo.a <span class="comment">//新生成的归档文件</span></span><br><span class="line">└── src</span><br><span class="line">    ├── entry</span><br><span class="line">    │   └── study.<span class="keyword">go</span></span><br><span class="line">    └── studygo</span><br><span class="line">        └── learnGo.<span class="keyword">go</span></span><br></pre></td></tr></table></figure>

<h3 id="go-install命令执行过程"><a href="#go-install命令执行过程" class="headerlink" title="go install命令执行过程"></a>go install命令执行过程</h3><p>这里不再逐一展示go install编译安装命令源码文件和库源码文件的过程了，大家可以自己动手试试。我这里直接给出结论</p>
<ul>
<li>go install编译安装命令源码文件的过程和go build相比，多了最后一步，go install 会把编译命令源码文件生成的可执行文件安装到当前工作区的 bin 目录（如果 GOPATH 下有多个工作区，就会放在 GOBIN 目录下）</li>
<li>go install编译安装库源码文件的过程和go build相比，go install 会把编译库源码文件生成的归档文件安装到当前工作区的 pkg 目录</li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f6d069971cae412db72404bf36713275~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png"></p>
<h6 id="图片来源：初探-Go-的编译命令执行过程-2"><a href="#图片来源：初探-Go-的编译命令执行过程-2" class="headerlink" title="图片来源：初探 Go 的编译命令执行过程"></a>图片来源：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903489986887687#heading-10">初探 Go 的编译命令执行过程</a></h6><h2 id="go-get"><a href="#go-get" class="headerlink" title="go get"></a>go get</h2><p>go get 命令会自动从主流公用代码仓库下载代码包（比如github），它会<strong>把当前的代码包下载到 $GOPATH 中的第一个工作区的 src 目录中，并安装</strong></p>
<p>go get支持的代码版本控制系统有：Git、SVN、Mercurial(hg)、Bazaar</p>
<h3 id="go-get-命令常用参数"><a href="#go-get-命令常用参数" class="headerlink" title="go get 命令常用参数"></a>go get 命令常用参数</h3><ul>
<li><strong>-d</strong>：<strong>让命令程序只执行下载动作，而不执行安装动作</strong>。有些非常特殊的代码包在安装过程中需要有特殊的处理，我们需要先下载下来，暂时不进行安装动作，此时就可以用-d参数</li>
<li><strong>-u</strong>：<strong>加该参数可利用网络来更新已有代码包及其依赖包</strong>。<strong>默认情况下，该命令只会从网络上下载本地不存在的代码包，而不会更新已有的代码包</strong>。如果已经下载过一个代码包，但是这个代码包又有更新了，那么这时候可以直接用-u参数来更新本地的对应的代码包。如果不加这个-u参数，执行 go get 命令获取一个已有的代码包，会发现命令什么都不执行。只有加了-u参数，命令才会去执行 git pull 命令拉取最新的代码包的最新版本，下载并安装</li>
<li><strong>-f</strong>：<strong>仅在使用-u标记时才有效</strong>。该标记会让命令程序忽略掉对已下载代码包的导入路径的检查。如果下载并安装的代码包所属的项目是你从别人那里 Fork 过来的，那么这样做就尤为重要了</li>
<li><strong>-t</strong>：<strong>让命令程序同时下载并安装指定的代码包中的测试源码文件中依赖的代码包</strong></li>
<li><strong>-fix</strong>：让命令程序在下载代码包后<strong>先执行修正动作</strong>，而后再进行编译和安装</li>
<li><strong>-insecure</strong>：<strong>允许命令程序使用非安全的 scheme（如 HTTP ）去下载指定的代码包</strong>。如果你用的代码仓库（如公司内部的 Gitlab ）没有HTTPS 支持，可以添加此标记。请在确定安全的情况下使用它</li>
</ul>
<p>这里说明一下-fix参数中的修正动作。比如说我们需要下载并安装的代码包，是在很早以前写的，其中使用的语法可能是go 1.0版本之前，而我们当前使用的语法时go1.4，那这其中的一些语法，以及对一些程序实体的使用方式，可能是不兼容的。为了消除这种不兼容，并可以使这个比较久远的代码包，能够被正确的编译和安装，此时就可以使用-fix参数。它会使命令程序，自动的把这些已经废弃的，或者不一样的语法语句、程序实体使用方式，修正成我们当前这个go语言版本所使用的方法和方式</p>
<h3 id="go-get-命令执行过程"><a href="#go-get-命令执行过程" class="headerlink" title="go get 命令执行过程"></a>go get 命令执行过程</h3><p>我这里没有直接演示go get命令的每个参数的使用，大家完全可以自己按照上边其它几个命令的使用方式来自己试一下go get的各个参数的作用。下边通过通用的-x参数，来看一下go get命令的执行过程</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash 代码解读复制代码执行：go get go get -x github.com/go-errors/errors</span><br><span class="line"></span><br><span class="line">打印结果：</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> .</span><br><span class="line">git <span class="built_in">clone</span> -- &lt;https://github.com/go-errors/errors&gt; /Users/shulv/studySpace/GolangProject/src/github.com/go-errors/errors</span><br><span class="line"><span class="built_in">cd</span> /Users/shulv/studySpace/GolangProject/src/github.com/go-errors/errors</span><br><span class="line">git submodule update --init --recursive</span><br><span class="line"><span class="built_in">cd</span> /Users/shulv/studySpace/GolangProject/src/github.com/go-errors/errors</span><br><span class="line">git show-ref</span><br><span class="line"><span class="built_in">cd</span> /Users/shulv/studySpace/GolangProject/src/github.com/go-errors/errors</span><br><span class="line">git submodule update --init --recursive</span><br><span class="line">WORK=/var/folders/v2/8n4xnrln7l34q18v_2dt6tdr0000gn/T/go-build1679859398</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$WORK</span>/b001/</span><br><span class="line"><span class="built_in">mkdir</span> -p /Users/shulv/studySpace/GolangProject/pkg/darwin_amd64/github.com/go-errors/</span><br><span class="line"><span class="built_in">cp</span> /Users/shulv/Library/Caches/go-build/93/939c1986bb74b69ed1998e02c45b4326ba454a566c2996e5997560f8f68db355-d /Users/shulv/studySpace/GolangProject/pkg/darwin_amd64/github.com/go-errors/errors.a</span><br><span class="line"><span class="built_in">rm</span> -r <span class="variable">$WORK</span>/b001/</span><br></pre></td></tr></table></figure>

<p>根据其执行过程可以看到，执行完 go get 命令以后，会调用 git clone 方法下载源码，并编译，最终会把库源码文件编译成归档文件安装到 pkg 对应的相关平台目录下</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a718f40c3b744c28a238ac3c43d84921~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image.png"></p>
<h6 id="图片来源：初探-Go-的编译命令执行过程-3"><a href="#图片来源：初探-Go-的编译命令执行过程-3" class="headerlink" title="图片来源：初探 Go 的编译命令执行过程"></a>图片来源：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903489986887687#heading-10">初探 Go 的编译命令执行过程</a></h6><h1 id="感谢以下优秀文章"><a href="#感谢以下优秀文章" class="headerlink" title="感谢以下优秀文章"></a>感谢以下优秀文章</h1><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903825900322829">Go的执行原理以及Go的命令</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903489986887687">初探 Go 的编译命令执行过程</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904087171907598">golang 标准命令</a></p>
<p><a target="_blank" rel="noopener" href="https://studygolang.com/articles/21091">golang 命令详解</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zyz770834013/article/details/78656985">go run go build go install 命令解释</a></p>
<p><a target="_blank" rel="noopener" href="https://www.imooc.com/video/7208">go命令基础</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/62922404">GO笔记之详解GO的编译执行流程</a></p>
<p>作者：书旅<br>链接：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6992047185340661768">https://juejin.cn/post/6992047185340661768</a><br>来源：稀土掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://caoyixiong.com">太空毅栈</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://caoyixiong.com/post/fb0e9651.html">https://caoyixiong.com/post/fb0e9651.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://caoyixiong.com" target="_blank">太空毅栈</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Go/">Go</a></div><div class="post_share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechatpay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechatpay.jpg" alt="微信支付"/></a><div class="post-qr-code-desc">微信支付</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝支付"/></a><div class="post-qr-code-desc">支付宝支付</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/a25657cf.html" title="Go 环境搭建"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Go 环境搭建</div></div></a></div><div class="next-post pull-right"><a href="/post/6999fca8.html" title="go get 包下载失败"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">go get 包下载失败</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/2ddd6919.html" title="Go 环境变量"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-19</div><div class="title">Go 环境变量</div></div></a></div><div><a href="/post/6999fca8.html" title="go get 包下载失败"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-20</div><div class="title">go get 包下载失败</div></div></a></div><div><a href="/post/a25657cf.html" title="Go 环境搭建"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-20</div><div class="title">Go 环境搭建</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">太空毅栈</div><div class="author-info__description">个人博客，记录生活，分享技术。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/caoyixiong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;amp;uin=409677557&amp;amp;site=qq&amp;amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq" style="color: #24292e;"></i></a><a class="social-icon" href="/img/wechat.jpg" target="_blank" title="微信"><i class="fab fa-weixin" style="color: #24292e;"></i></a><a class="social-icon" href="https://github.com/caoyixiong" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:409677557@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果阅读过程中遇到了问题，请及时评论或者留言，看到了会在第一时间给出回复。</div></div><!-- !=partial('includes/widget/card_wx', {}, {cache: true})--><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#GO%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-text">GO常用命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bgo%E5%85%A8%E9%83%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">查看go全部命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bgo%E6%8C%87%E5%AE%9A%E5%91%BD%E4%BB%A4%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-text">查看go指定命令的用法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-text">常用命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E4%B8%AA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E7%9A%84%E9%80%9A%E7%94%A8%E5%8F%82%E6%95%B0"><span class="toc-text">四个常用命令的通用参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#go-run"><span class="toc-text">go run</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#go-run%E5%91%BD%E4%BB%A4%E5%86%85%E9%83%A8%E7%9A%84%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-text">go run命令内部的操作步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#n%E5%8F%82%E6%95%B0%E6%BC%94%E7%A4%BA"><span class="toc-text">-n参数演示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#work%E5%8F%82%E6%95%B0%E6%BC%94%E7%A4%BA"><span class="toc-text">-work参数演示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#a%E5%8F%82%E6%95%B0%E6%BC%94%E7%A4%BA"><span class="toc-text">-a参数演示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#x%E5%8F%82%E6%95%B0%E6%BC%94%E7%A4%BA"><span class="toc-text">-x参数演示</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%88%9D%E6%8E%A2-Go-%E7%9A%84%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-text">图片来源：初探 Go 的编译命令执行过程</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#go-build"><span class="toc-text">go build</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#go-build%E5%91%BD%E4%BB%A4%E7%94%A8%E6%B3%95"><span class="toc-text">go build命令用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-build%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E6%BC%94%E7%A4%BA"><span class="toc-text">go build命令使用演示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-build%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-text">go build命令执行过程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%88%9D%E6%8E%A2-Go-%E7%9A%84%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B-1"><span class="toc-text">图片来源：初探 Go 的编译命令执行过程</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#go-install"><span class="toc-text">go install</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#go-install%E5%91%BD%E4%BB%A4%E7%94%A8%E6%B3%95"><span class="toc-text">go install命令用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-install%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E6%BC%94%E7%A4%BA"><span class="toc-text">go install命令使用演示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-install%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-text">go install命令执行过程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%88%9D%E6%8E%A2-Go-%E7%9A%84%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B-2"><span class="toc-text">图片来源：初探 Go 的编译命令执行过程</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#go-get"><span class="toc-text">go get</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#go-get-%E5%91%BD%E4%BB%A4%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0"><span class="toc-text">go get 命令常用参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go-get-%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-text">go get 命令执行过程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%88%9D%E6%8E%A2-Go-%E7%9A%84%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B-3"><span class="toc-text">图片来源：初探 Go 的编译命令执行过程</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%84%9F%E8%B0%A2%E4%BB%A5%E4%B8%8B%E4%BC%98%E7%A7%80%E6%96%87%E7%AB%A0"><span class="toc-text">感谢以下优秀文章</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/a25657cf.html" title="Go 环境搭建">Go 环境搭建</a><time datetime="2024-08-19T17:27:21.321Z" title="发表于 2024-08-20 01:27:21">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/fb0e9651.html" title="Go 常用命令">Go 常用命令</a><time datetime="2024-08-19T17:11:37.729Z" title="发表于 2024-08-20 01:11:37">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/6999fca8.html" title="go get 包下载失败">go get 包下载失败</a><time datetime="2024-08-19T16:01:05.960Z" title="发表于 2024-08-20 00:01:05">2024-08-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/2ddd6919.html" title="Go 环境变量">Go 环境变量</a><time datetime="2024-08-19T15:52:17.395Z" title="发表于 2024-08-19 23:52:17">2024-08-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/6b9fbde2.html" title="Gin 快速入门">Gin 快速入门</a><time datetime="2024-07-25T17:11:38.146Z" title="发表于 2024-07-26 01:11:38">2024-07-26</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home.jpg')"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">公益广告</p><div class="bg-ad"><div>国家反诈中心是国务院打击治理电信网络新型违法犯罪工作部际联席会议合成作战平台，集资源整合、情报研判、侦查指挥为一体，在打击、防范、治理电信网络诈骗等新型违法犯罪中发挥着重要作用。</div><div class="btn-xz-box"><a class="btn-xz" href="https://caoyixiong.com/">主页</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">导航</p><ul class="ft-links"><li><a href="https://caoyixiong.com/about/">关于博主</a><a href="https://caoyixiong.com/categories/">文章分类</a></li><li><a href="https://caoyixiong.com/sponsor/">来杯咖啡</a><a href="https://caoyixiong.com/tags/">文章标签</a></li><li><a href="https://caoyixiong.com/comments/">说点什么</a><a href="https://caoyixiong.com/archives/">文章归档</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">友链</p><div class="ft-img-group"><div class="img-group-item"><a href="https://caoyixiong.com/"><img src="/img/avatar.jpg" alt=""/></a></div></div></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-8sxa.vercel.app',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script data-pjax defer src="https://npm.elemecdn.com/tzy-blog/lib/js/theme/chocolate.js"></script><script data-pjax defer src="/js/cursor.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.22.1/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.65.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>